import{$ as ie,$a as Z,$b as Fi,$c as xe,A as Qo,Aa as ns,Ab as cs,Ac as Ci,Ad as Qi,B as Fe,Ba as qe,Bb as qn,Bc as Is,Bd as Gs,C as bi,Ca as Ln,Cb as ds,Cc as di,Cd as qs,D as $,Da as Nn,Db as hs,Dc as xi,Dd as Ks,E as X,Ea as zn,Eb as Ri,Ec as Re,Ed as Je,F as ai,Fa as c,Fb as ps,Fc as Ni,Fd as $s,G as Ce,Ga as h,Gb as bt,Gc as ir,Gd as Ie,H as re,Ha as T,Hb as Kn,Hc as zi,Hd as Xs,I as me,Ia as Ke,Ib as ms,Ic as Ts,Id as Zs,J,Ja as $e,Jb as us,Jc as pe,Jd as va,K as ae,Ka as on,Kb as gs,Kc as da,Kd as sr,L as Go,La as R,Lb as fs,Lc as ha,Ld as Js,M as qo,Ma as jn,Mb as $n,Mc as at,Md as lr,N as j,Na as Bn,Nb as _s,Nc as ks,Nd as el,O,Oa as S,Ob as Xn,Oc as pa,Od as tl,P as oe,Pa as Hn,Pb as K,Pc as As,Pd as il,Q as ze,Qa as x,Qb as Vt,Qc as Ps,Qd as nl,R as Ko,Ra as Be,Rb as Et,Rc as Os,Rd as rl,S as We,Sa as Me,Sb as je,Sc as ji,Sd as al,T as y,Ta as Xe,Tb as vs,Tc as Bi,Td as ol,U as w,Ua as ne,Ub as he,Uc as Rs,V as ue,Va as Y,Vb as It,Vc as nr,W as Ge,Wa as W,Wb as oa,Wc as rr,X as Pn,Xa as Yn,Xb as Ue,Xc as Fs,Y as On,Ya as Wn,Yb as bs,Yc as Tt,Z as Gt,Za as H,Zb as ys,Zc as Vs,_ as $o,_a as D,_b as ws,_c as hi,a as B,aa as P,ab as Ee,ac as sa,ad as ma,b as ye,ba as Rn,bb as Un,bc as Zn,bd as ht,c as zo,ca as Xo,cb as Qn,cc as Jn,cd as Di,d as _i,da as Rt,db as Gn,dc as er,dd as ua,e as Ed,ea as Zo,eb as nt,ec as si,ed as ga,f as we,fa as rn,fb as ee,fc as Cs,fd as Ls,g as Ae,ga as Jo,gb as Oi,gc as xs,gd as Ns,h as jo,ha as _,hb as Ze,hc as la,hd as zs,i as N,ia as m,ib as rs,ic as Xt,id as js,j as ta,ja as es,jb as rt,jc as li,jd as ar,k as Bo,ka as yi,kb as sn,kc as lt,kd as Bs,l as Qt,la as ts,lb as $t,lc as Ds,ld as Hs,m as Ho,ma as is,mb as as,mc as Lt,md as fa,n as Te,na as Fn,nb as Ve,nc as ct,nd as Ne,o as Pi,oa as ge,ob as ra,oc as ca,od as pt,p as Yo,pa as qt,pb as os,pc as Vi,pd as Hi,q as vi,qa as an,qb as de,qc as ln,qd as Ys,r as Wo,ra as Vn,rb as Oe,rc as Ss,rd as Yi,s as ke,sa as Kt,sb as aa,sc as Ms,sd as Ws,t as Se,ta as Ft,tb as ss,tc as Qe,td as Wi,u as kn,ua as k,ub as Le,uc as Es,ud as _a,v as Pe,va as G,vb as ls,vc as cn,vd as Ui,w as ia,wa as b,wb as _t,wc as tr,wd as Us,x as na,xa as ce,xb as vt,xc as Li,xd as or,y as An,ya as q,yb as se,yc as dt,yd as pi,z as Uo,za as wi,zb as oi,zc as ci,zd as Qs}from"./chunk-ZBDDXYEM.js";var Do=_i((Ac,Nr)=>{(function(a,i){typeof define=="function"&&define.amd?define(i):typeof Nr=="object"&&Nr.exports?Nr.exports=i():a.EvEmitter=i()})(typeof window<"u"?window:Ac,function(){"use strict";function a(){}var i=a.prototype;return i.on=function(r,e){if(!(!r||!e)){var t=this._events=this._events||{},n=t[r]=t[r]||[];return n.indexOf(e)==-1&&n.push(e),this}},i.once=function(r,e){if(!(!r||!e)){this.on(r,e);var t=this._onceEvents=this._onceEvents||{},n=t[r]=t[r]||{};return n[e]=!0,this}},i.off=function(r,e){var t=this._events&&this._events[r];if(!(!t||!t.length)){var n=t.indexOf(e);return n!=-1&&t.splice(n,1),this}},i.emitEvent=function(r,e){var t=this._events&&this._events[r];if(!(!t||!t.length)){t=t.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[r],o=0;o<t.length;o++){var s=t[o],l=n&&n[s];l&&(this.off(r,s),delete n[s]),s.apply(this,e)}return this}},i.allOff=function(){delete this._events,delete this._onceEvents},a})});var jr=_i((Ib,zr)=>{(function(a,i){typeof define=="function"&&define.amd?define(i):typeof zr=="object"&&zr.exports?zr.exports=i():a.getSize=i()})(window,function(){"use strict";function i(v){var I=parseFloat(v),E=v.indexOf("%")==-1&&!isNaN(I);return E&&I}function r(){}var e=typeof console>"u"?r:function(v){console.error(v)},t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n=t.length;function o(){for(var v={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},I=0;I<n;I++){var E=t[I];v[E]=0}return v}function s(v){var I=getComputedStyle(v);return I||e("Style returned "+I+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),I}var l=!1,d;function u(){if(!l){l=!0;var v=document.createElement("div");v.style.width="200px",v.style.padding="1px 2px 3px 4px",v.style.borderStyle="solid",v.style.borderWidth="1px 2px 3px 4px",v.style.boxSizing="border-box";var I=document.body||document.documentElement;I.appendChild(v);var E=s(v);d=Math.round(i(E.width))==200,f.isBoxSizeOuter=d,I.removeChild(v)}}function f(v){if(u(),typeof v=="string"&&(v=document.querySelector(v)),!(!v||typeof v!="object"||!v.nodeType)){var I=s(v);if(I.display=="none")return o();var E={};E.width=v.offsetWidth,E.height=v.offsetHeight;for(var C=E.isBorderBox=I.boxSizing=="border-box",p=0;p<n;p++){var g=t[p],M=I[g],A=parseFloat(M);E[g]=isNaN(A)?0:A}var V=E.paddingLeft+E.paddingRight,le=E.paddingTop+E.paddingBottom,te=E.marginLeft+E.marginRight,_e=E.marginTop+E.marginBottom,De=E.borderLeftWidth+E.borderRightWidth,tt=E.borderTopWidth+E.borderBottomWidth,ot=C&&d,Ut=i(I.width);Ut!==!1&&(E.width=Ut+(ot?0:V+De));var it=i(I.height);return it!==!1&&(E.height=it+(ot?0:le+tt)),E.innerWidth=E.width-(V+De),E.innerHeight=E.height-(le+tt),E.outerWidth=E.width+te,E.outerHeight=E.height+_e,E}}return f})});var Pc=_i((Tb,Br)=>{(function(a,i){"use strict";typeof define=="function"&&define.amd?define(i):typeof Br=="object"&&Br.exports?Br.exports=i():a.matchesSelector=i()})(window,function(){"use strict";var i=function(){var r=window.Element.prototype;if(r.matches)return"matches";if(r.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],t=0;t<e.length;t++){var n=e[t],o=n+"MatchesSelector";if(r[o])return o}}();return function(e,t){return e[i](t)}})});var Oc=_i((kb,Hr)=>{(function(a,i){typeof define=="function"&&define.amd?define(["desandro-matches-selector/matches-selector"],function(r){return i(a,r)}):typeof Hr=="object"&&Hr.exports?Hr.exports=i(a,Pc()):a.fizzyUIUtils=i(a,a.matchesSelector)})(window,function(i,r){"use strict";var e={};e.extend=function(o,s){for(var l in s)o[l]=s[l];return o},e.modulo=function(o,s){return(o%s+s)%s};var t=Array.prototype.slice;e.makeArray=function(o){if(Array.isArray(o))return o;if(o==null)return[];var s=typeof o=="object"&&typeof o.length=="number";return s?t.call(o):[o]},e.removeFrom=function(o,s){var l=o.indexOf(s);l!=-1&&o.splice(l,1)},e.getParent=function(o,s){for(;o.parentNode&&o!=document.body;)if(o=o.parentNode,r(o,s))return o},e.getQueryElement=function(o){return typeof o=="string"?document.querySelector(o):o},e.handleEvent=function(o){var s="on"+o.type;this[s]&&this[s](o)},e.filterFindElements=function(o,s){o=e.makeArray(o);var l=[];return o.forEach(function(d){if(d instanceof HTMLElement){if(!s){l.push(d);return}r(d,s)&&l.push(d);for(var u=d.querySelectorAll(s),f=0;f<u.length;f++)l.push(u[f])}}),l},e.debounceMethod=function(o,s,l){l=l||100;var d=o.prototype[s],u=s+"Timeout";o.prototype[s]=function(){var f=this[u];clearTimeout(f);var v=arguments,I=this;this[u]=setTimeout(function(){d.apply(I,v),delete I[u]},l)}},e.docReady=function(o){var s=document.readyState;s=="complete"||s=="interactive"?setTimeout(o):document.addEventListener("DOMContentLoaded",o)},e.toDashed=function(o){return o.replace(/(.)([A-Z])/g,function(s,l,d){return l+"-"+d}).toLowerCase()};var n=i.console;return e.htmlInit=function(o,s){e.docReady(function(){var l=e.toDashed(s),d="data-"+l,u=document.querySelectorAll("["+d+"]"),f=document.querySelectorAll(".js-"+l),v=e.makeArray(u).concat(e.makeArray(f)),I=d+"-options",E=i.jQuery;v.forEach(function(C){var p=C.getAttribute(d)||C.getAttribute(I),g;try{g=p&&JSON.parse(p)}catch(A){n&&n.error("Error parsing "+d+" on "+C.className+": "+A);return}var M=new o(C,g);E&&E.data(C,s,M)})})},e})});var Rc=_i((Ab,Yr)=>{(function(a,i){typeof define=="function"&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size"],i):typeof Yr=="object"&&Yr.exports?Yr.exports=i(Do(),jr()):(a.Outlayer={},a.Outlayer.Item=i(a.EvEmitter,a.getSize))})(window,function(i,r){"use strict";function e(C){for(var p in C)return!1;return p=null,!0}var t=document.documentElement.style,n=typeof t.transition=="string"?"transition":"WebkitTransition",o=typeof t.transform=="string"?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],l={transform:o,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function d(C,p){C&&(this.element=C,this.layout=p,this.position={x:0,y:0},this._create())}var u=d.prototype=Object.create(i.prototype);u.constructor=d,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(C){var p="on"+C.type;this[p]&&this[p](C)},u.getSize=function(){this.size=r(this.element)},u.css=function(C){var p=this.element.style;for(var g in C){var M=l[g]||g;p[M]=C[g]}},u.getPosition=function(){var C=getComputedStyle(this.element),p=this.layout._getOption("originLeft"),g=this.layout._getOption("originTop"),M=C[p?"left":"right"],A=C[g?"top":"bottom"],V=parseFloat(M),le=parseFloat(A),te=this.layout.size;M.indexOf("%")!=-1&&(V=V/100*te.width),A.indexOf("%")!=-1&&(le=le/100*te.height),V=isNaN(V)?0:V,le=isNaN(le)?0:le,V-=p?te.paddingLeft:te.paddingRight,le-=g?te.paddingTop:te.paddingBottom,this.position.x=V,this.position.y=le},u.layoutPosition=function(){var C=this.layout.size,p={},g=this.layout._getOption("originLeft"),M=this.layout._getOption("originTop"),A=g?"paddingLeft":"paddingRight",V=g?"left":"right",le=g?"right":"left",te=this.position.x+C[A];p[V]=this.getXValue(te),p[le]="";var _e=M?"paddingTop":"paddingBottom",De=M?"top":"bottom",tt=M?"bottom":"top",ot=this.position.y+C[_e];p[De]=this.getYValue(ot),p[tt]="",this.css(p),this.emitEvent("layout",[this])},u.getXValue=function(C){var p=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!p?C/this.layout.size.width*100+"%":C+"px"},u.getYValue=function(C){var p=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&p?C/this.layout.size.height*100+"%":C+"px"},u._transitionTo=function(C,p){this.getPosition();var g=this.position.x,M=this.position.y,A=C==this.position.x&&p==this.position.y;if(this.setPosition(C,p),A&&!this.isTransitioning){this.layoutPosition();return}var V=C-g,le=p-M,te={};te.transform=this.getTranslate(V,le),this.transition({to:te,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(C,p){var g=this.layout._getOption("originLeft"),M=this.layout._getOption("originTop");return C=g?C:-C,p=M?p:-p,"translate3d("+C+"px, "+p+"px, 0)"},u.goTo=function(C,p){this.setPosition(C,p),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(C,p){this.position.x=parseFloat(C),this.position.y=parseFloat(p)},u._nonTransition=function(C){this.css(C.to),C.isCleaning&&this._removeStyles(C.to);for(var p in C.onTransitionEnd)C.onTransitionEnd[p].call(this)},u.transition=function(C){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(C);return}var p=this._transn;for(var g in C.onTransitionEnd)p.onEnd[g]=C.onTransitionEnd[g];for(g in C.to)p.ingProperties[g]=!0,C.isCleaning&&(p.clean[g]=!0);if(C.from){this.css(C.from);var M=this.element.offsetHeight;M=null}this.enableTransition(C.to),this.css(C.to),this.isTransitioning=!0};function f(C){return C.replace(/([A-Z])/g,function(p){return"-"+p.toLowerCase()})}var v="opacity,"+f(o);u.enableTransition=function(){if(!this.isTransitioning){var C=this.layout.options.transitionDuration;C=typeof C=="number"?C+"ms":C,this.css({transitionProperty:v,transitionDuration:C,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},u.onwebkitTransitionEnd=function(C){this.ontransitionend(C)},u.onotransitionend=function(C){this.ontransitionend(C)};var I={"-webkit-transform":"transform"};u.ontransitionend=function(C){if(C.target===this.element){var p=this._transn,g=I[C.propertyName]||C.propertyName;if(delete p.ingProperties[g],e(p.ingProperties)&&this.disableTransition(),g in p.clean&&(this.element.style[C.propertyName]="",delete p.clean[g]),g in p.onEnd){var M=p.onEnd[g];M.call(this),delete p.onEnd[g]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},u._removeStyles=function(C){var p={};for(var g in C)p[g]="";this.css(p)};var E={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(E)},u.stagger=function(C){C=isNaN(C)?0:C,this.staggerDelay=C+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){if(!n||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},u.reveal=function(){delete this.isHidden,this.css({display:""});var C=this.layout.options,p={},g=this.getHideRevealTransitionEndProperty("visibleStyle");p[g]=this.onRevealTransitionEnd,this.transition({from:C.hiddenStyle,to:C.visibleStyle,isCleaning:!0,onTransitionEnd:p})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(C){var p=this.layout.options[C];if(p.opacity)return"opacity";for(var g in p)return g},u.hide=function(){this.isHidden=!0,this.css({display:""});var C=this.layout.options,p={},g=this.getHideRevealTransitionEndProperty("hiddenStyle");p[g]=this.onHideTransitionEnd,this.transition({from:C.visibleStyle,to:C.hiddenStyle,isCleaning:!0,onTransitionEnd:p})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},d})});var Fc=_i((Pb,Wr)=>{(function(a,i){"use strict";typeof define=="function"&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(r,e,t,n){return i(a,r,e,t,n)}):typeof Wr=="object"&&Wr.exports?Wr.exports=i(a,Do(),jr(),Oc(),Rc()):a.Outlayer=i(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)})(window,function(i,r,e,t,n){"use strict";var o=i.console,s=i.jQuery,l=function(){},d=0,u={};function f(p,g){var M=t.getQueryElement(p);if(!M){o&&o.error("Bad element for "+this.constructor.namespace+": "+(M||p));return}this.element=M,s&&(this.$element=s(this.element)),this.options=t.extend({},this.constructor.defaults),this.option(g);var A=++d;this.element.outlayerGUID=A,u[A]=this,this._create();var V=this._getOption("initLayout");V&&this.layout()}f.namespace="outlayer",f.Item=n,f.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var v=f.prototype;t.extend(v,r.prototype),v.option=function(p){t.extend(this.options,p)},v._getOption=function(p){var g=this.constructor.compatOptions[p];return g&&this.options[g]!==void 0?this.options[g]:this.options[p]},f.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},v._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t.extend(this.element.style,this.options.containerStyle);var p=this._getOption("resize");p&&this.bindResize()},v.reloadItems=function(){this.items=this._itemize(this.element.children)},v._itemize=function(p){for(var g=this._filterFindItemElements(p),M=this.constructor.Item,A=[],V=0;V<g.length;V++){var le=g[V],te=new M(le,this);A.push(te)}return A},v._filterFindItemElements=function(p){return t.filterFindElements(p,this.options.itemSelector)},v.getItemElements=function(){return this.items.map(function(p){return p.element})},v.layout=function(){this._resetLayout(),this._manageStamps();var p=this._getOption("layoutInstant"),g=p!==void 0?p:!this._isLayoutInited;this.layoutItems(this.items,g),this._isLayoutInited=!0},v._init=v.layout,v._resetLayout=function(){this.getSize()},v.getSize=function(){this.size=e(this.element)},v._getMeasurement=function(p,g){var M=this.options[p],A;M?(typeof M=="string"?A=this.element.querySelector(M):M instanceof HTMLElement&&(A=M),this[p]=A?e(A)[g]:M):this[p]=0},v.layoutItems=function(p,g){p=this._getItemsForLayout(p),this._layoutItems(p,g),this._postLayout()},v._getItemsForLayout=function(p){return p.filter(function(g){return!g.isIgnored})},v._layoutItems=function(p,g){if(this._emitCompleteOnItems("layout",p),!(!p||!p.length)){var M=[];p.forEach(function(A){var V=this._getItemLayoutPosition(A);V.item=A,V.isInstant=g||A.isLayoutInstant,M.push(V)},this),this._processLayoutQueue(M)}},v._getItemLayoutPosition=function(){return{x:0,y:0}},v._processLayoutQueue=function(p){this.updateStagger(),p.forEach(function(g,M){this._positionItem(g.item,g.x,g.y,g.isInstant,M)},this)},v.updateStagger=function(){var p=this.options.stagger;if(p==null){this.stagger=0;return}return this.stagger=C(p),this.stagger},v._positionItem=function(p,g,M,A,V){A?p.goTo(g,M):(p.stagger(V*this.stagger),p.moveTo(g,M))},v._postLayout=function(){this.resizeContainer()},v.resizeContainer=function(){var p=this._getOption("resizeContainer");if(p){var g=this._getContainerSize();g&&(this._setContainerMeasure(g.width,!0),this._setContainerMeasure(g.height,!1))}},v._getContainerSize=l,v._setContainerMeasure=function(p,g){if(p!==void 0){var M=this.size;M.isBorderBox&&(p+=g?M.paddingLeft+M.paddingRight+M.borderLeftWidth+M.borderRightWidth:M.paddingBottom+M.paddingTop+M.borderTopWidth+M.borderBottomWidth),p=Math.max(p,0),this.element.style[g?"width":"height"]=p+"px"}},v._emitCompleteOnItems=function(p,g){var M=this;function A(){M.dispatchEvent(p+"Complete",null,[g])}var V=g.length;if(!g||!V){A();return}var le=0;function te(){le++,le==V&&A()}g.forEach(function(_e){_e.once(p,te)})},v.dispatchEvent=function(p,g,M){var A=g?[g].concat(M):M;if(this.emitEvent(p,A),s)if(this.$element=this.$element||s(this.element),g){var V=s.Event(g);V.type=p,this.$element.trigger(V,M)}else this.$element.trigger(p,M)},v.ignore=function(p){var g=this.getItem(p);g&&(g.isIgnored=!0)},v.unignore=function(p){var g=this.getItem(p);g&&delete g.isIgnored},v.stamp=function(p){p=this._find(p),p&&(this.stamps=this.stamps.concat(p),p.forEach(this.ignore,this))},v.unstamp=function(p){p=this._find(p),p&&p.forEach(function(g){t.removeFrom(this.stamps,g),this.unignore(g)},this)},v._find=function(p){if(p)return typeof p=="string"&&(p=this.element.querySelectorAll(p)),p=t.makeArray(p),p},v._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},v._getBoundingRect=function(){var p=this.element.getBoundingClientRect(),g=this.size;this._boundingRect={left:p.left+g.paddingLeft+g.borderLeftWidth,top:p.top+g.paddingTop+g.borderTopWidth,right:p.right-(g.paddingRight+g.borderRightWidth),bottom:p.bottom-(g.paddingBottom+g.borderBottomWidth)}},v._manageStamp=l,v._getElementOffset=function(p){var g=p.getBoundingClientRect(),M=this._boundingRect,A=e(p),V={left:g.left-M.left-A.marginLeft,top:g.top-M.top-A.marginTop,right:M.right-g.right-A.marginRight,bottom:M.bottom-g.bottom-A.marginBottom};return V},v.handleEvent=t.handleEvent,v.bindResize=function(){i.addEventListener("resize",this),this.isResizeBound=!0},v.unbindResize=function(){i.removeEventListener("resize",this),this.isResizeBound=!1},v.onresize=function(){this.resize()},t.debounceMethod(f,"onresize",100),v.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},v.needsResizeLayout=function(){var p=e(this.element),g=this.size&&p;return g&&p.innerWidth!==this.size.innerWidth},v.addItems=function(p){var g=this._itemize(p);return g.length&&(this.items=this.items.concat(g)),g},v.appended=function(p){var g=this.addItems(p);g.length&&(this.layoutItems(g,!0),this.reveal(g))},v.prepended=function(p){var g=this._itemize(p);if(g.length){var M=this.items.slice(0);this.items=g.concat(M),this._resetLayout(),this._manageStamps(),this.layoutItems(g,!0),this.reveal(g),this.layoutItems(M)}},v.reveal=function(p){if(this._emitCompleteOnItems("reveal",p),!(!p||!p.length)){var g=this.updateStagger();p.forEach(function(M,A){M.stagger(A*g),M.reveal()})}},v.hide=function(p){if(this._emitCompleteOnItems("hide",p),!(!p||!p.length)){var g=this.updateStagger();p.forEach(function(M,A){M.stagger(A*g),M.hide()})}},v.revealItemElements=function(p){var g=this.getItems(p);this.reveal(g)},v.hideItemElements=function(p){var g=this.getItems(p);this.hide(g)},v.getItem=function(p){for(var g=0;g<this.items.length;g++){var M=this.items[g];if(M.element==p)return M}},v.getItems=function(p){p=t.makeArray(p);var g=[];return p.forEach(function(M){var A=this.getItem(M);A&&g.push(A)},this),g},v.remove=function(p){var g=this.getItems(p);this._emitCompleteOnItems("remove",g),!(!g||!g.length)&&g.forEach(function(M){M.remove(),t.removeFrom(this.items,M)},this)},v.destroy=function(){var p=this.element.style;p.height="",p.position="",p.width="",this.items.forEach(function(M){M.destroy()}),this.unbindResize();var g=this.element.outlayerGUID;delete u[g],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},f.data=function(p){p=t.getQueryElement(p);var g=p&&p.outlayerGUID;return g&&u[g]},f.create=function(p,g){var M=I(f);return M.defaults=t.extend({},f.defaults),t.extend(M.defaults,g),M.compatOptions=t.extend({},f.compatOptions),M.namespace=p,M.data=f.data,M.Item=I(n),t.htmlInit(M,p),s&&s.bridget&&s.bridget(p,M),M};function I(p){function g(){p.apply(this,arguments)}return g.prototype=Object.create(p.prototype),g.prototype.constructor=g,g}var E={ms:1,s:1e3};function C(p){if(typeof p=="number")return p;var g=p.match(/(^\d*\.?\d*)(\w*)/),M=g&&g[1],A=g&&g[2];if(!M.length)return 0;M=parseFloat(M);var V=E[A]||1;return M*V}return f.Item=n,f})});var Vc=_i((Ob,Ur)=>{(function(a,i){typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],i):typeof Ur=="object"&&Ur.exports?Ur.exports=i(Fc(),jr()):a.Masonry=i(a.Outlayer,a.getSize)})(window,function(i,r){"use strict";var e=i.create("masonry");e.compatOptions.fitWidth="isFitWidth";var t=e.prototype;return t._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var n=0;n<this.cols;n++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},t.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var n=this.items[0],o=n&&n.element;this.columnWidth=o&&r(o).outerWidth||this.containerWidth}var s=this.columnWidth+=this.gutter,l=this.containerWidth+this.gutter,d=l/s,u=s-l%s,f=u&&u<1?"round":"floor";d=Math[f](d),this.cols=Math.max(d,1)},t.getContainerWidth=function(){var n=this._getOption("fitWidth"),o=n?this.element.parentNode:this.element,s=r(o);this.containerWidth=s&&s.innerWidth},t._getItemLayoutPosition=function(n){n.getSize();var o=n.size.outerWidth%this.columnWidth,s=o&&o<1?"round":"ceil",l=Math[s](n.size.outerWidth/this.columnWidth);l=Math.min(l,this.cols);for(var d=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",u=this[d](l,n),f={x:this.columnWidth*u.col,y:u.y},v=u.y+n.size.outerHeight,I=l+u.col,E=u.col;E<I;E++)this.colYs[E]=v;return f},t._getTopColPosition=function(n){var o=this._getTopColGroup(n),s=Math.min.apply(Math,o);return{col:o.indexOf(s),y:s}},t._getTopColGroup=function(n){if(n<2)return this.colYs;for(var o=[],s=this.cols+1-n,l=0;l<s;l++)o[l]=this._getColGroupY(l,n);return o},t._getColGroupY=function(n,o){if(o<2)return this.colYs[n];var s=this.colYs.slice(n,n+o);return Math.max.apply(Math,s)},t._getHorizontalColPosition=function(n,o){var s=this.horizontalColIndex%this.cols,l=n>1&&s+n>this.cols;s=l?0:s;var d=o.size.outerWidth&&o.size.outerHeight;return this.horizontalColIndex=d?s+n:this.horizontalColIndex,{col:s,y:this._getColGroupY(s,n)}},t._manageStamp=function(n){var o=r(n),s=this._getElementOffset(n),l=this._getOption("originLeft"),d=l?s.left:s.right,u=d+o.outerWidth,f=Math.floor(d/this.columnWidth);f=Math.max(0,f);var v=Math.floor(u/this.columnWidth);v-=u%this.columnWidth?0:1,v=Math.min(this.cols-1,v);for(var I=this._getOption("originTop"),E=(I?s.top:s.bottom)+o.outerHeight,C=f;C<=v;C++)this.colYs[C]=Math.max(E,this.colYs[C])},t._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var n={height:this.maxY};return this._getOption("fitWidth")&&(n.width=this._getContainerFitWidth()),n},t._getContainerFitWidth=function(){for(var n=0,o=this.cols;--o&&this.colYs[o]===0;)n++;return(this.cols-n)*this.columnWidth-this.gutter},t.needsResizeLayout=function(){var n=this.containerWidth;return this.getContainerWidth(),n!=this.containerWidth},e})});function sl(a){return new X(3e3,!1)}function Id(){return new X(3100,!1)}function Td(){return new X(3101,!1)}function kd(a){return new X(3001,!1)}function Ad(a){return new X(3003,!1)}function Pd(a){return new X(3004,!1)}function Od(a,i){return new X(3005,!1)}function Rd(){return new X(3006,!1)}function Fd(){return new X(3007,!1)}function Vd(a,i){return new X(3008,!1)}function Ld(a){return new X(3002,!1)}function Nd(a,i,r,e,t){return new X(3010,!1)}function zd(){return new X(3011,!1)}function jd(){return new X(3012,!1)}function Bd(){return new X(3200,!1)}function Hd(){return new X(3202,!1)}function Yd(){return new X(3013,!1)}function Wd(a){return new X(3014,!1)}function Ud(a){return new X(3015,!1)}function Qd(a){return new X(3016,!1)}function Gd(a,i){return new X(3404,!1)}function qd(a){return new X(3502,!1)}function Kd(a){return new X(3503,!1)}function $d(){return new X(3300,!1)}function Xd(a){return new X(3504,!1)}function Zd(a){return new X(3301,!1)}function Jd(a,i){return new X(3302,!1)}function eh(a){return new X(3303,!1)}function th(a,i){return new X(3400,!1)}function ih(a){return new X(3401,!1)}function nh(a){return new X(3402,!1)}function rh(a,i){return new X(3505,!1)}function mi(a){switch(a.length){case 0:return new Fi;case 1:return a[0];default:return new sa(a)}}function wl(a,i,r=new Map,e=new Map){let t=[],n=[],o=-1,s=null;if(i.forEach(l=>{let d=l.get("offset"),u=d==o,f=u&&s||new Map;l.forEach((v,I)=>{let E=I,C=v;if(I!=="offset")switch(E=a.normalizePropertyName(E,t),C){case Zn:C=r.get(I);break;case Vt:C=e.get(I);break;default:C=a.normalizeStyleValue(I,E,C,t);break}f.set(E,C)}),u||n.push(f),s=f,o=d}),t.length)throw qd(t);return n}function Ba(a,i,r,e){switch(i){case"start":a.onStart(()=>e(r&&ba(r,"start",a)));break;case"done":a.onDone(()=>e(r&&ba(r,"done",a)));break;case"destroy":a.onDestroy(()=>e(r&&ba(r,"destroy",a)));break}}function ba(a,i,r){let e=r.totalTime,t=!!r.disabled,n=Ha(a.element,a.triggerName,a.fromState,a.toState,i||a.phaseName,e??a.totalTime,t),o=a._data;return o!=null&&(n._data=o),n}function Ha(a,i,r,e,t="",n=0,o){return{element:a,triggerName:i,fromState:r,toState:e,phaseName:t,totalTime:n,disabled:!!o}}function ut(a,i,r){let e=a.get(i);return e||a.set(i,e=r),e}function ll(a){let i=a.indexOf(":"),r=a.substring(1,i),e=a.slice(i+1);return[r,e]}var ah=typeof document>"u"?null:document.documentElement;function Ya(a){let i=a.parentNode||a.host||null;return i===ah?null:i}function oh(a){return a.substring(1,6)=="ebkit"}var Si=null,cl=!1;function sh(a){Si||(Si=lh()||{},cl=Si.style?"WebkitAppearance"in Si.style:!1);let i=!0;return Si.style&&!oh(a)&&(i=a in Si.style,!i&&cl&&(i="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in Si.style)),i}function lh(){return typeof document<"u"?document.body:null}function Cl(a,i){for(;i;){if(i===a)return!0;i=Ya(i)}return!1}function xl(a,i,r){if(r)return Array.from(a.querySelectorAll(i));let e=a.querySelector(i);return e?[e]:[]}var Wa=(()=>{let i=class i{validateStyleProperty(e){return sh(e)}matchesElement(e,t){return!1}containsElement(e,t){return Cl(e,t)}getParentElement(e){return Ya(e)}query(e,t,n){return xl(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,o,s,l=[],d){return new Fi(n,o)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let a=i;return a})(),qa=class qa{};qa.NOOP=new Wa;var Ii=qa,Ti=class{};var ch=1e3,Dl="{{",dh="}}",Sl="ng-enter",Sa="ng-leave",cr="ng-trigger",ur=".ng-trigger",dl="ng-animating",Ma=".ng-animating";function Zt(a){if(typeof a=="number")return a;let i=a.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Ea(parseFloat(i[1]),i[2])}function Ea(a,i){switch(i){case"s":return a*ch;default:return a}}function gr(a,i,r){return a.hasOwnProperty("duration")?a:hh(a,i,r)}function hh(a,i,r){let e=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,t,n=0,o="";if(typeof a=="string"){let s=a.match(e);if(s===null)return i.push(sl(a)),{duration:0,delay:0,easing:""};t=Ea(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(n=Ea(parseFloat(l),s[4]));let d=s[5];d&&(o=d)}else t=a;if(!r){let s=!1,l=i.length;t<0&&(i.push(Id()),s=!0),n<0&&(i.push(Td()),s=!0),s&&i.splice(l,0,sl(a))}return{duration:t,delay:n,easing:o}}function ph(a){return a.length?a[0]instanceof Map?a:a.map(i=>new Map(Object.entries(i))):[]}function Nt(a,i,r){i.forEach((e,t)=>{let n=Ua(t);r&&!r.has(t)&&r.set(t,a.style[n]),a.style[n]=e})}function Ei(a,i){i.forEach((r,e)=>{let t=Ua(e);a.style[t]=""})}function dn(a){return Array.isArray(a)?a.length==1?a[0]:vs(a):a}function mh(a,i,r){let e=i.params||{},t=Ml(a);t.length&&t.forEach(n=>{e.hasOwnProperty(n)||r.push(kd(n))})}var Ia=new RegExp(`${Dl}\\s*(.+?)\\s*${dh}`,"g");function Ml(a){let i=[];if(typeof a=="string"){let r;for(;r=Ia.exec(a);)i.push(r[1]);Ia.lastIndex=0}return i}function pn(a,i,r){let e=`${a}`,t=e.replace(Ia,(n,o)=>{let s=i[o];return s==null&&(r.push(Ad(o)),s=""),s.toString()});return t==e?a:t}var uh=/-+([a-z0-9])/g;function Ua(a){return a.replace(uh,(...i)=>i[1].toUpperCase())}function gh(a,i){return a===0||i===0}function fh(a,i,r){if(r.size&&i.length){let e=i[0],t=[];if(r.forEach((n,o)=>{e.has(o)||t.push(o),e.set(o,n)}),t.length)for(let n=1;n<i.length;n++){let o=i[n];t.forEach(s=>o.set(s,Qa(a,s)))}}return i}function mt(a,i,r){switch(i.type){case K.Trigger:return a.visitTrigger(i,r);case K.State:return a.visitState(i,r);case K.Transition:return a.visitTransition(i,r);case K.Sequence:return a.visitSequence(i,r);case K.Group:return a.visitGroup(i,r);case K.Animate:return a.visitAnimate(i,r);case K.Keyframes:return a.visitKeyframes(i,r);case K.Style:return a.visitStyle(i,r);case K.Reference:return a.visitReference(i,r);case K.AnimateChild:return a.visitAnimateChild(i,r);case K.AnimateRef:return a.visitAnimateRef(i,r);case K.Query:return a.visitQuery(i,r);case K.Stagger:return a.visitStagger(i,r);default:throw Pd(i.type)}}function Qa(a,i){return window.getComputedStyle(a)[i]}var _h=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),fr=class extends Ti{normalizePropertyName(i,r){return Ua(i)}normalizeStyleValue(i,r,e,t){let n="",o=e.toString().trim();if(_h.has(r)&&e!==0&&e!=="0")if(typeof e=="number")n="px";else{let s=e.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&t.push(Od(i,e))}return o+n}};var _r="*";function vh(a,i){let r=[];return typeof a=="string"?a.split(/\s*,\s*/).forEach(e=>bh(e,r,i)):r.push(a),r}function bh(a,i,r){if(a[0]==":"){let l=yh(a,r);if(typeof l=="function"){i.push(l);return}a=l}let e=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(e==null||e.length<4)return r.push(Ud(a)),i;let t=e[1],n=e[2],o=e[3];i.push(hl(t,o));let s=t==_r&&o==_r;n[0]=="<"&&!s&&i.push(hl(o,t))}function yh(a,i){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,e)=>parseFloat(e)>parseFloat(r);case":decrement":return(r,e)=>parseFloat(e)<parseFloat(r);default:return i.push(Qd(a)),"* => *"}}var dr=new Set(["true","1"]),hr=new Set(["false","0"]);function hl(a,i){let r=dr.has(a)||hr.has(a),e=dr.has(i)||hr.has(i);return(t,n)=>{let o=a==_r||a==t,s=i==_r||i==n;return!o&&r&&typeof t=="boolean"&&(o=t?dr.has(a):hr.has(a)),!s&&e&&typeof n=="boolean"&&(s=n?dr.has(i):hr.has(i)),o&&s}}var El=":self",wh=new RegExp(`s*${El}s*,?`,"g");function Il(a,i,r,e){return new Ta(a).build(i,r,e)}var pl="",Ta=class{constructor(i){this._driver=i}build(i,r,e){let t=new ka(r);return this._resetContextStyleTimingState(t),mt(this,dn(i),t)}_resetContextStyleTimingState(i){i.currentQuerySelector=pl,i.collectedStyles=new Map,i.collectedStyles.set(pl,new Map),i.currentTime=0}visitTrigger(i,r){let e=r.queryCount=0,t=r.depCount=0,n=[],o=[];return i.name.charAt(0)=="@"&&r.errors.push(Rd()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(r),s.type==K.State){let l=s,d=l.name;d.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,n.push(this.visitState(l,r))}),l.name=d}else if(s.type==K.Transition){let l=this.visitTransition(s,r);e+=l.queryCount,t+=l.depCount,o.push(l)}else r.errors.push(Fd())}),{type:K.Trigger,name:i.name,states:n,transitions:o,queryCount:e,depCount:t,options:null}}visitState(i,r){let e=this.visitStyle(i.styles,r),t=i.options&&i.options.params||null;if(e.containsDynamicStyles){let n=new Set,o=t||{};e.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Ml(l).forEach(d=>{o.hasOwnProperty(d)||n.add(d)})})}),n.size&&r.errors.push(Vd(i.name,[...n.values()]))}return{type:K.State,name:i.name,style:e,options:t?{params:t}:null}}visitTransition(i,r){r.queryCount=0,r.depCount=0;let e=mt(this,dn(i.animation),r),t=vh(i.expr,r.errors);return{type:K.Transition,matchers:t,animation:e,queryCount:r.queryCount,depCount:r.depCount,options:Mi(i.options)}}visitSequence(i,r){return{type:K.Sequence,steps:i.steps.map(e=>mt(this,e,r)),options:Mi(i.options)}}visitGroup(i,r){let e=r.currentTime,t=0,n=i.steps.map(o=>{r.currentTime=e;let s=mt(this,o,r);return t=Math.max(t,r.currentTime),s});return r.currentTime=t,{type:K.Group,steps:n,options:Mi(i.options)}}visitAnimate(i,r){let e=Sh(i.timings,r.errors);r.currentAnimateTimings=e;let t,n=i.styles?i.styles:he({});if(n.type==K.Keyframes)t=this.visitKeyframes(n,r);else{let o=i.styles,s=!1;if(!o){s=!0;let d={};e.easing&&(d.easing=e.easing),o=he(d)}r.currentTime+=e.duration+e.delay;let l=this.visitStyle(o,r);l.isEmptyStep=s,t=l}return r.currentAnimateTimings=null,{type:K.Animate,timings:e,style:t,options:null}}visitStyle(i,r){let e=this._makeStyleAst(i,r);return this._validateStyleAst(e,r),e}_makeStyleAst(i,r){let e=[],t=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of t)typeof s=="string"?s===Vt?e.push(s):r.errors.push(Ld(s)):e.push(new Map(Object.entries(s)));let n=!1,o=null;return e.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!n)){for(let l of s.values())if(l.toString().indexOf(Dl)>=0){n=!0;break}}}),{type:K.Style,styles:e,easing:o,offset:i.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(i,r){let e=r.currentAnimateTimings,t=r.currentTime,n=r.currentTime;e&&n>0&&(n-=e.duration+e.delay),i.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{let d=r.collectedStyles.get(r.currentQuerySelector),u=d.get(l),f=!0;u&&(n!=t&&n>=u.startTime&&t<=u.endTime&&(r.errors.push(Nd(l,u.startTime,u.endTime,n,t)),f=!1),n=u.startTime),f&&d.set(l,{startTime:n,endTime:t}),r.options&&mh(s,r.options,r.errors)})})}visitKeyframes(i,r){let e={type:K.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(zd()),e;let t=1,n=0,o=[],s=!1,l=!1,d=0,u=i.steps.map(g=>{let M=this._makeStyleAst(g,r),A=M.offset!=null?M.offset:Dh(M.styles),V=0;return A!=null&&(n++,V=M.offset=A),l=l||V<0||V>1,s=s||V<d,d=V,o.push(V),M});l&&r.errors.push(jd()),s&&r.errors.push(Bd());let f=i.steps.length,v=0;n>0&&n<f?r.errors.push(Hd()):n==0&&(v=t/(f-1));let I=f-1,E=r.currentTime,C=r.currentAnimateTimings,p=C.duration;return u.forEach((g,M)=>{let A=v>0?M==I?1:v*M:o[M],V=A*p;r.currentTime=E+C.delay+V,C.duration=V,this._validateStyleAst(g,r),g.offset=A,e.styles.push(g)}),e}visitReference(i,r){return{type:K.Reference,animation:mt(this,dn(i.animation),r),options:Mi(i.options)}}visitAnimateChild(i,r){return r.depCount++,{type:K.AnimateChild,options:Mi(i.options)}}visitAnimateRef(i,r){return{type:K.AnimateRef,animation:this.visitReference(i.animation,r),options:Mi(i.options)}}visitQuery(i,r){let e=r.currentQuerySelector,t=i.options||{};r.queryCount++,r.currentQuery=i;let[n,o]=Ch(i.selector);r.currentQuerySelector=e.length?e+" "+n:n,ut(r.collectedStyles,r.currentQuerySelector,new Map);let s=mt(this,dn(i.animation),r);return r.currentQuery=null,r.currentQuerySelector=e,{type:K.Query,selector:n,limit:t.limit||0,optional:!!t.optional,includeSelf:o,animation:s,originalSelector:i.selector,options:Mi(i.options)}}visitStagger(i,r){r.currentQuery||r.errors.push(Yd());let e=i.timings==="full"?{duration:0,delay:0,easing:"full"}:gr(i.timings,r.errors,!0);return{type:K.Stagger,animation:mt(this,dn(i.animation),r),timings:e,options:null}}};function Ch(a){let i=!!a.split(/\s*,\s*/).find(r=>r==El);return i&&(a=a.replace(wh,"")),a=a.replace(/@\*/g,ur).replace(/@\w+/g,r=>ur+"-"+r.slice(1)).replace(/:animating/g,Ma),[a,i]}function xh(a){return a?B({},a):null}var ka=class{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Dh(a){if(typeof a=="string")return null;let i=null;if(Array.isArray(a))a.forEach(r=>{if(r instanceof Map&&r.has("offset")){let e=r;i=parseFloat(e.get("offset")),e.delete("offset")}});else if(a instanceof Map&&a.has("offset")){let r=a;i=parseFloat(r.get("offset")),r.delete("offset")}return i}function Sh(a,i){if(a.hasOwnProperty("duration"))return a;if(typeof a=="number"){let n=gr(a,i).duration;return ya(n,0,"")}let r=a;if(r.split(/\s+/).some(n=>n.charAt(0)=="{"&&n.charAt(1)=="{")){let n=ya(0,0,"");return n.dynamic=!0,n.strValue=r,n}let t=gr(r,i);return ya(t.duration,t.delay,t.easing)}function Mi(a){return a?(a=B({},a),a.params&&(a.params=xh(a.params))):a={},a}function ya(a,i,r){return{duration:a,delay:i,easing:r}}function Ga(a,i,r,e,t,n,o=null,s=!1){return{type:1,element:a,keyframes:i,preStyleProps:r,postStyleProps:e,duration:t,delay:n,totalTime:t+n,easing:o,subTimeline:s}}var mn=class{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,r){let e=this._map.get(i);e||this._map.set(i,e=[]),e.push(...r)}has(i){return this._map.has(i)}clear(){this._map.clear()}},Mh=1,Eh=":enter",Ih=new RegExp(Eh,"g"),Th=":leave",kh=new RegExp(Th,"g");function Tl(a,i,r,e,t,n=new Map,o=new Map,s,l,d=[]){return new Aa().buildKeyframes(a,i,r,e,t,n,o,s,l,d)}var Aa=class{buildKeyframes(i,r,e,t,n,o,s,l,d,u=[]){d=d||new mn;let f=new Pa(i,r,d,t,n,u,[]);f.options=l;let v=l.delay?Zt(l.delay):0;f.currentTimeline.delayNextStep(v),f.currentTimeline.setStyles([o],null,f.errors,l),mt(this,e,f);let I=f.timelines.filter(E=>E.containsAnimation());if(I.length&&s.size){let E;for(let C=I.length-1;C>=0;C--){let p=I[C];if(p.element===r){E=p;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([s],null,f.errors,l)}return I.length?I.map(E=>E.buildKeyframes()):[Ga(r,[],[],[],0,v,"",!1)]}visitTrigger(i,r){}visitState(i,r){}visitTransition(i,r){}visitAnimateChild(i,r){let e=r.subInstructions.get(r.element);if(e){let t=r.createSubContext(i.options),n=r.currentTimeline.currentTime,o=this._visitSubInstructions(e,t,t.options);n!=o&&r.transformIntoNewTimeline(o)}r.previousNode=i}visitAnimateRef(i,r){let e=r.createSubContext(i.options);e.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],r,e),this.visitReference(i.animation,e),r.transformIntoNewTimeline(e.currentTimeline.currentTime),r.previousNode=i}_applyAnimationRefDelays(i,r,e){for(let t of i){let n=t?.delay;if(n){let o=typeof n=="number"?n:Zt(pn(n,t?.params??{},r.errors));e.delayNextStep(o)}}}_visitSubInstructions(i,r,e){let n=r.currentTimeline.currentTime,o=e.duration!=null?Zt(e.duration):null,s=e.delay!=null?Zt(e.delay):null;return o!==0&&i.forEach(l=>{let d=r.appendInstructionToTimeline(l,o,s);n=Math.max(n,d.duration+d.delay)}),n}visitReference(i,r){r.updateOptions(i.options,!0),mt(this,i.animation,r),r.previousNode=i}visitSequence(i,r){let e=r.subContextCount,t=r,n=i.options;if(n&&(n.params||n.delay)&&(t=r.createSubContext(n),t.transformIntoNewTimeline(),n.delay!=null)){t.previousNode.type==K.Style&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vr);let o=Zt(n.delay);t.delayNextStep(o)}i.steps.length&&(i.steps.forEach(o=>mt(this,o,t)),t.currentTimeline.applyStylesToKeyframe(),t.subContextCount>e&&t.transformIntoNewTimeline()),r.previousNode=i}visitGroup(i,r){let e=[],t=r.currentTimeline.currentTime,n=i.options&&i.options.delay?Zt(i.options.delay):0;i.steps.forEach(o=>{let s=r.createSubContext(i.options);n&&s.delayNextStep(n),mt(this,o,s),t=Math.max(t,s.currentTimeline.currentTime),e.push(s.currentTimeline)}),e.forEach(o=>r.currentTimeline.mergeTimelineCollectedStyles(o)),r.transformIntoNewTimeline(t),r.previousNode=i}_visitTiming(i,r){if(i.dynamic){let e=i.strValue,t=r.params?pn(e,r.params,r.errors):e;return gr(t,r.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,r){let e=r.currentAnimateTimings=this._visitTiming(i.timings,r),t=r.currentTimeline;e.delay&&(r.incrementTime(e.delay),t.snapshotCurrentStyles());let n=i.style;n.type==K.Keyframes?this.visitKeyframes(n,r):(r.incrementTime(e.duration),this.visitStyle(n,r),t.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=i}visitStyle(i,r){let e=r.currentTimeline,t=r.currentAnimateTimings;!t&&e.hasCurrentStyleProperties()&&e.forwardFrame();let n=t&&t.easing||i.easing;i.isEmptyStep?e.applyEmptyStep(n):e.setStyles(i.styles,n,r.errors,r.options),r.previousNode=i}visitKeyframes(i,r){let e=r.currentAnimateTimings,t=r.currentTimeline.duration,n=e.duration,s=r.createSubContext().currentTimeline;s.easing=e.easing,i.styles.forEach(l=>{let d=l.offset||0;s.forwardTime(d*n),s.setStyles(l.styles,l.easing,r.errors,r.options),s.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(s),r.transformIntoNewTimeline(t+n),r.previousNode=i}visitQuery(i,r){let e=r.currentTimeline.currentTime,t=i.options||{},n=t.delay?Zt(t.delay):0;n&&(r.previousNode.type===K.Style||e==0&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vr);let o=e,s=r.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!t.optional,r.errors);r.currentQueryTotal=s.length;let l=null;s.forEach((d,u)=>{r.currentQueryIndex=u;let f=r.createSubContext(i.options,d);n&&f.delayNextStep(n),d===r.element&&(l=f.currentTimeline),mt(this,i.animation,f),f.currentTimeline.applyStylesToKeyframe();let v=f.currentTimeline.currentTime;o=Math.max(o,v)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(o),l&&(r.currentTimeline.mergeTimelineCollectedStyles(l),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=i}visitStagger(i,r){let e=r.parentContext,t=r.currentTimeline,n=i.timings,o=Math.abs(n.duration),s=o*(r.currentQueryTotal-1),l=o*r.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":l=s-l;break;case"full":l=e.currentStaggerTime;break}let u=r.currentTimeline;l&&u.delayNextStep(l);let f=u.currentTime;mt(this,i.animation,r),r.previousNode=i,e.currentStaggerTime=t.currentTime-f+(t.startTime-e.currentTimeline.startTime)}},vr={},Pa=class a{constructor(i,r,e,t,n,o,s,l){this._driver=i,this.element=r,this.subInstructions=e,this._enterClassName=t,this._leaveClassName=n,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new br(this._driver,r,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,r){if(!i)return;let e=i,t=this.options;e.duration!=null&&(t.duration=Zt(e.duration)),e.delay!=null&&(t.delay=Zt(e.delay));let n=e.params;if(n){let o=t.params;o||(o=this.options.params={}),Object.keys(n).forEach(s=>{(!r||!o.hasOwnProperty(s))&&(o[s]=pn(n[s],o,this.errors))})}}_copyOptions(){let i={};if(this.options){let r=this.options.params;if(r){let e=i.params={};Object.keys(r).forEach(t=>{e[t]=r[t]})}}return i}createSubContext(i=null,r,e){let t=r||this.element,n=new a(this._driver,t,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(t,e||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(i),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(i){return this.previousNode=vr,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,r,e){let t={duration:r??i.duration,delay:this.currentTimeline.currentTime+(e??0)+i.delay,easing:""},n=new Oa(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,t,i.stretchStartingKeyframe);return this.timelines.push(n),t}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,r,e,t,n,o){let s=[];if(t&&s.push(this.element),i.length>0){i=i.replace(Ih,"."+this._enterClassName),i=i.replace(kh,"."+this._leaveClassName);let l=e!=1,d=this._driver.query(this.element,i,l);e!==0&&(d=e<0?d.slice(d.length+e,d.length):d.slice(0,e)),s.push(...d)}return!n&&s.length==0&&o.push(Wd(r)),s}},br=class a{constructor(i,r,e,t){this._driver=i,this.element=r,this.startTime=e,this._elementTimelineStylesLookup=t,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let r=this._keyframes.size===1&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+i),r&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,r){return this.applyStylesToKeyframe(),new a(this._driver,i,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Mh,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,r){this._localTimelineStyles.set(i,r),this._globalTimelineStyles.set(i,r),this._styleSummary.set(i,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[r,e]of this._globalTimelineStyles)this._backFill.set(r,e||Vt),this._currentKeyframe.set(r,Vt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,r,e,t){r&&this._previousKeyframe.set("easing",r);let n=t&&t.params||{},o=Ah(i,this._globalTimelineStyles);for(let[s,l]of o){let d=pn(l,n,e);this._pendingStyles.set(s,d),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Vt),this._updateStyle(s,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,r)=>{this._currentKeyframe.set(r,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,i)}))}snapshotCurrentStyles(){for(let[i,r]of this._localTimelineStyles)this._pendingStyles.set(i,r),this._updateStyle(i,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let r in this._currentKeyframe)i.push(r);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((r,e)=>{let t=this._styleSummary.get(e);(!t||r.time>t.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,r=new Set,e=this._keyframes.size===1&&this.duration===0,t=[];this._keyframes.forEach((s,l)=>{let d=new Map([...this._backFill,...s]);d.forEach((u,f)=>{u===Zn?i.add(f):u===Vt&&r.add(f)}),e||d.set("offset",l/this.duration),t.push(d)});let n=[...i.values()],o=[...r.values()];if(e){let s=t[0],l=new Map(s);s.set("offset",0),l.set("offset",1),t=[s,l]}return Ga(this.element,t,n,o,this.duration,this.startTime,this.easing,!1)}},Oa=class extends br{constructor(i,r,e,t,n,o,s=!1){super(i,r,o.delay),this.keyframes=e,this.preStyleProps=t,this.postStyleProps=n,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:r,duration:e,easing:t}=this.timings;if(this._stretchStartingKeyframe&&r){let n=[],o=e+r,s=r/o,l=new Map(i[0]);l.set("offset",0),n.push(l);let d=new Map(i[0]);d.set("offset",ml(s)),n.push(d);let u=i.length-1;for(let f=1;f<=u;f++){let v=new Map(i[f]),I=v.get("offset"),E=r+I*e;v.set("offset",ml(E/o)),n.push(v)}e=o,r=0,t="",i=n}return Ga(this.element,i,this.preStyleProps,this.postStyleProps,e,r,t,!0)}};function ml(a,i=3){let r=Math.pow(10,i-1);return Math.round(a*r)/r}function Ah(a,i){let r=new Map,e;return a.forEach(t=>{if(t==="*"){e??=i.keys();for(let n of e)r.set(n,Vt)}else for(let[n,o]of t)r.set(n,o)}),r}function ul(a,i,r,e,t,n,o,s,l,d,u,f,v){return{type:0,element:a,triggerName:i,isRemovalTransition:t,fromState:r,fromStyles:n,toState:e,toStyles:o,timelines:s,queriedElements:l,preStyleProps:d,postStyleProps:u,totalTime:f,errors:v}}var wa={},yr=class{constructor(i,r,e){this._triggerName=i,this.ast=r,this._stateStyles=e}match(i,r,e,t){return Ph(this.ast.matchers,i,r,e,t)}buildStyles(i,r,e){let t=this._stateStyles.get("*");return i!==void 0&&(t=this._stateStyles.get(i?.toString())||t),t?t.buildStyles(r,e):new Map}build(i,r,e,t,n,o,s,l,d,u){let f=[],v=this.ast.options&&this.ast.options.params||wa,I=s&&s.params||wa,E=this.buildStyles(e,I,f),C=l&&l.params||wa,p=this.buildStyles(t,C,f),g=new Set,M=new Map,A=new Map,V=t==="void",le={params:kl(C,v),delay:this.ast.options?.delay},te=u?[]:Tl(i,r,this.ast.animation,n,o,E,p,le,d,f),_e=0;return te.forEach(De=>{_e=Math.max(De.duration+De.delay,_e)}),f.length?ul(r,this._triggerName,e,t,V,E,p,[],[],M,A,_e,f):(te.forEach(De=>{let tt=De.element,ot=ut(M,tt,new Set);De.preStyleProps.forEach(it=>ot.add(it));let Ut=ut(A,tt,new Set);De.postStyleProps.forEach(it=>Ut.add(it)),tt!==r&&g.add(tt)}),ul(r,this._triggerName,e,t,V,E,p,te,[...g.values()],M,A,_e))}};function Ph(a,i,r,e,t){return a.some(n=>n(i,r,e,t))}function kl(a,i){let r=B({},i);return Object.entries(a).forEach(([e,t])=>{t!=null&&(r[e]=t)}),r}var Ra=class{constructor(i,r,e){this.styles=i,this.defaultParams=r,this.normalizer=e}buildStyles(i,r){let e=new Map,t=kl(i,this.defaultParams);return this.styles.styles.forEach(n=>{typeof n!="string"&&n.forEach((o,s)=>{o&&(o=pn(o,t,r));let l=this.normalizer.normalizePropertyName(s,r);o=this.normalizer.normalizeStyleValue(s,l,o,r),e.set(s,o)})}),e}};function Oh(a,i,r){return new Fa(a,i,r)}var Fa=class{constructor(i,r,e){this.name=i,this.ast=r,this._normalizer=e,this.transitionFactories=[],this.states=new Map,r.states.forEach(t=>{let n=t.options&&t.options.params||{};this.states.set(t.name,new Ra(t.style,n,e))}),gl(this.states,"true","1"),gl(this.states,"false","0"),r.transitions.forEach(t=>{this.transitionFactories.push(new yr(i,t,this.states))}),this.fallbackTransition=Rh(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,r,e,t){return this.transitionFactories.find(o=>o.match(i,r,e,t))||null}matchStyles(i,r,e){return this.fallbackTransition.buildStyles(i,r,e)}};function Rh(a,i,r){let e=[(o,s)=>!0],t={type:K.Sequence,steps:[],options:null},n={type:K.Transition,animation:t,matchers:e,options:null,queryCount:0,depCount:0};return new yr(a,n,i)}function gl(a,i,r){a.has(i)?a.has(r)||a.set(r,a.get(i)):a.has(r)&&a.set(i,a.get(r))}var Fh=new mn,Va=class{constructor(i,r,e){this.bodyNode=i,this._driver=r,this._normalizer=e,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,r){let e=[],t=[],n=Il(this._driver,r,e,t);if(e.length)throw Kd(e);t.length&&void 0,this._animations.set(i,n)}_buildPlayer(i,r,e){let t=i.element,n=wl(this._normalizer,i.keyframes,r,e);return this._driver.animate(t,n,i.duration,i.delay,i.easing,[],!0)}create(i,r,e={}){let t=[],n=this._animations.get(i),o,s=new Map;if(n?(o=Tl(this._driver,r,n,Sl,Sa,new Map,new Map,e,Fh,t),o.forEach(u=>{let f=ut(s,u.element,new Map);u.postStyleProps.forEach(v=>f.set(v,null))})):(t.push($d()),o=[]),t.length)throw Xd(t);s.forEach((u,f)=>{u.forEach((v,I)=>{u.set(I,this._driver.computeStyle(f,I,Vt))})});let l=o.map(u=>{let f=s.get(u.element);return this._buildPlayer(u,new Map,f)}),d=mi(l);return this._playersById.set(i,d),d.onDestroy(()=>this.destroy(i)),this.players.push(d),d}destroy(i){let r=this._getPlayer(i);r.destroy(),this._playersById.delete(i);let e=this.players.indexOf(r);e>=0&&this.players.splice(e,1)}_getPlayer(i){let r=this._playersById.get(i);if(!r)throw Zd(i);return r}listen(i,r,e,t){let n=Ha(r,"","","");return Ba(this._getPlayer(i),e,n,t),()=>{}}command(i,r,e,t){if(e=="register"){this.register(i,t[0]);return}if(e=="create"){let o=t[0]||{};this.create(i,r,o);return}let n=this._getPlayer(i);switch(e){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(t[0]));break;case"destroy":this.destroy(i);break}}},fl="ng-animate-queued",Vh=".ng-animate-queued",Ca="ng-animate-disabled",Lh=".ng-animate-disabled",Nh="ng-star-inserted",zh=".ng-star-inserted",jh=[],Al={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kt="__ng_removed",un=class{get params(){return this.options.params}constructor(i,r=""){this.namespaceId=r;let e=i&&i.hasOwnProperty("value"),t=e?i.value:i;if(this.value=Yh(t),e){let n=i,{value:o}=n,s=zo(n,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let r=i.params;if(r){let e=this.options.params;Object.keys(r).forEach(t=>{e[t]==null&&(e[t]=r[t])})}}},hn="void",xa=new un(hn),La=class{constructor(i,r,e){this.id=i,this.hostElement=r,this._engine=e,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,yt(r,this._hostClassName)}listen(i,r,e,t){if(!this._triggers.has(r))throw Jd(e,r);if(e==null||e.length==0)throw eh(r);if(!Wh(e))throw th(e,r);let n=ut(this._elementListeners,i,[]),o={name:r,phase:e,callback:t};n.push(o);let s=ut(this._engine.statesByElement,i,new Map);return s.has(r)||(yt(i,cr),yt(i,cr+"-"+r),s.set(r,xa)),()=>{this._engine.afterFlush(()=>{let l=n.indexOf(o);l>=0&&n.splice(l,1),this._triggers.has(r)||s.delete(r)})}}register(i,r){return this._triggers.has(i)?!1:(this._triggers.set(i,r),!0)}_getTrigger(i){let r=this._triggers.get(i);if(!r)throw ih(i);return r}trigger(i,r,e,t=!0){let n=this._getTrigger(r),o=new gn(this.id,r,i),s=this._engine.statesByElement.get(i);s||(yt(i,cr),yt(i,cr+"-"+r),this._engine.statesByElement.set(i,s=new Map));let l=s.get(r),d=new un(e,this.id);if(!(e&&e.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),s.set(r,d),l||(l=xa),!(d.value===hn)&&l.value===d.value){if(!Gh(l.params,d.params)){let C=[],p=n.matchStyles(l.value,l.params,C),g=n.matchStyles(d.value,d.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Ei(i,p),Nt(i,g)})}return}let v=ut(this._engine.playersByElement,i,[]);v.forEach(C=>{C.namespaceId==this.id&&C.triggerName==r&&C.queued&&C.destroy()});let I=n.matchTransition(l.value,d.value,i,d.params),E=!1;if(!I){if(!t)return;I=n.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:r,transition:I,fromState:l,toState:d,player:o,isFallbackTransition:E}),E||(yt(i,fl),o.onStart(()=>{Gi(i,fl)})),o.onDone(()=>{let C=this.players.indexOf(o);C>=0&&this.players.splice(C,1);let p=this._engine.playersByElement.get(i);if(p){let g=p.indexOf(o);g>=0&&p.splice(g,1)}}),this.players.push(o),v.push(o),o}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(r=>r.delete(i)),this._elementListeners.forEach((r,e)=>{this._elementListeners.set(e,r.filter(t=>t.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let r=this._engine.playersByElement.get(i);r&&(r.forEach(e=>e.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,r){let e=this._engine.driver.query(i,ur,!0);e.forEach(t=>{if(t[kt])return;let n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(o=>o.triggerLeaveAnimation(t,r,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>e.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(i,r,e,t){let n=this._engine.statesByElement.get(i),o=new Map;if(n){let s=[];if(n.forEach((l,d)=>{if(o.set(d,l.value),this._triggers.has(d)){let u=this.trigger(i,d,hn,t);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,r,o),e&&mi(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let r=this._elementListeners.get(i),e=this._engine.statesByElement.get(i);if(r&&e){let t=new Set;r.forEach(n=>{let o=n.name;if(t.has(o))return;t.add(o);let l=this._triggers.get(o).fallbackTransition,d=e.get(o)||xa,u=new un(hn),f=new gn(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:l,fromState:d,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(i,r){let e=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,r),this.triggerLeaveAnimation(i,r,!0))return;let t=!1;if(e.totalAnimations){let n=e.players.length?e.playersByQueriedElement.get(i):[];if(n&&n.length)t=!0;else{let o=i;for(;o=o.parentNode;)if(e.statesByElement.get(o)){t=!0;break}}}if(this.prepareLeaveAnimationListeners(i),t)e.markElementAsRemoved(this.id,i,!1,r);else{let n=i[kt];(!n||n===Al)&&(e.afterFlush(()=>this.clearElementCache(i)),e.destroyInnerAnimations(i),e._onRemovalComplete(i,r))}}insertNode(i,r){yt(i,this._hostClassName)}drainQueuedTransitions(i){let r=[];return this._queue.forEach(e=>{let t=e.player;if(t.destroyed)return;let n=e.element,o=this._elementListeners.get(n);o&&o.forEach(s=>{if(s.name==e.triggerName){let l=Ha(n,e.triggerName,e.fromState.value,e.toState.value);l._data=i,Ba(e.player,s.phase,l,s.callback)}}),t.markedForDestroy?this._engine.afterFlush(()=>{t.destroy()}):r.push(e)}),this._queue=[],r.sort((e,t)=>{let n=e.transition.ast.depCount,o=t.transition.ast.depCount;return n==0||o==0?n-o:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(i){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},Na=class{_onRemovalComplete(i,r){this.onRemovalComplete(i,r)}constructor(i,r,e,t){this.bodyNode=i,this.driver=r,this._normalizer=e,this.scheduler=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,o)=>{}}get queuedPlayers(){let i=[];return this._namespaceList.forEach(r=>{r.players.forEach(e=>{e.queued&&i.push(e)})}),i}createNamespace(i,r){let e=new La(i,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(e,r):(this.newHostElements.set(r,e),this.collectEnterElement(r)),this._namespaceLookup[i]=e}_balanceNamespaceList(i,r){let e=this._namespaceList,t=this.namespacesByHostElement;if(e.length-1>=0){let o=!1,s=this.driver.getParentElement(r);for(;s;){let l=t.get(s);if(l){let d=e.indexOf(l);e.splice(d+1,0,i),o=!0;break}s=this.driver.getParentElement(s)}o||e.unshift(i)}else e.push(i);return t.set(r,i),i}register(i,r){let e=this._namespaceLookup[i];return e||(e=this.createNamespace(i,r)),e}registerTrigger(i,r,e){let t=this._namespaceLookup[i];t&&t.register(r,e)&&this.totalAnimations++}destroy(i,r){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let e=this._fetchNamespace(i);this.namespacesByHostElement.delete(e.hostElement);let t=this._namespaceList.indexOf(e);t>=0&&this._namespaceList.splice(t,1),e.destroy(r),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let r=new Set,e=this.statesByElement.get(i);if(e){for(let t of e.values())if(t.namespaceId){let n=this._fetchNamespace(t.namespaceId);n&&r.add(n)}}return r}trigger(i,r,e,t){if(pr(r)){let n=this._fetchNamespace(i);if(n)return n.trigger(r,e,t),!0}return!1}insertNode(i,r,e,t){if(!pr(r))return;let n=r[kt];if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;let o=this.collectedLeaveElements.indexOf(r);o>=0&&this.collectedLeaveElements.splice(o,1)}if(i){let o=this._fetchNamespace(i);o&&o.insertNode(r,e)}t&&this.collectEnterElement(r)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,r){r?this.disabledNodes.has(i)||(this.disabledNodes.add(i),yt(i,Ca)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Gi(i,Ca))}removeNode(i,r,e){if(pr(r)){this.scheduler?.notify();let t=i?this._fetchNamespace(i):null;t?t.removeNode(r,e):this.markElementAsRemoved(i,r,!1,e);let n=this.namespacesByHostElement.get(r);n&&n.id!==i&&n.removeNode(r,e)}else this._onRemovalComplete(r,e)}markElementAsRemoved(i,r,e,t,n){this.collectedLeaveElements.push(r),r[kt]={namespaceId:i,setForRemoval:t,hasAnimation:e,removedBeforeQueried:!1,previousTriggersValues:n}}listen(i,r,e,t,n){return pr(r)?this._fetchNamespace(i).listen(r,e,t,n):()=>{}}_buildInstruction(i,r,e,t,n){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,e,t,i.fromState.options,i.toState.options,r,n)}destroyInnerAnimations(i){let r=this.driver.query(i,ur,!0);r.forEach(e=>this.destroyActiveAnimationsForElement(e)),this.playersByQueriedElement.size!=0&&(r=this.driver.query(i,Ma,!0),r.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(i){let r=this.playersByElement.get(i);r&&r.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(i){let r=this.playersByQueriedElement.get(i);r&&r.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return mi(this.players).onDone(()=>i());i()})}processLeaveNode(i){let r=i[kt];if(r&&r.setForRemoval){if(i[kt]=Al,r.namespaceId){this.destroyInnerAnimations(i);let e=this._fetchNamespace(r.namespaceId);e&&e.clearElementCache(i)}this._onRemovalComplete(i,r.setForRemoval)}i.classList?.contains(Ca)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Lh,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(i=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){let t=this.collectedEnterElements[e];yt(t,Nh)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let e=[];try{r=this._flushAnimations(e,i)}finally{for(let t=0;t<e.length;t++)e[t]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e];this.processLeaveNode(t)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],r.length?mi(r).onDone(()=>{e.forEach(t=>t())}):e.forEach(t=>t())}}reportError(i){throw nh(i)}_flushAnimations(i,r){let e=new mn,t=[],n=new Map,o=[],s=new Map,l=new Map,d=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);let L=this.driver.query(F,Vh,!0);for(let z=0;z<L.length;z++)u.add(L[z])});let f=this.bodyNode,v=Array.from(this.statesByElement.keys()),I=bl(v,this.collectedEnterElements),E=new Map,C=0;I.forEach((F,L)=>{let z=Sl+C++;E.set(L,z),F.forEach(U=>yt(U,z))});let p=[],g=new Set,M=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){let L=this.collectedLeaveElements[F],z=L[kt];z&&z.setForRemoval&&(p.push(L),g.add(L),z.hasAnimation?this.driver.query(L,zh,!0).forEach(U=>g.add(U)):M.add(L))}let A=new Map,V=bl(v,Array.from(g));V.forEach((F,L)=>{let z=Sa+C++;A.set(L,z),F.forEach(U=>yt(U,z))}),i.push(()=>{I.forEach((F,L)=>{let z=E.get(L);F.forEach(U=>Gi(U,z))}),V.forEach((F,L)=>{let z=A.get(L);F.forEach(U=>Gi(U,z))}),p.forEach(F=>{this.processLeaveNode(F)})});let le=[],te=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(r).forEach(z=>{let U=z.player,fe=z.element;if(le.push(U),this.collectedEnterElements.length){let Ye=fe[kt];if(Ye&&Ye.setForMove){if(Ye.previousTriggersValues&&Ye.previousTriggersValues.has(z.triggerName)){let fi=Ye.previousTriggersValues.get(z.triggerName),ft=this.statesByElement.get(z.element);if(ft&&ft.has(z.triggerName)){let Tn=ft.get(z.triggerName);Tn.value=fi,ft.set(z.triggerName,Tn)}}U.destroy();return}}let Ot=!f||!this.driver.containsElement(f,fe),st=A.get(fe),ri=E.get(fe),be=this._buildInstruction(z,e,ri,st,Ot);if(be.errors&&be.errors.length){te.push(be);return}if(Ot){U.onStart(()=>Ei(fe,be.fromStyles)),U.onDestroy(()=>Nt(fe,be.toStyles)),t.push(U);return}if(z.isFallbackTransition){U.onStart(()=>Ei(fe,be.fromStyles)),U.onDestroy(()=>Nt(fe,be.toStyles)),t.push(U);return}let No=[];be.timelines.forEach(Ye=>{Ye.stretchStartingKeyframe=!0,this.disabledNodes.has(Ye.element)||No.push(Ye)}),be.timelines=No,e.append(fe,be.timelines);let Md={instruction:be,player:U,element:fe};o.push(Md),be.queriedElements.forEach(Ye=>ut(s,Ye,[]).push(U)),be.preStyleProps.forEach((Ye,fi)=>{if(Ye.size){let ft=l.get(fi);ft||l.set(fi,ft=new Set),Ye.forEach((Tn,ea)=>ft.add(ea))}}),be.postStyleProps.forEach((Ye,fi)=>{let ft=d.get(fi);ft||d.set(fi,ft=new Set),Ye.forEach((Tn,ea)=>ft.add(ea))})});if(te.length){let F=[];te.forEach(L=>{F.push(rh(L.triggerName,L.errors))}),le.forEach(L=>L.destroy()),this.reportError(F)}let _e=new Map,De=new Map;o.forEach(F=>{let L=F.element;e.has(L)&&(De.set(L,L),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,_e))}),t.forEach(F=>{let L=F.element;this._getPreviousPlayers(L,!1,F.namespaceId,F.triggerName,null).forEach(U=>{ut(_e,L,[]).push(U),U.destroy()})});let tt=p.filter(F=>yl(F,l,d)),ot=new Map;vl(ot,this.driver,M,d,Vt).forEach(F=>{yl(F,l,d)&&tt.push(F)});let it=new Map;I.forEach((F,L)=>{vl(it,this.driver,new Set(F),l,Zn)}),tt.forEach(F=>{let L=ot.get(F),z=it.get(F);ot.set(F,new Map([...L?.entries()??[],...z?.entries()??[]]))});let ni=[],nn=[],In={};o.forEach(F=>{let{element:L,player:z,instruction:U}=F;if(e.has(L)){if(u.has(L)){z.onDestroy(()=>Nt(L,U.toStyles)),z.disabled=!0,z.overrideTotalTime(U.totalTime),t.push(z);return}let fe=In;if(De.size>1){let st=L,ri=[];for(;st=st.parentNode;){let be=De.get(st);if(be){fe=be;break}ri.push(st)}ri.forEach(be=>De.set(be,fe))}let Ot=this._buildAnimation(z.namespaceId,U,_e,n,it,ot);if(z.setRealPlayer(Ot),fe===In)ni.push(z);else{let st=this.playersByElement.get(fe);st&&st.length&&(z.parentPlayer=mi(st)),t.push(z)}}else Ei(L,U.fromStyles),z.onDestroy(()=>Nt(L,U.toStyles)),nn.push(z),u.has(L)&&t.push(z)}),nn.forEach(F=>{let L=n.get(F.element);if(L&&L.length){let z=mi(L);F.setRealPlayer(z)}}),t.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<p.length;F++){let L=p[F],z=L[kt];if(Gi(L,Sa),z&&z.hasAnimation)continue;let U=[];if(s.size){let Ot=s.get(L);Ot&&Ot.length&&U.push(...Ot);let st=this.driver.query(L,Ma,!0);for(let ri=0;ri<st.length;ri++){let be=s.get(st[ri]);be&&be.length&&U.push(...be)}}let fe=U.filter(Ot=>!Ot.destroyed);fe.length?Uh(this,L,fe):this.processLeaveNode(L)}return p.length=0,ni.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();let L=this.players.indexOf(F);this.players.splice(L,1)}),F.play()}),ni}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,r,e,t,n){let o=[];if(r){let s=this.playersByQueriedElement.get(i);s&&(o=s)}else{let s=this.playersByElement.get(i);if(s){let l=!n||n==hn;s.forEach(d=>{d.queued||!l&&d.triggerName!=t||o.push(d)})}}return(e||t)&&(o=o.filter(s=>!(e&&e!=s.namespaceId||t&&t!=s.triggerName))),o}_beforeAnimationBuild(i,r,e){let t=r.triggerName,n=r.element,o=r.isRemovalTransition?void 0:i,s=r.isRemovalTransition?void 0:t;for(let l of r.timelines){let d=l.element,u=d!==n,f=ut(e,d,[]);this._getPreviousPlayers(d,u,o,s,r.toState).forEach(I=>{let E=I.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),I.destroy(),f.push(I)})}Ei(n,r.fromStyles)}_buildAnimation(i,r,e,t,n,o){let s=r.triggerName,l=r.element,d=[],u=new Set,f=new Set,v=r.timelines.map(E=>{let C=E.element;u.add(C);let p=C[kt];if(p&&p.removedBeforeQueried)return new Fi(E.duration,E.delay);let g=C!==l,M=Qh((e.get(C)||jh).map(_e=>_e.getRealPlayer())).filter(_e=>{let De=_e;return De.element?De.element===C:!1}),A=n.get(C),V=o.get(C),le=wl(this._normalizer,E.keyframes,A,V),te=this._buildPlayer(E,le,M);if(E.subTimeline&&t&&f.add(C),g){let _e=new gn(i,s,C);_e.setRealPlayer(te),d.push(_e)}return te});d.forEach(E=>{ut(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>Hh(this.playersByQueriedElement,E.element,E))}),u.forEach(E=>yt(E,dl));let I=mi(v);return I.onDestroy(()=>{u.forEach(E=>Gi(E,dl)),Nt(l,r.toStyles)}),f.forEach(E=>{ut(t,E,[]).push(I)}),I}_buildPlayer(i,r,e){return r.length>0?this.driver.animate(i.element,r,i.duration,i.delay,i.easing,e):new Fi(i.duration,i.delay)}},gn=class{constructor(i,r,e){this.namespaceId=i,this.triggerName=r,this.element=e,this._player=new Fi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((r,e)=>{r.forEach(t=>Ba(i,e,void 0,t))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let r=this._player;r.triggerCallback&&i.onStart(()=>r.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,r){ut(this._queuedCallbacks,i,[]).push(r)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let r=this._player;r.triggerCallback&&r.triggerCallback(i)}};function Hh(a,i,r){let e=a.get(i);if(e){if(e.length){let t=e.indexOf(r);e.splice(t,1)}e.length==0&&a.delete(i)}return e}function Yh(a){return a??null}function pr(a){return a&&a.nodeType===1}function Wh(a){return a=="start"||a=="done"}function _l(a,i){let r=a.style.display;return a.style.display=i??"none",r}function vl(a,i,r,e,t){let n=[];r.forEach(l=>n.push(_l(l)));let o=[];e.forEach((l,d)=>{let u=new Map;l.forEach(f=>{let v=i.computeStyle(d,f,t);u.set(f,v),(!v||v.length==0)&&(d[kt]=Bh,o.push(d))}),a.set(d,u)});let s=0;return r.forEach(l=>_l(l,n[s++])),o}function bl(a,i){let r=new Map;if(a.forEach(s=>r.set(s,[])),i.length==0)return r;let e=1,t=new Set(i),n=new Map;function o(s){if(!s)return e;let l=n.get(s);if(l)return l;let d=s.parentNode;return r.has(d)?l=d:t.has(d)?l=e:l=o(d),n.set(s,l),l}return i.forEach(s=>{let l=o(s);l!==e&&r.get(l).push(s)}),r}function yt(a,i){a.classList?.add(i)}function Gi(a,i){a.classList?.remove(i)}function Uh(a,i,r){mi(r).onDone(()=>a.processLeaveNode(i))}function Qh(a){let i=[];return Pl(a,i),i}function Pl(a,i){for(let r=0;r<a.length;r++){let e=a[r];e instanceof sa?Pl(e.players,i):i.push(e)}}function Gh(a,i){let r=Object.keys(a),e=Object.keys(i);if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t];if(!i.hasOwnProperty(n)||a[n]!==i[n])return!1}return!0}function yl(a,i,r){let e=r.get(a);if(!e)return!1;let t=i.get(a);return t?e.forEach(n=>t.add(n)):i.set(a,e),r.delete(a),!0}var Ki=class{constructor(i,r,e,t){this._driver=r,this._normalizer=e,this._triggerCache={},this.onRemovalComplete=(n,o)=>{},this._transitionEngine=new Na(i.body,r,e,t),this._timelineEngine=new Va(i.body,r,e),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(i,r,e,t,n){let o=i+"-"+t,s=this._triggerCache[o];if(!s){let l=[],d=[],u=Il(this._driver,n,l,d);if(l.length)throw Gd(t,l);d.length&&void 0,s=Oh(t,u,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(r,t,s)}register(i,r){this._transitionEngine.register(i,r)}destroy(i,r){this._transitionEngine.destroy(i,r)}onInsert(i,r,e,t){this._transitionEngine.insertNode(i,r,e,t)}onRemove(i,r,e){this._transitionEngine.removeNode(i,r,e)}disableAnimations(i,r){this._transitionEngine.markElementAsDisabled(i,r)}process(i,r,e,t){if(e.charAt(0)=="@"){let[n,o]=ll(e),s=t;this._timelineEngine.command(n,r,o,s)}else this._transitionEngine.trigger(i,r,e,t)}listen(i,r,e,t,n){if(e.charAt(0)=="@"){let[o,s]=ll(e);return this._timelineEngine.listen(o,r,s,n)}return this._transitionEngine.listen(i,r,e,t,n)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function qh(a,i){let r=null,e=null;return Array.isArray(i)&&i.length?(r=Da(i[0]),i.length>1&&(e=Da(i[i.length-1]))):i instanceof Map&&(r=Da(i)),r||e?new za(a,r,e):null}var qi=class qi{constructor(i,r,e){this._element=i,this._startStyles=r,this._endStyles=e,this._state=0;let t=qi.initialStylesByElement.get(i);t||qi.initialStylesByElement.set(i,t=new Map),this._initialStyles=t}start(){this._state<1&&(this._startStyles&&Nt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nt(this._element,this._initialStyles),this._endStyles&&(Nt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(qi.initialStylesByElement.delete(this._element),this._startStyles&&(Ei(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ei(this._element,this._endStyles),this._endStyles=null),Nt(this._element,this._initialStyles),this._state=3)}};qi.initialStylesByElement=new WeakMap;var za=qi;function Da(a){let i=null;return a.forEach((r,e)=>{Kh(e)&&(i=i||new Map,i.set(e,r))}),i}function Kh(a){return a==="display"||a==="position"}var wr=class{constructor(i,r,e,t){this.element=i,this.keyframes=r,this.options=e,this._specialStyles=t,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=e.duration,this._delay=e.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let r=[];return i.forEach(e=>{r.push(Object.fromEntries(e))}),r}_triggerWebAnimation(i,r,e){return i.animate(this._convertKeyframesToObject(r),e)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((e,t)=>{t!=="offset"&&i.set(t,this._finished?e:Qa(this.element,t))}),this.currentSnapshot=i}triggerCallback(i){let r=i==="start"?this._onStartFns:this._onDoneFns;r.forEach(e=>e()),r.length=0}},Cr=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,r){return!1}containsElement(i,r){return Cl(i,r)}getParentElement(i){return Ya(i)}query(i,r,e){return xl(i,r,e)}computeStyle(i,r,e){return Qa(i,r)}animate(i,r,e,t,n,o=[]){let s=t==0?"both":"forwards",l={duration:e,delay:t,fill:s};n&&(l.easing=n);let d=new Map,u=o.filter(I=>I instanceof wr);gh(e,t)&&u.forEach(I=>{I.currentSnapshot.forEach((E,C)=>d.set(C,E))});let f=ph(r).map(I=>new Map(I));f=fh(i,f,d);let v=qh(i,f);return new wr(i,f,l,v)}};var mr="@",Ol="@.disabled",xr=class{constructor(i,r,e,t){this.namespaceId=i,this.delegate=r,this.engine=e,this._onDestroy=t,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,r){return this.delegate.createElement(i,r)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,r){this.delegate.appendChild(i,r),this.engine.onInsert(this.namespaceId,r,i,!1)}insertBefore(i,r,e,t=!0){this.delegate.insertBefore(i,r,e),this.engine.onInsert(this.namespaceId,r,i,t)}removeChild(i,r,e){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(i,r){return this.delegate.selectRootElement(i,r)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,r,e,t){this.delegate.setAttribute(i,r,e,t)}removeAttribute(i,r,e){this.delegate.removeAttribute(i,r,e)}addClass(i,r){this.delegate.addClass(i,r)}removeClass(i,r){this.delegate.removeClass(i,r)}setStyle(i,r,e,t){this.delegate.setStyle(i,r,e,t)}removeStyle(i,r,e){this.delegate.removeStyle(i,r,e)}setProperty(i,r,e){r.charAt(0)==mr&&r==Ol?this.disableAnimations(i,!!e):this.delegate.setProperty(i,r,e)}setValue(i,r){this.delegate.setValue(i,r)}listen(i,r,e){return this.delegate.listen(i,r,e)}disableAnimations(i,r){this.engine.disableAnimations(i,r)}},ja=class extends xr{constructor(i,r,e,t,n){super(r,e,t,n),this.factory=i,this.namespaceId=r}setProperty(i,r,e){r.charAt(0)==mr?r.charAt(1)=="."&&r==Ol?(e=e===void 0?!0:!!e,this.disableAnimations(i,e)):this.engine.process(this.namespaceId,i,r.slice(1),e):this.delegate.setProperty(i,r,e)}listen(i,r,e){if(r.charAt(0)==mr){let t=$h(i),n=r.slice(1),o="";return n.charAt(0)!=mr&&([n,o]=Xh(n)),this.engine.listen(this.namespaceId,t,n,o,s=>{let l=s._data||-1;this.factory.scheduleListenerCallback(l,e,s)})}return this.delegate.listen(i,r,e)}};function $h(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}function Xh(a){let i=a.indexOf("."),r=a.substring(0,i),e=a.slice(i+1);return[r,e]}var Dr=class{constructor(i,r,e){this.delegate=i,this.engine=r,this._zone=e,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(t,n)=>{let o=n?.parentNode(t);o&&n.removeChild(o,t)}}createRenderer(i,r){let e="",t=this.delegate.createRenderer(i,r);if(!i||!r?.data?.animation){let d=this._rendererCache,u=d.get(t);if(!u){let f=()=>d.delete(t);u=new xr(e,t,this.engine,f),d.set(t,u)}return u}let n=r.id,o=r.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);let s=d=>{Array.isArray(d)?d.forEach(s):this.engine.registerTrigger(n,o,i,d.name,d)};return r.data.animation.forEach(s),new ja(this,o,t,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,e){if(i>=0&&i<this._microtaskId){this._zone.run(()=>r(e));return}let t=this._animationCallbacksBuffer;t.length==0&&queueMicrotask(()=>{this._zone.run(()=>{t.forEach(n=>{let[o,s]=n;o(s)}),this._animationCallbacksBuffer=[]})}),t.push([r,e])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Jh=(()=>{let i=class i extends Ki{constructor(e,t,n){super(e,t,n,ae(ts,{optional:!0}))}ngOnDestroy(){this.flush()}};i.\u0275fac=function(t){return new(t||i)(J(Le),J(Ii),J(Ti))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let a=i;return a})();function ep(){return new fr}function tp(a,i,r){return new Dr(a,i,r)}var Fl=[{provide:Ti,useFactory:ep},{provide:Ki,useClass:Jh},{provide:is,useFactory:tp,deps:[gs,Ki,ge]}],Rl=[{provide:Ii,useFactory:()=>new Cr},{provide:Rt,useValue:"BrowserAnimations"},...Fl],ip=[{provide:Ii,useClass:Wa},{provide:Rt,useValue:"NoopAnimations"},...Fl],Vl=(()=>{let i=class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?ip:Rl}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:Rl,imports:[$n]});let a=i;return a})();function np(a,i){}var ki=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var $a=(()=>{let i=class i extends Is{constructor(e,t,n,o,s,l,d,u){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=o,this._interactivityChecker=s,this._ngZone=l,this._overlayRef=d,this._focusMonitor=u,this._platform=ae(Lt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=ae(de),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let v=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),v},this._document=n,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_trapFocus(){let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(t=>{t||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let n=Vi(),o=this._elementRef.nativeElement;(!n||n===this._document.body||n===o||o.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=Vi();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Vi()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(Bi),m(Le,8),m(ki),m(ji),m(ge),m(zi),m(Tt))},i.\u0275cmp=O({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,n){if(t&1&&ne(di,7),t&2){let o;Y(o=W())&&(n._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,n){t&2&&G("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},standalone:!0,features:[Kt,ee],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){t&1&&k(0,np,0,0,"ng-template",0)},dependencies:[di],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let a=i;return a})(),fn=class{constructor(i,r){this.overlayRef=i,this.config=r,this.closed=new N,this.disableClose=r.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!Re(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{r.closeOnOverlayDetachments!==!1&&this.close()})}close(i,r){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(i),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",r=""){return this.overlayRef.updateSize({width:i,height:r}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},rp=new me("DialogScrollStrategy",{providedIn:"root",factory:()=>{let a=ae(pe);return()=>a.scrollStrategies.block()}}),ap=new me("DialogData"),op=new me("DefaultDialogConfig");var sp=0,Xa=(()=>{let i=class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,n,o,s,l){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N,this._afterOpenedAtThisLevel=new N,this._ariaHiddenElements=new Map,this.afterAllClosed=Pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fe(void 0))),this._scrollStrategy=l}open(e,t){let n=this._defaultOptions||new ki;t=B(B({},n),t),t.id=t.id||`cdk-dialog-${sp++}`,t.id&&this.getDialogById(t.id);let o=this._getOverlayConfig(t),s=this._overlay.create(o),l=new fn(s,t),d=this._attachContainer(s,l,t);return l.containerInstance=d,this._attachDialogContent(e,l,d,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Ka(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Ka(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Ka(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new Ni({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,n){let o=n.injector||n.viewContainerRef?.injector,s=[{provide:ki,useValue:n},{provide:fn,useValue:t},{provide:zi,useValue:e}],l;n.container?typeof n.container=="function"?l=n.container:(l=n.container.type,s.push(...n.container.providers(n))):l=$a;let d=new ci(l,n.viewContainerRef,Gt.create({parent:o||this._injector,providers:s}),n.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,t,n,o){if(e instanceof yi){let s=this._createInjector(o,t,n,void 0),l={$implicit:o.data,dialogRef:t};o.templateContext&&(l=B(B({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),n.attachTemplatePortal(new Ci(e,null,l,s))}else{let s=this._createInjector(o,t,n,this._injector),l=n.attachComponentPortal(new ci(e,o.viewContainerRef,s,o.componentFactoryResolver));t.componentRef=l,t.componentInstance=l.instance}}_createInjector(e,t,n,o){let s=e.injector||e.viewContainerRef?.injector,l=[{provide:ap,useValue:e.data},{provide:fn,useValue:t}];return e.providers&&(typeof e.providers=="function"?l.push(...e.providers(t,e,n)):l.push(...e.providers)),e.direction&&(!s||!s.get(Qe,null,{optional:!0}))&&l.push({provide:Qe,useValue:{value:e.direction,change:Qt()}}),Gt.create({parent:s||o,providers:l})}_removeOpenDialog(e,t){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let o=t[n];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}};i.\u0275fac=function(t){return new(t||i)(J(pe),J(Gt),J(op,8),J(i,12),J(ir),J(rp))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();function Ka(a,i){let r=a.length;for(;r--;)i(a[r])}var Ll=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:[Xa],imports:[at,xi,hi,xi]});let a=i;return a})();function lp(a,i){}var bn=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Za="mdc-dialog--open",Nl="mdc-dialog--opening",zl="mdc-dialog--closing",cp=150,dp=75,hp=(()=>{let i=class i extends $a{constructor(e,t,n,o,s,l,d,u,f){super(e,t,n,o,s,l,d,f),this._animationMode=u,this._animationStateChanged=new P,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Bl(this._config.enterAnimationDuration)??cp:0,this._exitAnimationDuration=this._animationsEnabled?Bl(this._config.exitAnimationDuration)??dp:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(jl,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Nl,Za)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Za),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Za),this._animationsEnabled?(this._hostElement.style.setProperty(jl,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(zl)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Nl,zl)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(Bi),m(Le,8),m(bn),m(ji),m(ge),m(zi),m(Rt,8),m(Tt))},i.\u0275cmp=O({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,n){t&2&&(jn("id",n._config.id),G("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),q("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},standalone:!0,features:[Kt,ee],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1),k(2,lp,0,0,"ng-template",2),h()())},dependencies:[di],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let a=i;return a})(),jl="--mat-dialog-transition-duration";function Bl(a){return a==null?null:typeof a=="number"?a:a.endsWith("ms")?li(a.substring(0,a.length-2)):a.endsWith("s")?li(a.substring(0,a.length-1))*1e3:a==="0"?0:null}var Sr=function(a){return a[a.OPEN=0]="OPEN",a[a.CLOSING=1]="CLOSING",a[a.CLOSED=2]="CLOSED",a}(Sr||{}),Ct=class{constructor(i,r,e){this._ref=i,this._containerInstance=e,this._afterOpened=new N,this._beforeClosed=new N,this._state=Sr.OPEN,this.disableClose=r.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(Se(t=>t.state==="opened"),Pe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Se(t=>t.state==="closed"),Pe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ke(this.backdropClick(),this.keydownEvents().pipe(Se(t=>t.keyCode===27&&!this.disableClose&&!Re(t)))).subscribe(t=>{this.disableClose||(t.preventDefault(),Hl(this,t.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Se(r=>r.state==="closing"),Pe(1)).subscribe(r=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=Sr.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let r=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?r.left(i.left):r.right(i.right):r.centerHorizontally(),i&&(i.top||i.bottom)?i.top?r.top(i.top):r.bottom(i.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",r=""){return this._ref.updateSize(i,r),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=Sr.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Hl(a,i,r){return a._closeInteractionType=i,a.close(r)}var Jt=new me("MatMdcDialogData"),pp=new me("mat-mdc-dialog-default-options"),mp=new me("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let a=ae(pe);return()=>a.scrollStrategies.block()}});var up=0,ei=(()=>{let i=class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,n,o,s,l,d,u){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N,this._afterOpenedAtThisLevel=new N,this.dialogConfigClass=bn,this.afterAllClosed=Pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fe(void 0))),this._dialog=t.get(Xa),this._dialogRefConstructor=Ct,this._dialogContainerType=hp,this._dialogDataToken=Jt}open(e,t){let n;t=B(B({},this._defaultOptions||new bn),t),t.id=t.id||`mat-mdc-dialog-${up++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,ye(B({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:ki,useValue:t}]},templateContext:()=>({dialogRef:n}),providers:(s,l,d)=>(n=new this._dialogRefConstructor(s,t,d),n.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=o.componentRef,n.componentInstance=o.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}};i.\u0275fac=function(t){return new(t||i)(J(pe),J(Gt),J(ls,8),J(pp,8),J(mp),J(i,12),J(ir),J(Rt,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();var Mr=(()=>{let i=class i{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=gp(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){Hl(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}};i.\u0275fac=function(t){return new(t||i)(m(Ct,8),m(ie),m(ei))},i.\u0275dir=ze({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,n){t&1&&S("click",function(s){return n._onButtonClick(s)}),t&2&&G("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:[j.None,"aria-label","ariaLabel"],type:"type",dialogResult:[j.None,"mat-dialog-close","dialogResult"],_matDialogClose:[j.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[We]});let a=i;return a})();function gp(a,i){let r=a.nativeElement.parentElement;for(;r&&!r.classList.contains("mat-mdc-dialog-container");)r=r.parentElement;return r?i.find(e=>e.id===r.id):null}var Er=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:[ei],imports:[Ll,at,xi,xe,xe]});let a=i;return a})();var _p=["wrapper"],vp=["sourceImage"];function bp(a,i){if(a&1){let r=R();c(0,"img",5,1),S("load",function(){y(r);let t=x();return w(t.imageLoadedInView())})("mousedown",function(t){y(r);let n=x();return w(n.startMove(t,n.moveTypes.Drag))})("touchstart",function(t){y(r);let n=x();return w(n.startMove(t,n.moveTypes.Drag))})("error",function(t){y(r);let n=x();return w(n.loadImageError(t))}),h()}if(a&2){let r=x();ce("visibility",r.imageVisible?"visible":"hidden")("transform",r.safeTransformStyle),q("ngx-ic-draggable",!r.disabled&&r.allowMoveImage),b("src",r.safeImgDataUrl,rn),G("alt",r.imageAltText)}}function yp(a,i){if(a&1){let r=R();Ke(0),c(1,"span",9),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"topleft"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"topleft"))}),T(2,"span",10),h(),c(3,"span",11),T(4,"span",10),h(),c(5,"span",12),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"topright"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"topright"))}),T(6,"span",10),h(),c(7,"span",13),T(8,"span",10),h(),c(9,"span",14),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"bottomright"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"bottomright"))}),T(10,"span",10),h(),c(11,"span",15),T(12,"span",10),h(),c(13,"span",16),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"bottomleft"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"bottomleft"))}),T(14,"span",10),h(),c(15,"span",17),T(16,"span",10),h(),c(17,"span",18),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"top"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"top"))}),h(),c(18,"span",19),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"right"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"right"))}),h(),c(19,"span",20),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"bottom"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"bottom"))}),h(),c(20,"span",21),S("mousedown",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"left"))})("touchstart",function(t){y(r);let n=x(2);return w(n.startMove(t,n.moveTypes.Resize,"left"))}),h(),$e()}}function wp(a,i){if(a&1){let r=R();c(0,"div",6),S("keydown",function(t){y(r);let n=x();return w(n.keyboardAccess(t))}),c(1,"div",7),S("mousedown",function(t){y(r);let n=x();return w(n.startMove(t,n.moveTypes.Move))})("touchstart",function(t){y(r);let n=x();return w(n.startMove(t,n.moveTypes.Move))}),h(),k(2,yp,21,0,"ng-container",8),h()}if(a&2){let r=x();ce("top",r.cropper.y1,"px")("left",r.cropper.x1,"px")("width",r.cropper.x2-r.cropper.x1,"px")("height",r.cropper.y2-r.cropper.y1,"px")("margin-left",r.alignImage==="center"?r.marginLeft:null)("visibility",r.imageVisible?"visible":"hidden"),q("ngx-ic-round",r.roundCropper),G("aria-label",r.cropperFrameAriaLabel),_(2),b("ngIf",!r.hideResizeSquares)}}var Ja=class{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(i){Object.keys(i).filter(r=>r in this).forEach(r=>this[r]=i[r]),this.validateOptions()}setOptionsFromChanges(i){Object.keys(i).filter(r=>r in this).forEach(r=>this[r]=i[r].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}},xt=function(a){return a.Drag="drag",a.Move="move",a.Resize="resize",a.Pinch="pinch",a}(xt||{});function Cp(a){switch(a){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function xp(a){switch(a){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function Dp(a,i){switch(a){case"ArrowUp":return{clientX:0,clientY:i*-1};case"ArrowRight":return{clientX:i,clientY:0};case"ArrowDown":return{clientX:0,clientY:i};case"ArrowLeft":default:return{clientX:i*-1,clientY:0}}}function Sp(a,i,r){let e=a.width,t=a.height;i=Math.round(i),r=Math.round(r);let n=e/i,o=t/r,s=Math.ceil(n/2),l=Math.ceil(o/2),d=a.getContext("2d");if(d){let u=d.getImageData(0,0,e,t),f=d.createImageData(i,r),v=u.data,I=f.data;for(let E=0;E<r;E++)for(let C=0;C<i;C++){let p=(C+E*i)*4,g=E*o,M=0,A=0,V=0,le=0,te=0,_e=0,De=0,tt=Math.floor(C*n),ot=Math.floor(E*o),Ut=Math.ceil((C+1)*n),it=Math.ceil((E+1)*o);Ut=Math.min(Ut,e),it=Math.min(it,t);for(let ni=ot;ni<it;ni++){let nn=Math.abs(g-ni)/l,In=C*n,F=nn*nn;for(let L=tt;L<Ut;L++){let z=Math.abs(In-L)/s,U=Math.sqrt(F+z*z);if(U>=1)continue;M=2*U*U*U-3*U*U+1;let fe=4*(L+ni*e);De+=M*v[fe+3],V+=M,v[fe+3]<255&&(M=M*v[fe+3]/250),le+=M*v[fe],te+=M*v[fe+1],_e+=M*v[fe+2],A+=M}}I[p]=le/A,I[p+1]=te/A,I[p+2]=_e/A,I[p+3]=De/V}a.width=i,a.height=r,d.putImageData(f,0,0)}}function Yl(a,i){return a/100*i}var Mp=(()=>{let i=class i{crop(e,t,n,o,s){let l=this.getImagePosition(e,t,n,s),d=l.x2-l.x1,u=l.y2-l.y1,f=document.createElement("canvas");f.width=d,f.height=u;let v=f.getContext("2d");if(!v)return null;n.backgroundColor!=null&&(v.fillStyle=n.backgroundColor,v.fillRect(0,0,d,u));let I=(n.transform.scale||1)*(n.transform.flipH?-1:1),E=(n.transform.scale||1)*(n.transform.flipV?-1:1),{translateH:C,translateV:p}=this.getCanvasTranslate(e,n,s),g=e.transformed;v.setTransform(I,0,0,E,g.size.width/2+C,g.size.height/2+p),v.translate(-l.x1/I,-l.y1/E),v.rotate((n.transform.rotate||0)*Math.PI/180),v.drawImage(g.image,-g.size.width/2,-g.size.height/2);let M={width:d,height:u,imagePosition:l,cropperPosition:B({},t)};n.containWithinAspectRatio&&(M.offsetImagePosition=this.getOffsetImagePosition(e,t,n,s));let A=this.getResizeRatio(d,u,n);return A!==1&&(M.width=Math.round(d*A),M.height=n.maintainAspectRatio?Math.round(M.width/n.aspectRatio):Math.round(u*A),Sp(f,M.width,M.height)),o==="blob"?this.cropToBlob(M,f,n):(M.base64=f.toDataURL("image/"+n.format,this.getQuality(n)),M)}cropToBlob(e,t,n){return we(this,null,function*(){return e.blob=yield new Promise(o=>t.toBlob(o,"image/"+n.format,this.getQuality(n))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})}getCanvasTranslate(e,t,n){if(t.transform.translateUnit==="px"){let o=this.getRatio(e,n);return{translateH:(t.transform.translateH||0)*o,translateV:(t.transform.translateV||0)*o}}else return{translateH:t.transform.translateH?Yl(t.transform.translateH,e.transformed.size.width):0,translateV:t.transform.translateV?Yl(t.transform.translateV,e.transformed.size.height):0}}getRatio(e,t){return e.transformed.size.width/t.width}getImagePosition(e,t,n,o){let s=this.getRatio(e,o),l={x1:Math.round(t.x1*s),y1:Math.round(t.y1*s),x2:Math.round(t.x2*s),y2:Math.round(t.y2*s)};return n.containWithinAspectRatio||(l.x1=Math.max(l.x1,0),l.y1=Math.max(l.y1,0),l.x2=Math.min(l.x2,e.transformed.size.width),l.y2=Math.min(l.y2,e.transformed.size.height)),l}getOffsetImagePosition(e,t,n,o){let s=n.canvasRotation+e.exifTransform.rotate,l=this.getRatio(e,o),d,u;s%2?(d=(e.transformed.size.width-e.original.size.height)/2,u=(e.transformed.size.height-e.original.size.width)/2):(d=(e.transformed.size.width-e.original.size.width)/2,u=(e.transformed.size.height-e.original.size.height)/2);let f={x1:Math.round(t.x1*l)-d,y1:Math.round(t.y1*l)-u,x2:Math.round(t.x2*l)-d,y2:Math.round(t.y2*l)-u};return n.containWithinAspectRatio||(f.x1=Math.max(f.x1,0),f.y1=Math.max(f.y1,0),f.x2=Math.min(f.x2,e.transformed.size.width),f.y2=Math.min(f.y2,e.transformed.size.height)),f}getResizeRatio(e,t,n){let o=n.resizeToWidth/e,s=n.resizeToHeight/t,l=new Array;n.resizeToWidth>0&&l.push(o),n.resizeToHeight>0&&l.push(s);let d=l.length===0?1:Math.min(...l);return d>1&&!n.onlyScaleDown?d:Math.min(d,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})(),Ep=(()=>{let i=class i{resetCropperPosition(e,t,n,o){if(e?.nativeElement)if(n.cropperStaticHeight&&n.cropperStaticWidth)t.x1=0,t.x2=o.width>n.cropperStaticWidth?n.cropperStaticWidth:o.width,t.y1=0,t.y2=o.height>n.cropperStaticHeight?n.cropperStaticHeight:o.height;else{let s=Math.min(n.cropperScaledMaxWidth,o.width),l=Math.min(n.cropperScaledMaxHeight,o.height);if(!n.maintainAspectRatio)t.x1=0,t.x2=s,t.y1=0,t.y2=l;else if(o.width/n.aspectRatio<o.height){t.x1=0,t.x2=s;let d=s/n.aspectRatio;t.y1=(o.height-d)/2,t.y2=t.y1+d}else{t.y1=0,t.y2=l;let d=l*n.aspectRatio;t.x1=(o.width-d)/2,t.x2=t.x1+d}}}move(e,t,n){let o=this.getClientX(e)-t.clientX,s=this.getClientY(e)-t.clientY;n.x1=t.x1+o,n.y1=t.y1+s,n.x2=t.x2+o,n.y2=t.y2+s}resize(e,t,n,o,s){let l=this.getClientX(e)-t.clientX,d=this.getClientY(e)-t.clientY;switch(t.position){case"left":n.x1=Math.min(Math.max(t.x1+l,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(t.x1+l,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth),n.y1=Math.min(Math.max(t.y1+d,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(t.y1+d,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(t.x2+l,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth),n.y1=Math.min(Math.max(t.y1+d,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(t.x2+l,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(t.x2+l,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth),n.y2=Math.max(Math.min(t.y2+d,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(t.y2+d,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(t.x1+l,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth),n.y2=Math.max(Math.min(t.y2+d,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"center":let u=e.scale,f=Math.min(Math.max(s.cropperScaledMinWidth,Math.abs(t.x2-t.x1)*u),s.cropperScaledMaxWidth),v=Math.min(Math.max(s.cropperScaledMinHeight,Math.abs(t.y2-t.y1)*u),s.cropperScaledMaxHeight);n.x1=t.clientX-f/2,n.x2=t.clientX+f/2,n.y1=t.clientY-v/2,n.y2=t.clientY+v/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>o.width&&(n.x1-=n.x2-o.width,n.x2=o.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>o.height&&(n.y1-=n.y2-o.height,n.y2=o.height);break}s.maintainAspectRatio&&this.checkAspectRatio(t.position,n,o,s)}checkAspectRatio(e,t,n,o){let s=0,l=0;switch(e){case"top":t.x2=t.x1+(t.y2-t.y1)*o.aspectRatio,s=Math.max(t.x2-n.width,0),l=Math.max(0-t.y1,0),(s>0||l>0)&&(t.x2-=l*o.aspectRatio>s?l*o.aspectRatio:s,t.y1+=l*o.aspectRatio>s?l:s/o.aspectRatio);break;case"bottom":t.x2=t.x1+(t.y2-t.y1)*o.aspectRatio,s=Math.max(t.x2-n.width,0),l=Math.max(t.y2-n.height,0),(s>0||l>0)&&(t.x2-=l*o.aspectRatio>s?l*o.aspectRatio:s,t.y2-=l*o.aspectRatio>s?l:s/o.aspectRatio);break;case"topleft":t.y1=t.y2-(t.x2-t.x1)/o.aspectRatio,s=Math.max(0-t.x1,0),l=Math.max(0-t.y1,0),(s>0||l>0)&&(t.x1+=l*o.aspectRatio>s?l*o.aspectRatio:s,t.y1+=l*o.aspectRatio>s?l:s/o.aspectRatio);break;case"topright":t.y1=t.y2-(t.x2-t.x1)/o.aspectRatio,s=Math.max(t.x2-n.width,0),l=Math.max(0-t.y1,0),(s>0||l>0)&&(t.x2-=l*o.aspectRatio>s?l*o.aspectRatio:s,t.y1+=l*o.aspectRatio>s?l:s/o.aspectRatio);break;case"right":case"bottomright":t.y2=t.y1+(t.x2-t.x1)/o.aspectRatio,s=Math.max(t.x2-n.width,0),l=Math.max(t.y2-n.height,0),(s>0||l>0)&&(t.x2-=l*o.aspectRatio>s?l*o.aspectRatio:s,t.y2-=l*o.aspectRatio>s?l:s/o.aspectRatio);break;case"left":case"bottomleft":t.y2=t.y1+(t.x2-t.x1)/o.aspectRatio,s=Math.max(0-t.x1,0),l=Math.max(t.y2-n.height,0),(s>0||l>0)&&(t.x1+=l*o.aspectRatio>s?l*o.aspectRatio:s,t.y2-=l*o.aspectRatio>s?l:s/o.aspectRatio);break;case"center":t.x2=t.x1+(t.y2-t.y1)*o.aspectRatio,t.y2=t.y1+(t.x2-t.x1)/o.aspectRatio;let d=Math.max(0-t.x1,0),u=Math.max(t.x2-n.width,0),f=Math.max(t.y2-n.height,0),v=Math.max(0-t.y1,0);(d>0||u>0||f>0||v>0)&&(t.x1+=f*o.aspectRatio>d?f*o.aspectRatio:d,t.x2-=v*o.aspectRatio>u?v*o.aspectRatio:u,t.y1+=v*o.aspectRatio>u?v:u/o.aspectRatio,t.y2-=f*o.aspectRatio>d?f:d/o.aspectRatio);break}}getClientX(e){return"touches"in e&&e.touches[0]?e.touches[0].clientX:"clientX"in e?e.clientX:0}getClientY(e){return"touches"in e&&e.touches[0]?e.touches[0].clientY:"clientX"in e?e.clientY:0}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})(),Ip="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function Tp(){return new Promise(a=>{let i=new Image;i.onload=()=>{let r=i.width===1&&i.height===2;a(r)},i.src=Ip})}function kp(a){switch(typeof a=="object"&&(a=Ap(a)),a){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function Ap(a){let i=new DataView(a);if(i.getUint16(0,!1)!==65496)return-2;let r=i.byteLength,e=2;for(;e<r;){if(i.getUint16(e+2,!1)<=8)return-1;let t=i.getUint16(e,!1);if(e+=2,t==65505){if(i.getUint32(e+=2,!1)!==1165519206)return-1;let n=i.getUint16(e+=6,!1)==18761;e+=i.getUint32(e+4,n);let o=i.getUint16(e,n);e+=2;for(let s=0;s<o;s++)if(i.getUint16(e+s*12,n)==274)return i.getUint16(e+s*12+8,n)}else{if((t&65280)!==65280)break;e+=i.getUint16(e,!1)}}return-1}var Pp=(()=>{let i=class i{constructor(){this.autoRotateSupported=Tp()}loadImageFile(e,t){return we(this,null,function*(){let n=yield e.arrayBuffer();return yield this.checkImageTypeAndLoadImageFromArrayBuffer(n,e.type,t)})}checkImageTypeAndLoadImageFromArrayBuffer(e,t,n){return this.isValidImageType(t)?this.loadImageFromArrayBuffer(e,n,t):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,t){return we(this,null,function*(){let o=yield(yield fetch(e)).blob(),s=yield o.arrayBuffer();return yield this.loadImageFromArrayBuffer(s,t,o.type)})}loadBase64Image(e,t){let n=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(n,t)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gmi,"");let t=atob(e),n=t.length,o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=t.charCodeAt(s);return o.buffer}loadImageFromArrayBuffer(e,t,n){return we(this,null,function*(){let o=yield new Promise((s,l)=>we(this,null,function*(){try{let d=new Blob([e],n?{type:n}:void 0),u=URL.createObjectURL(d),f=new Image,I=n==="image/svg+xml"?yield this.getSvgImageSize(d):void 0;f.onload=()=>s({originalImage:f,originalImageSize:I,originalObjectUrl:u,originalArrayBuffer:e}),f.onerror=l,f.src=u}catch(d){l(d)}}));return yield this.transformImageFromArrayBuffer(o,t,o.originalImageSize!=null)})}getSvgImageSize(e){return we(this,null,function*(){let o=new DOMParser().parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!o)throw Error("Failed to parse SVG image");let s=o.getAttribute("width"),l=o.getAttribute("height");if(s&&l)return null;let d=o.getAttribute("viewBox")||o.getAttribute("viewbox");if(d){let u=d.split(" ");return{width:+u[2],height:+u[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(e,t,n=!1){return we(this,null,function*(){let o=yield this.autoRotateSupported,s=kp(o?-1:e.originalArrayBuffer);if(!e.originalImage||!e.originalImage.complete)return Promise.reject(new Error("No image loaded"));let l={original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:s};return this.transformLoadedImage(l,t,n)})}transformLoadedImage(e,t,n=!1){return we(this,null,function*(){let o=t.canvasRotation+e.exifTransform.rotate,s=e.original.size;if(!n&&o===0&&!e.exifTransform.flip&&!t.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:B({},s)},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:B({},s)},exifTransform:e.exifTransform};let l=this.getTransformedSize(s,e.exifTransform,t),d=document.createElement("canvas");d.width=l.width,d.height=l.height;let u=d.getContext("2d");u?.setTransform(e.exifTransform.flip?-1:1,0,0,1,d.width/2,d.height/2),u?.rotate(Math.PI*(o/2)),u?.drawImage(e.original.image,-s.width/2,-s.height/2);let f=yield new Promise(E=>d.toBlob(E,t.format));if(!f)throw new Error("Failed to get Blob for transformed image.");let v=URL.createObjectURL(f),I=yield this.loadImageFromObjectUrl(v);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:B({},s)},transformed:{objectUrl:v,image:I,size:{width:I.width,height:I.height}},exifTransform:e.exifTransform}})}loadImageFromObjectUrl(e){return new Promise((t,n)=>{let o=new Image;o.onload=()=>t(o),o.onerror=n,o.src=e})}getTransformedSize(e,t,n){let o=n.canvasRotation+t.rotate;if(n.containWithinAspectRatio)if(o%2){let s=e.width*n.aspectRatio,l=e.height/n.aspectRatio;return{width:Math.max(e.height,s),height:Math.max(e.width,l)}}else{let s=e.height*n.aspectRatio,l=e.width/n.aspectRatio;return{width:Math.max(e.width,s),height:Math.max(e.height,l)}}return o%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})(),Ir=(()=>{let i=class i{constructor(e,t,n,o,s,l,d){this.cropService=e,this.cropperPositionService=t,this.loadImageService=n,this.sanitizer=o,this.cd=s,this.zone=l,this.hammerLoader=d,this.settings=new Ja,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=xt,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new P,this.startCropImage=new P,this.imageLoaded=new P,this.cropperReady=new P,this.loadImageFailed=new P,this.transformChange=new P,this.reset()}ngOnChanges(e){this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage?.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(this.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(e.maintainAspectRatio||e.aspectRatio)?this.resetCropperPosition():e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop())),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop()),e.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.hideResizeSquares=!0,this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1}))}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let e=this.imageChangedEvent?.target?.files;return e instanceof FileList&&e.length>0}setCssTransform(){let e=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${e}, ${this.transform.translateV||0}${e}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.objectUrl),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){this.loadedImage!=null&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(B({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let e=B({},this.maxSize);this.setMaxSize(),this.resizeCropperPosition(e),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){return we(this,null,function*(){yield this.hammerLoader?.();let e=window?.Hammer||null;if(e){let t=new e(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else os()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/e.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/e.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/e.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/e.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){let t=+e.key;t>=1&&t<=9&&(this.settings.stepSize=t)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;let n=e.shiftKey?xt.Resize:xt.Move,o=e.altKey?xp(e.key):Cp(e.key),s=Dp(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},n,o),this.handleMouseMove(s),this.handleMouseUp()}startMove(e,t,n=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===xt.Pinch||t===xt.Drag&&!this.allowMoveImage||("preventDefault"in e&&e.preventDefault(),this.moveStart=B({active:!0,type:t,position:n,transform:B({},this.transform),clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e)},this.cropper),this.initMouseMove())}initMouseMove(){ke(vi(document,"mousemove"),vi(document,"touchmove")).pipe($(ke(vi(document,"mouseup"),vi(document,"touchend")).pipe(Qo()))).subscribe({next:e=>this.zone.run(()=>{this.handleMouseMove(e),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}startPinch(e){this.safeImgDataUrl&&(e.preventDefault&&e.preventDefault(),this.moveStart=B({active:!0,type:xt.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}handleMouseMove(e){if(this.moveStart.active){if("stopPropagation"in e&&e.stopPropagation(),"preventDefault"in e&&e.preventDefault(),this.moveStart.type===xt.Move)this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===xt.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===xt.Drag){let t=this.cropperPositionService.getClientX(e)-this.moveStart.clientX,n=this.cropperPositionService.getClientY(e)-this.moveStart.clientY;this.transform=ye(B({},this.transform),{translateH:(this.moveStart.transform?.translateH||0)+t,translateV:(this.moveStart.transform?.translateV||0)+n}),this.setCssTransform()}}}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===xt.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){let e=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(e.width),this.maxSize.height=parseFloat(e.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.maintainAspectRatio?this.settings.cropperScaledMinHeight=Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?this.settings.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):this.settings.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){let e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===xt.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(e=this.settings.output){if(this.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),e==="blob")return this.cropToBlob();if(e==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((e,t)=>this.zone.run(()=>we(this,null,function*(){let n=yield this.cropService.crop(this.loadedImage,this.cropper,this.settings,"blob",this.maxSize);n?(this.imageCropped.emit(n),e(n)):t("Crop image failed")})))}cropToBase64(){let e=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return e?(this.imageCropped.emit(e),e):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}};i.\u0275fac=function(t){return new(t||i)(m(Mp),m(Ep),m(Pp),m(Xn),m(de),m(ge),m(_s,8))},i.\u0275cmp=O({type:i,selectors:[["image-cropper"]],viewQuery:function(t,n){if(t&1&&(ne(_p,7),ne(vp,5)),t&2){let o;Y(o=W())&&(n.wrapper=o.first),Y(o=W())&&(n.sourceImage=o.first)}},hostVars:6,hostBindings:function(t,n){t&1&&S("resize",function(){return n.onResize()},!1,Jo),t&2&&(ce("text-align",n.alignImage),q("disabled",n.disabled)("ngx-ix-hidden",n.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},standalone:!0,features:[We,ee],decls:5,vars:10,consts:[["wrapper",""],["sourceImage",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,n){t&1&&(c(0,"div",null,0),k(2,bp,2,8,"img",2),T(3,"div",3),k(4,wp,3,16,"div",4),h()),t&2&&(ce("background",n.imageVisible&&n.backgroundColor),_(2),b("ngIf",n.safeImgDataUrl),_(),ce("width",n.maxSize.width,"px")("height",n.maxSize.height,"px")("margin-left",n.alignImage==="center"?n.marginLeft:null),_(),b("ngIf",n.imageVisible))},dependencies:[se],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0});let a=i;return a})();var Wl=(()=>{let i=class i{constructor(e,t){this.dialogRef=e,this.data=t,this.imgDisplay="inactive",this.butDisplay="activee",this.button=!0}ngOnInit(){}fileAdded(e){this.imgData=e,this.butDisplay="inactive",this.imgDisplay="activee",this.button=!1}imageCropped(e){let t=new File([e.blob],"user-profile",{type:"image/png"});this.croppedImg=t}submit(){this.dialogRef.close(this.croppedImg)}close(){this.dialogRef.close()}};i.\u0275fac=function(t){return new(t||i)(m(Ct),m(Jt))},i.\u0275cmp=O({type:i,selectors:[["app-image-upload"]],decls:15,vars:8,consts:[["image",""],[1,"header"],[1,"h1"],[1,"imgzone"],[1,"choosediv",3,"click","ngClass"],[1,"choose"],["format","png",3,"imageCropped","ngClass","imageChangedEvent","maintainAspectRatio","aspectRatio","imageQuality","resizeToWidth"],["type","file",2,"display","none",3,"change"],[1,"buttons"],["mat-button","",1,"submit",3,"click","disabled"],["mat-button","",1,"cancel"]],template:function(t,n){if(t&1){let o=R();c(0,"div",1)(1,"div",2),D(2," Select profile photo "),h()(),c(3,"div",3)(4,"div",4),S("click",function(){y(o);let l=H(9);return w(l.click())}),c(5,"div",5),D(6," Choose file "),h()(),c(7,"image-cropper",6),S("imageCropped",function(l){return y(o),w(n.imageCropped(l))}),h()(),c(8,"input",7,0),S("change",function(l){return y(o),w(n.fileAdded(l))}),h(),c(10,"div",8)(11,"button",9),S("click",function(){return y(o),w(n.submit())}),D(12,"Submit"),h(),c(13,"button",10),D(14,"Cancel"),h()()}t&2&&(_(4),b("ngClass",n.butDisplay),_(3),b("ngClass",n.imgDisplay)("imageChangedEvent",n.imgData)("maintainAspectRatio",!0)("aspectRatio",4/3)("imageQuality",92)("resizeToWidth",0),_(4),b("disabled",n.button))},dependencies:[_t,Ne,Ir],styles:[".header[_ngcontent-%COMP%]{padding:17px 20px;border-bottom:1px solid #e5e5e5}.h1[_ngcontent-%COMP%]{display:inline-block;font-size:20px;vertical-align:top}.buttons[_ngcontent-%COMP%]{height:35px;padding:10px 20px}.imgzone[_ngcontent-%COMP%]{min-height:365px;max-height:385px;display:flex;text-align:center}  .mat-dialog-container{position:fixed;width:50%;transition:width .218s ease-out;height:auto;overflow:hidden;padding:0;top:15%;left:25%;transition:left .218s ease-out;box-shadow:#0003 0 4px 16px;border:1px solid rgb(190,190,190);border-radius:0}@media (max-width: 860px){  .mat-dialog-container{width:90%;transition:width .218s ease-in;left:5%;transition:left .218s ease-in}}.buttons[_ngcontent-%COMP%]{border-top:1px solid #e5e5e5}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;outline:none;font-size:.85rem;font-family:google-sans;width:100px;height:100%;border:1px solid #c9c7c7;margin:0 5px;border-radius:0;font-weight:500}.submit[_ngcontent-%COMP%]{background:#267ef0;color:#fff}.activee[_ngcontent-%COMP%]{display:block}.inactive[_ngcontent-%COMP%]{display:none}.choosediv[_ngcontent-%COMP%]{text-align:center;width:100%;margin:auto}.choose[_ngcontent-%COMP%]{border-radius:2px;cursor:default;margin-right:70px;margin-left:70px;height:30px;line-height:27px;outline:0;padding:0 20px;border:1px solid #e5e5e5}"]});let a=i;return a})();var ve=(()=>{let i=class i{constructor(e,t){this.httpService=e,this.dataService=t}fetchLabels(){this.httpService.userPost(Je.userLabels,this.dataService.token).pipe(Te(e=>e.sort((t,n)=>t.name.localeCompare(n.name)))).subscribe({next:e=>this.dataService.initLabels(e),error:e=>console.error(e)})}addLabels(e){return this.httpService.userPut(Je.addLabels,this.dataService.token,e)}renameLabels(e){return this.httpService.userPut(Je.renameLabels,this.dataService.token,e)}removeLabels(e){return this.httpService.userPut(Je.deleteLabels,this.dataService.token,e)}createNote(e,t){return this.httpService.userPost(Je.createNote,t,e)}getNotes(e){return this.httpService.userPost(Je.userNotes,e)}deleteNote(e){return this.httpService.userDelete(Je.delete+"/"+e,this.dataService.token)}trashNotes(){return this.httpService.userDelete(Je.delete,this.dataService.token)}updateNote(e){return this.httpService.userPost(Je.updateNote,this.dataService.token,e)}removeNoteLabel(e){return e=ye(B({},e),{removeLabels:!0}),this.httpService.userPut(Je.updateNoteLabel,this.dataService.token,e)}addNoteLabel(e){return e=ye(B({},e),{removeLabels:!1}),this.httpService.userPut(Je.updateNoteLabel,this.dataService.token,e)}userProfile(e){return this.httpService.imgPost(Je.userProfile,this.dataService.token,e)}updateFbToken(e){return this.httpService.userPost(Je.updateFbToken,this.dataService.token,{userId:this.dataService.userId,firebaseToken:e})}updateIndex(e){return this.httpService.userPut(Je.updateIndex,this.dataService.token,e)}};i.\u0275fac=function(t){return new(t||i)(J($s),J(Ie))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();var Fp=a=>({display:a});function Vp(a,i){if(a&1){let r=R();c(0,"div",3),T(1,"div",11),c(2,"div",12),S("click",function(){let t=y(r).index,n=x();return w(n.onRemoveLabel(t))}),h(),T(3,"input",13,0),c(5,"div",14),S("click",function(){let t=y(r).$implicit,n=H(4),o=x();return w(o.onRenameLabel(t,n.value))}),h()()}if(a&2){let r=i.$implicit;_(3),b("value",r.name)}}var Ul=(()=>{let i=class i{constructor(e,t,n,o){this.cdr=e,this.dialogRef=t,this.service=n,this.data=o,this.label=new pi(""),this.exists=!1,this.newLabels=[],this.updatedLabels=[],this.deletedLabels=[],this.labelData=o||[]}ngOnInit(){this.labelData.forEach(e=>{e.dirty=!1,e.newItem=!1}),this.dialogRef.backdropClick().subscribe({next:()=>this.closeDialog()})}addLabel(e){let t={name:e,newItem:!0,dirty:!1};if(this.labelData.length===0){this.labelData.push(t);return}let n=0,o=0,s=this.labelData.length-1;for(;n<=s;)o=Math.floor((n+s)/2),this.labelData[o].name.localeCompare(e)<0?n=o+1:s=o-1;this.labelData.splice(n,0,t)}onAddLabel(){this.exists=!1;let e=this.label.value;if(e){if(this.labelData.some(({name:t})=>t.toLowerCase()===e.toLowerCase())){this.exists=!0;return}this.addLabel(e),this.newLabels.push(e),this.label.reset()}}onRemoveLabel(e){let t=this.labelData.splice(e,1).pop();t.newItem||this.deletedLabels.push(t)}onRenameLabel(e,t){e.name=t,e.dirty=!0}createLabels(e){return e.length?this.service.addLabels({labels:e}):null}renameLabels(e){return e.length?this.service.renameLabels({labels:e}):null}removeLabels(e){return e.length?this.service.removeLabels({labels:e}):null}closeDialog(){return we(this,null,function*(){let e=[],t=[];this.labelData.forEach(l=>{if(l.newItem){e.push(l.name);return}if(l.dirty){t.push(l);return}});let n=this.createLabels(e),o=this.renameLabels(t),s=this.removeLabels(this.deletedLabels);Yo([n,o,s].filter(l=>l!==null)).pipe(Uo(()=>this.dialogRef.close())).subscribe({next:l=>console.log(l),error:l=>console.error(l),complete:()=>console.log("Labels API complete")})})}};i.\u0275fac=function(t){return new(t||i)(m(de),m(Ct),m(ve),m(Jt))},i.\u0275cmp=O({type:i,selectors:[["app-edit-labels"]],decls:14,vars:5,consts:[["labelInput",""],[1,"edb"],[1,"edb1"],[1,"edb12"],[1,"sty","plus"],["type","text","placeholder","Create new label",1,"default",3,"formControl"],[1,"sty","done",3,"click"],[3,"ngStyle"],["class","edb12",4,"ngFor","ngForOf"],[1,"edb2"],[1,"edb21",3,"click"],[1,"sty","label"],[1,"sty","bin",3,"click"],["type","text",3,"value"],[1,"sty","done","tla",3,"click"]],template:function(t,n){t&1&&(c(0,"div",1)(1,"div",2)(2,"div"),D(3,"Edit labels"),h(),c(4,"div",3),T(5,"div",4)(6,"input",5),c(7,"div",6),S("click",function(){return n.onAddLabel()}),h()(),c(8,"mat-error",7),D(9,"Label already exists"),h(),k(10,Vp,6,1,"div",8),h(),c(11,"div",9)(12,"div",10),S("click",function(){return n.closeDialog()}),D(13," Done "),h()()()),t&2&&(_(6),b("formControl",n.label),_(2),b("ngStyle",Ze(3,Fp,n.exists?"block":"none")),_(2),b("ngForOf",n.labelData))},dependencies:[vt,oi,Yi,Ui,Qi,Xs],styles:['.edb[_ngcontent-%COMP%]{width:300px;display:block;position:absolute;letter-spacing:.01785714em;font-family:google-sans,Roboto,Arial,sans-serif;font-weight:500;border:none;box-shadow:0 1px 3px #3c40434d,0 4px 8px 3px #3c404326;position:fixed;z-index:2000;transform:translate(-50%,-50%);background-color:#fff}.edb1[_ngcontent-%COMP%]{padding:15px;overflow:auto;max-height:455px}.edb1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1rem}.edb12[_ngcontent-%COMP%]{display:flex;align-items:center;height:45px}.edb2[_ngcontent-%COMP%]{padding:15px 10px;text-align:right;border-top:1px solid #dadce0}.edb21[_ngcontent-%COMP%]{box-sizing:border-box;padding:8px 24px;display:inline-block;font-size:.875rem;cursor:pointer}.sty[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:18px 18px;border:1px solid transparent;height:24px;opacity:.54;width:24px;cursor:pointer}.plus[_ngcontent-%COMP%]{background-image:url("./media/add-XGDYATFB.svg");flex:1 0 auto}.label[_ngcontent-%COMP%]{background-image:url("./media/label-GXJCOJNP.svg");flex:1 0 auto;display:block}.bin[_ngcontent-%COMP%]{background-image:url("./media/bin-TOMTTVOY.svg");flex:1 0 auto;display:none;background-size:14px}.edb12[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%]{display:none}.edb12[_ngcontent-%COMP%]:hover   .bin[_ngcontent-%COMP%]{display:block}.bin[_ngcontent-%COMP%]:hover{opacity:.9}.rename[_ngcontent-%COMP%]{background-image:url("./media/pen2-V6GCOYRR.svg");flex:1 0 auto}.done[_ngcontent-%COMP%]{background-image:url("./media/ticki-G5DD6VA7.svg");flex:1 0 auto}.default[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.2)!important;color:#000!important;font-size:15px!important}.edb12[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 15px;flex:1 1 auto;font-size:17px;font-weight:500;border:0px;outline:none;color:#5d5e5f;width:100%;font-family:google-sans,Roboto,Arial,sans-serif}.edb12[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:google-sans,Roboto,Arial,sans-serif;font-weight:500;font-size:.82rem}  .mat-dialog-container{padding:0}mat-error[_ngcontent-%COMP%]{text-align:center;font-size:14px}.penOff[_ngcontent-%COMP%]{display:none}.doneOn[_ngcontent-%COMP%]{display:block}']});let a=i;return a})();var Lp=["*",[["mat-toolbar-row"]]],Np=["*","mat-toolbar-row"],to=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=ze({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let a=i;return a})(),Gl=(()=>{let i=class i{constructor(e,t,n){this._elementRef=e,this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(Lt),m(Le))},i.\u0275cmp=O({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,n,o){if(t&1&&Xe(o,to,5),t&2){let s;Y(s=W())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,n){t&2&&(wi(n.color?"mat-"+n.color:""),q("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ee],ngContentSelectors:Np,decls:2,vars:0,template:function(t,n){t&1&&(Be(Lp),Me(0),Me(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let a=i;return a})();var ql=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({imports:[xe,xe]});let a=i;return a})();var jp=["tooltip"],Xl=20;var Zl=new me("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let a=ae(pe);return()=>a.scrollStrategies.reposition({scrollThrottle:Xl})}});function Bp(a){return()=>a.scrollStrategies.reposition({scrollThrottle:Xl})}var Hp={provide:Zl,deps:[pe],useFactory:Bp};function Yp(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Wp=new me("mat-tooltip-default-options",{providedIn:"root",factory:Yp});var Kl="tooltip-panel",$l=ct({passive:!0}),Up=8,Qp=8,Gp=24,qp=200,ui=(()=>{let i=class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Xt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Xt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=li(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=li(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,n,o,s,l,d,u,f,v,I,E){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=o,this._ngZone=s,this._platform=l,this._ariaDescriber=d,this._focusMonitor=u,this._dir=v,this._defaultOptions=I,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Kp,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new N,this._scrollStrategy=f,this._document=E,I&&(this._showDelay=I.showDelay,this._hideDelay=I.hideDelay,I.position&&(this.position=I.position),I.positionAtOrigin&&(this.positionAtOrigin=I.positionAtOrigin),I.touchGestures&&(this.touchGestures=I.touchGestures)),v.change.pipe($(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Up}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,$l)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let n=this._createOverlay(t);this._detach(),this._portal=this._portal||new ci(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=n.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe($(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof ie)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return n.positionChanges.pipe($(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${Kl}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe($(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!Re(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,n=this._getOrigin(),o=this._getOverlayPosition();t.withPositions([this._addOffset(B(B({},n.main),o.main)),this._addOffset(B(B({},n.fallback),o.fallback))])}_addOffset(e){let t=Qp,n=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=n?-t:t:e.originX==="end"&&(e.offsetX=n?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"||t=="below"?n={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"?n={overlayX:"center",overlayY:"bottom"}:t=="below"?n={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Pe(1),$(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:n,originY:o}=e,s;if(t==="center"?this._dir&&this._dir.value==="rtl"?s=n==="end"?"left":"right":s=n==="start"?"left":"right":s=t==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let l=this._overlayRef;if(l){let d=`${this._cssClassPrefix}-${Kl}-`;l.removePanelClass(d+this._currentPosition),l.addPanelClass(d+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],n=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>this.show(void 0,n),this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let n=t.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,n])=>{this._elementRef.nativeElement.addEventListener(t,n,$l)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t!==n&&!n.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,n=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),(e==="on"||!t.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}};i.\u0275fac=function(t){return new(t||i)(m(pe),m(ie),m(cn),m(qt),m(ge),m(Lt),m(As),m(Tt),m(Zl),m(Qe),m(Wp,8),m(Le))},i.\u0275dir=ze({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,n){t&2&&q("mat-mdc-tooltip-disabled",n.disabled)},inputs:{position:[j.None,"matTooltipPosition","position"],positionAtOrigin:[j.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[j.None,"matTooltipDisabled","disabled"],showDelay:[j.None,"matTooltipShowDelay","showDelay"],hideDelay:[j.None,"matTooltipHideDelay","hideDelay"],touchGestures:[j.None,"matTooltipTouchGestures","touchGestures"],message:[j.None,"matTooltip","message"],tooltipClass:[j.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let a=i;return a})(),Kp=(()=>{let i=class i{constructor(e,t,n){this._changeDetectorRef=e,this._elementRef=t,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new N,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=n==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Gp&&e.width>=qp}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,n=this._showAnimation,o=this._hideAnimation;if(t.classList.remove(e?o:n),t.classList.add(e?n:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(t);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}};i.\u0275fac=function(t){return new(t||i)(m(de),m(ie),m(Rt,8))},i.\u0275cmp=O({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(t,n){if(t&1&&ne(jp,7),t&2){let o;Y(o=W())&&(n._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,n){t&1&&S("mouseleave",function(s){return n._handleMouseLeave(s)}),t&2&&ce("zoom",n.isVisible()?1:null)},standalone:!0,features:[ee],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,n){if(t&1){let o=R();c(0,"div",1,0),S("animationend",function(l){return y(o),w(n._handleAnimationEnd(l))}),c(2,"div",2),D(3),h()()}t&2&&(q("mdc-tooltip--multiline",n._isMultiline),b("ngClass",n.tooltipClass),_(3),Z(n.message))},dependencies:[_t],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let a=i;return a})();var Jl=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:[Hp],imports:[hi,bt,at,xe,xe,dt]});let a=i;return a})();var tc=["*"],$p=["content"],Xp=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Zp=["mat-drawer","mat-drawer-content","*"];function Jp(a,i){if(a&1){let r=R();c(0,"div",1),S("click",function(){y(r);let t=x();return w(t._onBackdropClicked())}),h()}if(a&2){let r=x();q("mat-drawer-shown",r._isShowingBackdrop())}}function em(a,i){a&1&&(c(0,"mat-drawer-content"),Me(1,2),h())}var tm={transformDrawer:Et("transform",[It("open, open-instant",he({transform:"none",visibility:"visible"})),It("void",he({"box-shadow":"none",visibility:"hidden"})),Ue("void => open-instant",je("0ms")),Ue("void <=> open, open-instant => void",je("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var im=new me("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:nm}),ic=new me("MAT_DRAWER_CONTAINER");function nm(){return!1}var io=(()=>{let i=class i extends tr{constructor(e,t,n,o,s){super(n,o,s),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};i.\u0275fac=function(t){return new(t||i)(m(de),m(ai(()=>ro)),m(ie),m(cn),m(ge))},i.\u0275cmp=O({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,n){t&2&&ce("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},standalone:!0,features:[nt([{provide:tr,useExisting:i}]),Kt,ee],ngContentSelectors:tc,decls:1,vars:0,template:function(t,n){t&1&&(Be(),Me(0))},encapsulation:2,changeDetection:0});let a=i;return a})(),no=(()=>{let i=class i{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Xt(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Xt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Xt(e))}constructor(e,t,n,o,s,l,d,u){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=o,this._ngZone=s,this._interactivityChecker=l,this._doc=d,this._container=u,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new N,this._animationEnd=new N,this._animationState="void",this.openedChange=new P(!0),this._openedStream=this.openedChange.pipe(Se(f=>f),Te(()=>{})),this.openedStart=this._animationStarted.pipe(Se(f=>f.fromState!==f.toState&&f.toState.indexOf("open")===0),ia(void 0)),this._closedStream=this.openedChange.pipe(Se(f=>!f),Te(()=>{})),this.closedStart=this._animationStarted.pipe(Se(f=>f.fromState!==f.toState&&f.toState==="void"),ia(void 0)),this._destroyed=new N,this.onPositionChanged=new P,this._modeChanged=new N,this.openedChange.subscribe(f=>{f?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{vi(this._elementRef.nativeElement,"keydown").pipe(Se(f=>f.keyCode===27&&!this.disableClose&&!Re(f)),$(this._destroyed)).subscribe(f=>this._ngZone.run(()=>{this.close(),f.stopPropagation(),f.preventDefault()}))}),this._animationEnd.pipe(An((f,v)=>f.fromState===v.fromState&&f.toState===v.toState)).subscribe(f=>{let{fromState:v,toState:I}=f;(I.indexOf("open")===0&&v==="void"||I==="void"&&v.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(t=>{!t&&typeof this._elementRef.nativeElement.focus=="function"&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);let n=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),n}_setOpen(e,t,n){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",t&&this._restoreFocus(n)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Pe(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,n=t.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,t)),n.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(Bi),m(Tt),m(Lt),m(ge),m(ji),m(Le,8),m(ic,8))},i.\u0275cmp=O({type:i,selectors:[["mat-drawer"]],viewQuery:function(t,n){if(t&1&&ne($p,5),t&2){let o;Y(o=W())&&(n._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,n){t&1&&Hn("@transform.start",function(s){return n._animationStarted.next(s)})("@transform.done",function(s){return n._animationEnd.next(s)}),t&2&&(Bn("@transform",n._animationState),G("align",null),q("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[ee],ngContentSelectors:tc,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){t&1&&(Be(),c(0,"div",1,0),Me(2),h())},dependencies:[tr],encapsulation:2,data:{animation:[tm.transformDrawer]},changeDetection:0});let a=i;return a})(),ro=(()=>{let i=class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Xt(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Xt(e)}get scrollable(){return this._userContent||this._content}constructor(e,t,n,o,s,l=!1,d){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=d,this._drawers=new Rn,this.backdropClick=new P,this._destroyed=new N,this._doCheckSubject=new N,this._contentMargins={left:null,right:null},this._contentMarginChanges=new N,e&&e.change.pipe($(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe($(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(Fe(this._allDrawers),$(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Fe(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(kn(10),$(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let n=this._left._getWidth();e+=n,t-=n}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let n=this._right._getWidth();t+=n,e-=n}}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Se(t=>t.fromState!==t.toState),$(this._drawers.changes)).subscribe(t=>{t.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe($(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe($(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Pe(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe($(ke(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}};i.\u0275fac=function(t){return new(t||i)(m(Qe,8),m(ie),m(ge),m(de),m(Li),m(im),m(Rt,8))},i.\u0275cmp=O({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(t,n,o){if(t&1&&(Xe(o,io,5),Xe(o,no,5)),t&2){let s;Y(s=W())&&(n._content=s.first),Y(s=W())&&(n._allDrawers=s)}},viewQuery:function(t,n){if(t&1&&ne(io,5),t&2){let o;Y(o=W())&&(n._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,n){t&2&&q("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[nt([{provide:ic,useExisting:i}]),ee],ngContentSelectors:Zp,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){t&1&&(Be(Xp),k(0,Jp,1,2,"div",0),Me(1),Me(2,1),k(3,em,2,0,"mat-drawer-content")),t&2&&(qe(0,n.hasBackdrop?0:-1),_(3),qe(3,n._content?-1:3))},dependencies:[io],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let a=i;return a})();var nc=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({imports:[xe,dt,dt,xe]});let a=i;return a})();var am=["mat-menu-item",""],om=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],sm=["mat-icon, [matMenuItemIcon]","*"];function lm(a,i){a&1&&(ue(),c(0,"svg",2),T(1,"polygon",3),h())}var cm=["*"];function dm(a,i){if(a&1){let r=R();c(0,"div",0),S("keydown",function(t){y(r);let n=x();return w(n._handleKeydown(t))})("click",function(){y(r);let t=x();return w(t.closed.emit("click"))})("@transformMenu.start",function(t){y(r);let n=x();return w(n._onAnimationStart(t))})("@transformMenu.done",function(t){y(r);let n=x();return w(n._onAnimationDone(t))}),c(1,"div",1),Me(2),h()()}if(a&2){let r=x();wi(r._classList),b("id",r.panelId)("@transformMenu",r._panelAnimationState),G("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null)("aria-describedby",r.ariaDescribedby||null)}}var oo=new me("MAT_MENU_PANEL"),ao=(()=>{let i=class i{constructor(e,t,n,o,s){this._elementRef=e,this._document=t,this._focusMonitor=n,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new N,this._focused=new N,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<t.length;n++)t[n].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(Le),m(Tt),m(oo,8),m(de))},i.\u0275cmp=O({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(t,n){t&1&&S("click",function(s){return n._checkDisabled(s)})("mouseenter",function(){return n._handleMouseEnter()}),t&2&&(G("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),q("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{role:"role",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",Oe],disableRipple:[j.HasDecoratorInputTransform,"disableRipple","disableRipple",Oe]},exportAs:["matMenuItem"],standalone:!0,features:[Ft,ee],attrs:am,ngContentSelectors:sm,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,n){t&1&&(Be(om),Me(0),c(1,"span",0),Me(2,1),h(),T(3,"div",1),k(4,lm,2,0,":svg:svg",2)),t&2&&(_(3),b("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),_(),qe(4,n._triggersSubmenu?4:-1))},dependencies:[Ls],encapsulation:2,changeDetection:0});let a=i;return a})();var hm=new me("MatMenuContent");var Ar={transformMenu:Et("transformMenu",[It("void",he({opacity:0,transform:"scale(0.8)"})),Ue("void => enter",je("120ms cubic-bezier(0, 0, 0.2, 1)",he({opacity:1,transform:"scale(1)"}))),Ue("* => void",je("100ms 25ms linear",he({opacity:0})))]),fadeInItems:Et("fadeInItems",[It("showing",he({opacity:1})),Ue("void => *",[he({opacity:0}),je("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},G0=Ar.fadeInItems,q0=Ar.transformMenu,pm=0,mm=new me("mat-menu-default-options",{providedIn:"root",factory:um});function um(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Bt=(()=>{let i=class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let t=this._previousPanelClass,n=B({},this._classList);t&&t.length&&t.split(" ").forEach(o=>{n[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{n[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=n}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,t,n,o){this._elementRef=e,this._ngZone=t,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new Rn,this._classList={},this._panelAnimationState="void",this._animationDone=new N,this.closed=new P,this.close=this.closed,this.panelId=`mat-menu-panel-${pm++}`,this.overlayPanelClass=n.overlayPanelClass||"",this._xPosition=n.xPosition,this._yPosition=n.yPosition,this.backdropClass=n.backdropClass,this.overlapTrigger=n.overlapTrigger,this.hasBackdrop=n.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Os(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Fe(this._directDescendantItems),bi(e=>ke(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let n=e.toArray(),o=Math.max(0,Math.min(n.length-1,t.activeItemIndex||0));n[o]&&!n[o].disabled?t.setActiveItem(o):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Fe(this._directDescendantItems),bi(t=>ke(...t.map(n=>n._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,n=this._keyManager;switch(t){case 27:Re(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&n.setFocusOrigin("keyboard"),n.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Pe(1)).subscribe(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){let n=this._keyManager;n.setFocusOrigin(e).setFirstItemActive(),!n.activeItem&&t&&t.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){let t=Math.min(this._baseElevation+e,24),n=`${this._elevationPrefix}${t}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){let s=B({},this._classList);this._previousElevation&&(s[this._previousElevation]=!1),s[n]=!0,this._previousElevation=n,this._classList=s}}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=ye(B({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Fe(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(ge),m(mm),m(de))},i.\u0275cmp=O({type:i,selectors:[["mat-menu"]],contentQueries:function(t,n,o){if(t&1&&(Xe(o,hm,5),Xe(o,ao,5),Xe(o,ao,4)),t&2){let s;Y(s=W())&&(n.lazyContent=s.first),Y(s=W())&&(n._allItems=s),Y(s=W())&&(n.items=s)}},viewQuery:function(t,n){if(t&1&&ne(yi,5),t&2){let o;Y(o=W())&&(n.templateRef=o.first)}},hostVars:3,hostBindings:function(t,n){t&2&&G("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[j.None,"aria-label","ariaLabel"],ariaLabelledby:[j.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[j.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[j.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",Oe],hasBackdrop:[j.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",e=>e==null?null:Oe(e)],panelClass:[j.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[nt([{provide:oo,useExisting:i}]),Ft,ee],ngContentSelectors:cm,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(t,n){t&1&&(Be(),k(0,dm,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Ar.transformMenu,Ar.fadeInItems]},changeDetection:0});let a=i;return a})(),ac=new me("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let a=ae(pe);return()=>a.scrollStrategies.reposition()}});function gm(a){return()=>a.scrollStrategies.reposition()}var fm={provide:ac,deps:[pe],useFactory:gm},rc=ct({passive:!0});var $i=(()=>{let i=class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,t,n,o,s,l,d,u,f){this._overlay=e,this._element=t,this._viewContainerRef=n,this._menuItemInstance=l,this._dir=d,this._focusMonitor=u,this._ngZone=f,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ae.EMPTY,this._hoverSubscription=Ae.EMPTY,this._menuCloseSubscription=Ae.EMPTY,this._changeDetectorRef=ae(de),this._handleTouchStart=v=>{rr(v)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new P,this.onMenuOpen=this.menuOpened,this.menuClosed=new P,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Bt?s:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,rc)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,rc),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let t=this._createOverlay(e),n=t.getConfig(),o=n.positionStrategy;this._setPosition(e,o),n.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,t.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Bt&&(e._startAnimation(),e._directDescendantItems.changes.pipe($(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof Bt?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Se(n=>n.toState==="void"),Pe(1),$(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let t=0,n=e.parentMenu;for(;n;)t++,n=n.parentMenu;e.setElevation(t)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Ni({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(n=>{let o=n.connectionPair.overlayX==="start"?"after":"before",s=n.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,s)):e.setPositionClasses(o,s)})}_setPosition(e,t){let[n,o]=e.xPosition==="before"?["end","start"]:["start","end"],[s,l]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[d,u]=[s,l],[f,v]=[n,o],I=0;if(this.triggersSubmenu()){if(v=n=e.xPosition==="before"?"start":"end",o=f=n==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let E=this._parentMaterialMenu.items.first;this._parentInnerPadding=E?E._getHostElement().offsetTop:0}I=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(d=s==="top"?"bottom":"top",u=l==="top"?"bottom":"top");t.withPositions([{originX:n,originY:d,overlayX:f,overlayY:s,offsetY:I},{originX:o,originY:d,overlayX:v,overlayY:s,offsetY:I},{originX:n,originY:u,overlayX:f,overlayY:l,offsetY:-I},{originX:o,originY:u,overlayX:v,overlayY:l,offsetY:-I}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:Qt(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Se(s=>s!==this._menuItemInstance),Se(()=>this._menuOpen)):Qt();return ke(e,n,o,t)}_handleMousedown(e){nr(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Se(e=>e===this._menuItemInstance&&!e.disabled),na(0,ta)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Bt&&this.menu._isAnimating?this.menu._animationDone.pipe(Pe(1),na(0,ta),$(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Ci(e.templateRef,this._viewContainerRef)),this._portal}};i.\u0275fac=function(t){return new(t||i)(m(pe),m(ie),m(qt),m(ac),m(oo,8),m(ao,10),m(Qe,8),m(Tt),m(ge))},i.\u0275dir=ze({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,n){t&1&&S("click",function(s){return n._handleClick(s)})("mousedown",function(s){return n._handleMousedown(s)})("keydown",function(s){return n._handleKeydown(s)}),t&2&&G("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[j.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[j.None,"matMenuTriggerFor","menu"],menuData:[j.None,"matMenuTriggerData","menuData"],restoreFocus:[j.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let a=i;return a})(),oc=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:[fm],imports:[bt,Ns,xe,at,dt,xe]});let a=i;return a})();var _m=["refresh"],yn=()=>["active"],vm=a=>["labels",a],bm=a=>({id:a});function ym(a,i){a&1&&(c(0,"div",61),T(1,"img",62),c(2,"span",63),D(3,"Fundoo"),h()())}function wm(a,i){if(a&1&&(c(0,"span",66),D(1),rt(2,"slice"),rt(3,"titlecase"),h()),a&2){let r=x(2);_(),Z(sn(3,4,$t(2,1,r.router.url,11)))}}function Cm(a,i){if(a&1&&D(0),a&2){let r=x(2);Z(r.labelName||"Labels")}}function xm(a,i){if(a&1&&(c(0,"div",64),k(1,wm,4,6,"span",65)(2,Cm,1,1,"ng-template",66,4,Ve),h()),a&2){let r=H(3),e=x();_(),b("ngIf",e.router.url=="/dashboard/reminders"||e.router.url=="/dashboard/archive"||e.router.url=="/dashboard/trash")("ngIfElse",r)}}function Dm(a,i){if(a&1){let r=R();c(0,"button",67),S("click",function(){y(r);let t=x();return w(t.onClearSearch())}),c(1,"span",16),D(2," close "),h()()}}function Sm(a,i){if(a&1&&T(0,"img",26),a&2){let r=x();b("src",r.userAvatar,rn)}}function Mm(a,i){if(a&1&&(c(0,"span"),D(1),rt(2,"slice"),h()),a&2){let r=x();_(),Z(as(2,1,r.name,0,1))}}function Em(a,i){if(a&1){let r=R();c(0,"li",68)(1,"a",69),S("click",function(){let t=y(r).$implicit,n=x();return w(n.labelsPage(t))}),ue(),c(2,"svg",70),T(3,"path",71),h(),Ge(),c(4,"span",36),D(5),h()()()}if(a&2){let r=i.$implicit;b("routerLinkActive",Oi(4,yn))("routerLink",Ze(5,vm,r.name))("queryParams",Ze(7,bm,r._id)),_(5),Z(r.name)}}function Im(a,i){if(a&1&&(Ke(0),T(1,"img",72),$e()),a&2){let r=x();_(),b("src",r.userAvatar,rn)}}function Tm(a,i){if(a&1&&(c(0,"span"),D(1),h()),a&2){let r=x();_(),Z(r.usernameFirstLetter)}}var sc=(()=>{let i=class i{constructor(e,t,n,o,s,l,d){this.router=e,this._dataService=t,this.matDailog=n,this.service=o,this.breakpointObserver=s,this.matdailog=l,this.activatedRoute=d,this.view="listico",this.viewType=!1,this.refreshEle=Vn("refresh"),this.search=new pi(""),this.isHandset$=this.breakpointObserver.observe(Ms.Handset).pipe(Te(u=>u.matches)),this.email=localStorage.getItem("email"),this.name=localStorage.getItem("name"),this.userid=localStorage.getItem("userid"),this.token=localStorage.getItem("token"),this._dataService.onTokenInitialize(this.token),this._dataService.onUserIdInitialize(this.userid)}get usernameFirstLetter(){return this.name.substring(0,1).toUpperCase()}ngOnInit(){return we(this,null,function*(){this.userAvatar=this._dataService.avatar,this.service.fetchLabels(),this._dataService.labels$.subscribe(e=>{this.labels=e}),this.search.valueChanges.pipe(kn(800)).subscribe({next:e=>console.log(e)})})}refresh(){this._dataService.emitPageRefesh()}onClearSearch(){this.search.reset()}onViewChange(){this.viewType?this.view="listico":this.view="gridico",this.viewType=!this.viewType,this._dataService.onViewChange(this.viewType)}file(){this.matDailog.open(Wl).afterClosed().subscribe(t=>{if(!t)return;let n=new FormData;n.append("image",t),this.service.userProfile(n).subscribe({next:o=>{localStorage.setItem("profile",o.profile),this.userAvatar=o.profile},error:o=>{console.warn("Unable to save into the server"),console.error(o)}})})}onSignOut(){localStorage.clear(),this.router.navigate(["signin"])}labelsPage(e){this.labelName=e.name}editLabels(){this.matdailog.open(Ul,{data:this.labels})}};i.\u0275fac=function(t){return new(t||i)(m(si),m(Ie),m(ei),m(ve),m(Ss),m(ei),m(Jn))},i.\u0275cmp=O({type:i,selectors:[["app-dashboard"]],viewQuery:function(t,n){t&1&&Yn(n.refreshEle,_m,5),t&2&&Wn()},inputs:{email:"email",name:"name",userid:"userid",token:"token",style:"style"},decls:100,vars:28,consts:[["searchIp",""],["drawer",""],["profile","matMenu"],["defaultAvatar",""],["elseBlock",""],["id","row"],[1,"left"],["matTooltip","Main menu",1,"icondiv",3,"click"],["focusable","false","viewBox","0 0 24 24"],["d","M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"],["class","k2",4,"ngIf"],["class","k3",4,"ngIf"],[1,"all"],[1,"search"],["method","get",1,"form"],["mat-icon-button","",1,"se"],[1,"material-symbols-outlined"],["type","text","placeholder","Search",1,"input",3,"formControl"],["mat-icon-button","","class","close",3,"click",4,"ngIf"],[1,"icons3"],["matTooltip","Refresh",3,"click"],[3,"click","matTooltip"],["matTooltip","Dark Mode"],[1,"ball"],[1,"uball",3,"matMenuTriggerFor"],[1,"profile-ctn"],["alt","profile",3,"src"],[1,"example-container"],[1,"example-sidenav",3,"mode"],[1,"sbar"],[1,"sbar1"],[1,"sul",3,"click"],[1,"sli",3,"routerLinkActive"],["routerLink","/dashboard/note"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"gb_mc"],["d","M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6A4.997 4.997 0 0 1 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"],[1,"stext"],["routerLink","/dashboard/reminders","aria-label","Reminders"],["d","M18 17v-6c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v6H4v2h16v-2h-2zm-2 0H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6zm-4 5c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2z"],[1,"sul"],[1,"qwer"],["class","sli",3,"routerLinkActive","routerLink","queryParams",4,"ngFor","ngForOf"],[1,"sli"],["d","M20.41 4.94l-1.35-1.35c-.78-.78-2.05-.78-2.83 0L13.4 6.41 3 16.82V21h4.18l10.46-10.46 2.77-2.77c.79-.78.79-2.05 0-2.83zm-14 14.12L5 19v-1.36l9.82-9.82 1.41 1.41-9.82 9.83z"],[1,"stext",3,"click"],["routerLink","/dashboard/archive","aria-label","archive"],["d","M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM6.24 5h11.52l.83 1H5.42l.82-1zM5 19V8h14v11H5zm11-5.5l-4 4-4-4 1.41-1.41L11 13.67V10h2v3.67l1.59-1.59L16 13.5z"],["routerLink","/dashboard/trash","aria-label","Trash"],["d","M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13z"],["d","M9 8h2v9H9zm4 0h2v9h-2z"],[1,"prof"],[1,"wrapper",2,"padding","25px"],[1,"prof-avatr"],[4,"ngIf","ngIfElse"],[1,"edit-profile",3,"click"],["mat-icon-button",""],[1,"material-symbols-outlined","edit-ico"],[1,"usr-name"],[1,"usr-email"],[1,"pbtns"],["mat-raised-button","","color","warn",3,"click"],[1,"k2"],["src","assets/icons/memo_nest.png",1,"k21"],[1,"k22",2,"margin-top","5px"],[1,"k3"],["class","k22",4,"ngIf","ngIfElse"],[1,"k22"],["mat-icon-button","",1,"close",3,"click"],[1,"sli",3,"routerLinkActive","routerLink","queryParams"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"gb_jc"],["d","M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"],["alt","",3,"src"]],template:function(t,n){if(t&1){let o=R();c(0,"body")(1,"mat-toolbar")(2,"mat-toolbar-row",5)(3,"div",6)(4,"div",7),S("click",function(){y(o);let l=H(37);return w(l.toggle())}),ue(),c(5,"svg",8),T(6,"path",9),h()(),k(7,ym,4,0,"div",10)(8,xm,4,2,"div",11),h(),Ge(),c(9,"div",12)(10,"div",13)(11,"form",14)(12,"button",15)(13,"span",16),D(14," search "),h()(),T(15,"input",17,0),k(17,Dm,3,0,"button",18),h()(),c(18,"div",19)(19,"div",20),S("click",function(){return y(o),w(n.refresh())}),c(20,"span",16),D(21," refresh "),h()(),c(22,"div",21),S("click",function(){return y(o),w(n.onViewChange())}),c(23,"span",16),D(24),h()(),c(25,"div",22)(26,"span",16),D(27," dark_mode "),h()()()(),c(28,"div",23)(29,"div",24)(30,"div",25),k(31,Sm,1,1,"img",26)(32,Mm,3,5),h()()(),T(33,"div")(34,"div"),h()(),c(35,"mat-drawer-container",27)(36,"mat-drawer",28,1),rt(38,"async"),c(39,"div",29)(40,"div",30)(41,"ul",31),S("click",function(){y(o);let l=H(37);return w(l.toggle())}),c(42,"li",32)(43,"a",33),ue(),c(44,"svg",34),T(45,"path",35),h(),Ge(),c(46,"span",36),D(47,"Notes"),h()()(),c(48,"li",32)(49,"a",37),ue(),c(50,"svg",34),T(51,"path",38),h(),Ge(),c(52,"span",36),D(53,"Reminders"),h()()()(),c(54,"ul",39)(55,"div",40),D(56,"LABELS"),h(),k(57,Em,6,9,"li",41),c(58,"li",42)(59,"a"),ue(),c(60,"svg",34),T(61,"path",43),h(),Ge(),c(62,"span",44),S("click",function(){return y(o),w(n.editLabels())}),D(63,"Edit labels"),h()()()(),c(64,"ul",31),S("click",function(){y(o);let l=H(37);return w(l.toggle())}),c(65,"li",32)(66,"a",45),ue(),c(67,"svg",34),T(68,"path",46),h(),Ge(),c(69,"span",36),D(70,"Archive"),h()()(),c(71,"li",32)(72,"a",47),ue(),c(73,"svg",34),T(74,"path",48)(75,"path",49),h(),Ge(),c(76,"span",36),D(77,"Trash"),h()()()()()()(),c(78,"mat-menu",50,2)(80,"div")(81,"div",51)(82,"div",52),k(83,Im,2,1,"ng-container",53)(84,Tm,2,1,"ng-template",null,3,Ve),c(86,"div",54),S("click",function(l){return y(o),l.stopPropagation(),w(n.file())}),c(87,"button",55)(88,"span",56),D(89," edit "),h()()()(),c(90,"div",57),D(91),rt(92,"titlecase"),h(),c(93,"div",58),D(94),rt(95,"lowercase"),h()(),c(96,"div",59)(97,"button",60),S("click",function(){return y(o),w(n.onSignOut())}),D(98,"Sign Out"),h()()()(),T(99,"router-outlet"),h()()}if(t&2){let o=H(79),s=H(85);_(7),b("ngIf",n.router.url==="/dashboard/note"),_(),b("ngIf",n.router.url!=="/dashboard/note"),_(7),b("formControl",n.search),_(2),b("ngIf",n.search.value),_(5),b("matTooltip",n.view=="listico"?"Grid":"List"),_(2),Ee(" ",n.view=="listico"?"grid_view":"view_stream"," "),_(5),b("matMenuTriggerFor",o),_(2),qe(31,n.userAvatar?31:32),_(5),b("mode",sn(38,18,n.isHandset$)?"over":"side"),_(6),b("routerLinkActive",Oi(24,yn)),_(6),b("routerLinkActive",Oi(25,yn)),_(9),b("ngForOf",n.labels),_(8),b("routerLinkActive",Oi(26,yn)),_(6),b("routerLinkActive",Oi(27,yn)),_(12),b("ngIf",n.userAvatar)("ngIfElse",s),_(8),Z(sn(92,20,n.name)),_(3),Z(sn(95,22,n.email))}},dependencies:[vt,se,Qs,Yi,Ui,Us,or,Qi,Ne,pt,er,Cs,xs,Gl,to,ui,no,ro,Bt,$i,qn,ds,ps,hs],styles:[`body{background-color:#fff;color:#202124;direction:ltr;font-family:Roboto,arial,sans-serif;font-size:15px;margin:0;min-width:360px;padding:0;overflow:hidden}title{font-size:100px}.mat-toolbar{background:#fff!important}#row{padding:8px;height:65px;border-bottom:1px solid #dadce0}.left{max-width:243px;height:48px;box-sizing:border-box;flex:1 0 auto;display:flex;padding-right:32px}.icondiv{display:inline-block;border-radius:50%;margin:0 4px;padding:10px;overflow:hidden;vertical-align:middle;cursor:pointer;height:24px;width:24px;flex:0 0 auto;opacity:.5}.icondiv:hover{background-color:#0000001a;border-radius:50%}.k2{padding-left:0;padding-right:16px;align-items:center;display:flex;height:44px;width:101px;-webkit-user-select:none;user-select:none}.k2 .k22{line-height:24px;padding-left:8px;top:-1.5px;opacity:.65}.k3{padding-right:0;padding-left:8px;top:2px;align-items:center;display:flex;height:44px;width:101px;opacity:.85;font-family:google-sans,product-sans;font-weight:500}.k3 .k22{line-height:20px;top:.5px}.k22{display:inline-block;font-family:product-sans,Arial,sans-serif;font-size:22px;position:relative;vertical-align:middle}@media (max-width: 360px){.k3{padding-left:0}.k22{font-size:19px}}.k21{width:40px;height:40px}@media (max-width: 601px){.k21{display:none}}#id{float:right}.all{height:48px;white-space:nowrap;align-items:center;display:flex;flex:1 0 auto}.search{max-width:100%;flex:1 1 auto;padding-right:16px}.search .material-symbols-outlined{opacity:.7}@media (max-width: 426px){.search{padding-right:1px}.left{padding-right:2px}}.form{margin-left:0;margin-right:0;border-radius:8px;background:#0000000a;border:1px solid rgba(0,0,0,0);max-width:720px;position:relative;display:flex}.input{overflow:hidden;border:none;box-sizing:border-box;font-size:16px;font-family:sans-serif;background:none;outline:none;width:100%;padding:10px 15px 10px 0}@media (max-width: 775px){.input{display:none}.se{float:right}.form{display:block;border:none}.left{max-width:130px;transition:max-width .218s ease-in}}form svg{opacity:.54}.icons3{line-height:0;display:inline-flex}.icons3 div{opacity:.7;height:48px;width:48px;cursor:pointer;display:flex;justify-content:center;align-items:center}.icons3 div .material-symbols-outlined{font-size:26px}@media (max-width: 403px){.icons3 div{width:38px;transition:width .218s ease-in}}.icons3 div:hover{opacity:1}.refresh-anim{animation:spin3 .6s linear}@keyframes spin3{0%{-moz-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);-ms-transform:rotate(0deg)}to{-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg)}}.ball{box-sizing:border-box;height:48px;padding:0 15px 0 65px;flex:0 0 auto}@media (max-width: 1000px){.ball{padding-left:1px}}.uball{padding:4px}.tiny1{background-size:32px 32px;border-radius:50%;display:block;margin:0;overflow:hidden;position:relative;height:38px;width:38px;z-index:1;background-color:gold;font-size:1.9rem;text-align:center;font-weight:400;background-position:top center;background-size:cover}.profile-ctn{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;border:1px solid silver;overflow:hidden;font-family:product-sans,Arial,sans-serif;font-size:28px;background-color:#ffd602}.profile-ctn img{width:100%;height:100%;object-fit:cover}.sbar{flex:1 1 auto;display:flex;flex-direction:column;height:calc(669px - 100%);width:280px;transform:translate(0);visibility:visible}.sbar1{flex:1 0 auto;margin-right:5px}.sul{margin-top:0;margin-bottom:0;padding:8px 0}.sli{display:block;min-height:40px;padding-bottom:4px;padding-top:4px;padding-left:24px;font-family:google-sans,Roboto,Arial,sans-serif;border-top-right-radius:22px;border-bottom-right-radius:22px;outline:none}.sli a{color:inherit;text-decoration:none}.sli:hover{background-color:#f2f2f7b6}.sli a{text-decoration:none;display:inline-block;width:100%}.stext{padding-left:32px;display:inline-block;line-height:40px;vertical-align:top;width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.sli>a svg{margin-top:8px;opacity:.7}.sul:not(:last-child){border-bottom:1px solid #ddd}.qwer{padding:15px 24px 10px;font:11px Roboto,Arial,sans-serif;color:#5f6368;font-weight:500;letter-spacing:.07em}.example-container{height:90%;background:#fff!important}.example-sidenav{overflow:hidden;border:none}.pbtns{text-align:center;padding:10px 0 4px;border-top:1px solid rgb(201,199,199)}.prof{max-width:338px!important;overflow:hidden!important;border-radius:2px!important;box-shadow:0 2px 4px -1px #0000001a,0 4px 5px #0000001a,0 1px 10px #0000001a;border:1px solid #ccc}.wrapper{padding:25px;display:flex;justify-content:center;align-items:center;flex-direction:column}.prof-avatr{display:flex;justify-content:center;align-items:center;text-align:center;width:100px;height:100px;margin-bottom:20px;border-radius:50%;background-color:#ffd602;position:relative}.prof-avatr img{width:100%;height:100%;border-radius:50%}.prof-avatr span{color:#000;font-weight:500;font-size:50px}.prof-avatr .edit-profile{position:absolute;top:0;left:0;background-color:#202124e3;width:100%;height:100%;z-index:1;border-radius:50%;display:none;justify-content:center;align-items:center}.prof-avatr .edit-profile button{justify-content:center;align-items:center;display:flex}.prof-avatr .edit-profile .edit-ico{color:#fff;font-size:35px}.prof-avatr:hover .edit-profile{display:flex}.usr-name,.usr-email{line-height:1.5rem;letter-spacing:.00625em}.usr-name{font-size:20px;font-weight:500}.usr-email{font-size:14px;font-weight:400;color:#525151}.active{background-color:#feefc3;opacity:1}.mat-drawer-backdrop.mat-drawer-shown{background-color:transparent!important}
`],encapsulation:2});let a=i;return a})();var km=["mat-calendar-body",""];function Am(a,i){if(a&1&&(c(0,"tr",0)(1,"td",3),D(2),h()()),a&2){let r=x();_(),ce("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),G("colspan",r.numCols),_(),Ee(" ",r.label," ")}}function Pm(a,i){if(a&1&&(c(0,"td",3),D(1),h()),a&2){let r=x(2);ce("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),G("colspan",r._firstRowOffset),_(),Ee(" ",r._firstRowOffset>=r.labelMinRequiredCells?r.label:""," ")}}function Om(a,i){if(a&1){let r=R();c(0,"td",6)(1,"button",7),S("click",function(t){let n=y(r).$implicit,o=x(2);return w(o._cellClicked(n,t))})("focus",function(t){let n=y(r).$implicit,o=x(2);return w(o._emitActiveDateChange(n,t))}),c(2,"span",8),D(3),h(),T(4,"span",9),h()()}if(a&2){let r=i.$implicit,e=i.$index,t=x().$index,n=x();ce("width",n._cellWidth)("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),G("data-mat-row",t)("data-mat-col",e),_(),q("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",n._isActiveCell(t,e))("mat-calendar-body-range-start",n._isRangeStart(r.compareValue))("mat-calendar-body-range-end",n._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",n._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",n._isComparisonBridgeStart(r.compareValue,t,e))("mat-calendar-body-comparison-bridge-end",n._isComparisonBridgeEnd(r.compareValue,t,e))("mat-calendar-body-comparison-start",n._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",n._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",n._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",n._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",n._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",n._isInPreview(r.compareValue)),b("ngClass",r.cssClasses)("tabindex",n._isActiveCell(t,e)?0:-1),G("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-pressed",n._isSelected(r.compareValue))("aria-current",n.todayValue===r.compareValue?"date":null)("aria-describedby",n._getDescribedby(r.compareValue)),_(),q("mat-calendar-body-selected",n._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",n._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",n.todayValue===r.compareValue),_(),Ee(" ",r.displayValue," ")}}function Rm(a,i){if(a&1&&(c(0,"tr",1),k(1,Pm,2,6,"td",4),Nn(2,Om,5,48,"td",5,Ln),h()),a&2){let r=i.$implicit,e=i.$index,t=x();_(),qe(1,e===0&&t._firstRowOffset?1:-1),_(),zn(r)}}function Fm(a,i){if(a&1&&(c(0,"th",2)(1,"span",6),D(2),h(),c(3,"span",3),D(4),h()()),a&2){let r=i.$implicit;_(2),Z(r.long),_(2),Z(r.narrow)}}var Vm=["*"];function Lm(a,i){}function Nm(a,i){if(a&1){let r=R();c(0,"mat-month-view",2),Gn("activeDateChange",function(t){y(r);let n=x();return Qn(n.activeDate,t)||(n.activeDate=t),w(t)}),S("_userSelection",function(t){y(r);let n=x();return w(n._dateSelected(t))})("dragStarted",function(t){y(r);let n=x();return w(n._dragStarted(t))})("dragEnded",function(t){y(r);let n=x();return w(n._dragEnded(t))}),h()}if(a&2){let r=x();Un("activeDate",r.activeDate),b("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName)("activeDrag",r._activeDrag)}}function zm(a,i){if(a&1){let r=R();c(0,"mat-year-view",3),Gn("activeDateChange",function(t){y(r);let n=x();return Qn(n.activeDate,t)||(n.activeDate=t),w(t)}),S("monthSelected",function(t){y(r);let n=x();return w(n._monthSelectedInYearView(t))})("selectedChange",function(t){y(r);let n=x();return w(n._goToDateInView(t,"month"))}),h()}if(a&2){let r=x();Un("activeDate",r.activeDate),b("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function jm(a,i){if(a&1){let r=R();c(0,"mat-multi-year-view",4),Gn("activeDateChange",function(t){y(r);let n=x();return Qn(n.activeDate,t)||(n.activeDate=t),w(t)}),S("yearSelected",function(t){y(r);let n=x();return w(n._yearSelectedInMultiYearView(t))})("selectedChange",function(t){y(r);let n=x();return w(n._goToDateInView(t,"year"))}),h()}if(a&2){let r=x();Un("activeDate",r.activeDate),b("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function Bm(a,i){}var Hm=["button"],Ym=[[["","matDatepickerToggleIcon",""]]],Wm=["[matDatepickerToggleIcon]"];function Um(a,i){a&1&&(ue(),c(0,"svg",2),T(1,"path",3),h())}var Dn=(()=>{let i=class i{constructor(){this.changes=new N,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})(),Cn=class{constructor(i,r,e,t,n={},o=i,s){this.value=i,this.displayValue=r,this.ariaLabel=e,this.enabled=t,this.cssClasses=n,this.compareValue=o,this.rawValue=s}},Qm=1,lc=ct({passive:!1,capture:!0}),gi=ct({passive:!0,capture:!0}),Or=ct({passive:!0}),Zi=(()=>{let i=class i{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,t){this._elementRef=e,this._ngZone=t,this._platform=ae(Lt),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new P,this.previewChange=new P,this.activeDateChange=new P,this.dragStarted=new P,this.dragEnded=new P,this._didDragSinceMouseDown=!1,this._enterHandler=n=>{if(this._skipNextFocus&&n.type==="focus"){this._skipNextFocus=!1;return}if(n.target&&this.isRange){let o=this._getCellFromElement(n.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:n}))}},this._touchmoveHandler=n=>{if(!this.isRange)return;let o=cc(n),s=o?this._getCellFromElement(o):null;o!==n.target&&(this._didDragSinceMouseDown=!0),co(n.target)&&n.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:n}))},this._leaveHandler=n=>{this.previewEnd!==null&&this.isRange&&(n.type!=="blur"&&(this._didDragSinceMouseDown=!0),n.target&&this._getCellFromElement(n.target)&&!(n.relatedTarget&&this._getCellFromElement(n.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:n})))},this._mousedownHandler=n=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=n.target&&this._getCellFromElement(n.target);!o||!this._isInRange(o.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:n})})},this._mouseupHandler=n=>{if(!this.isRange)return;let o=co(n.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:n})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let s=this._getCellFromElement(o);this.dragEnded.emit({value:s?.rawValue??null,event:n})})},this._touchendHandler=n=>{let o=cc(n);o&&this._mouseupHandler({target:o})},this._id=`mat-calendar-body-${Qm++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,t.runOutsideAngular(()=>{let n=e.nativeElement;n.addEventListener("touchmove",this._touchmoveHandler,lc),n.addEventListener("mouseenter",this._enterHandler,gi),n.addEventListener("focus",this._enterHandler,gi),n.addEventListener("mouseleave",this._leaveHandler,gi),n.addEventListener("blur",this._leaveHandler,gi),n.addEventListener("mousedown",this._mousedownHandler,Or),n.addEventListener("touchstart",this._mousedownHandler,Or),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:n,numCols:o}=this;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?o-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,lc),e.removeEventListener("mouseenter",this._enterHandler,gi),e.removeEventListener("focus",this._enterHandler,gi),e.removeEventListener("mouseleave",this._leaveHandler,gi),e.removeEventListener("blur",this._leaveHandler,gi),e.removeEventListener("mousedown",this._mousedownHandler,Or),e.removeEventListener("touchstart",this._mousedownHandler,Or),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,t){let n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pe(1)).subscribe(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ho(e,this.startValue,this.endValue)}_isRangeEnd(e){return po(e,this.startValue,this.endValue)}_isInRange(e){return mo(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ho(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[t][n-1];if(!o){let s=this.rows[t-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,t,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[t][n+1];if(!o){let s=this.rows[t+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return po(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return mo(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ho(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return po(e,this.previewStart,this.previewEnd)}_isInPreview(e){return mo(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let t=co(e);if(t){let n=t.getAttribute("data-mat-row"),o=t.getAttribute("data-mat-col");if(n&&o)return this.rows[parseInt(n)][parseInt(o)]}return null}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(ge))},i.\u0275cmp=O({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[We,ee],attrs:km,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,n){t&1&&(k(0,Am,3,6,"tr",0),Nn(1,Rm,4,1,"tr",1,Ln),c(3,"label",2),D(4),h(),c(5,"label",2),D(6),h()),t&2&&(qe(0,n._firstRowOffset<n.labelMinRequiredCells?0:-1),_(),zn(n.rows),_(2),b("id",n._startDateLabelId),_(),Ee(" ",n.startDateAccessibleName,`
`),_(),b("id",n._endDateLabelId),_(),Ee(" ",n.endDateAccessibleName,`
`))},dependencies:[_t],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let a=i;return a})();function lo(a){return a?.nodeName==="TD"}function co(a){let i;return lo(a)?i=a:lo(a.parentNode)?i=a.parentNode:lo(a.parentNode?.parentNode)&&(i=a.parentNode.parentNode),i?.getAttribute("data-mat-row")!=null?i:null}function ho(a,i,r){return r!==null&&i!==r&&a<r&&a===i}function po(a,i,r){return i!==null&&i!==r&&a>=i&&a===r}function mo(a,i,r,e){return e&&i!==null&&r!==null&&i!==r&&a>=i&&a<=r}function cc(a){let i=a.changedTouches[0];return document.elementFromPoint(i.clientX,i.clientY)}var St=class{constructor(i,r){this.start=i,this.end=r}},xn=(()=>{let i=class i{constructor(e,t){this.selection=e,this._adapter=t,this._selectionChanged=new N,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,t){let n=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}};i.\u0275fac=function(t){es()},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let a=i;return a})(),Gm=(()=>{let i=class i extends xn{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new i(this._adapter);return e.updateSelection(this.selection,this),e}};i.\u0275fac=function(t){return new(t||i)(J(ht))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let a=i;return a})();function qm(a,i){return a||new Gm(i)}var fc={provide:xn,deps:[[new Go,new qo,xn],ht],useFactory:qm};var _c=new me("MAT_DATE_RANGE_SELECTION_STRATEGY");var uo=7,dc=(()=>{let i=class i{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof St?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,n,o,s){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=Ae.EMPTY,this.activeDrag=null,this.selectedChange=new P,this._userSelection=new P,this.dragStarted=new P,this.dragEnded=new P,this.activeDateChange=new P,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Fe(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,n=this._getDateFromDayOfMonth(t),o,s;this._selected instanceof St?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==t||s!==t)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!Re(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(uo+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%uo,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let n=t?t.rawValue:null,o=this._rangeStrategy.createPreview(n,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&n){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:t[l]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,o=this._firstWeekOffset;n<e;n++,o++){o==uo&&(this._weeks.push([]),o=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),l=this._shouldEnableDate(s),d=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),u=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Cn(n+1,t[n],d,l,u,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(t,n,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof St?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}};i.\u0275fac=function(t){return new(t||i)(m(de),m(Di,8),m(ht,8),m(Qe,8),m(_c,8))},i.\u0275cmp=O({type:i,selectors:[["mat-month-view"]],viewQuery:function(t,n){if(t&1&&ne(Zi,5),t&2){let o;Y(o=W())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[We,ee],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,n){t&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),Nn(3,Fm,5,2,"th",2,Ln),h(),c(5,"tr",3),T(6,"th",4),h()(),c(7,"tbody",5),S("selectedValueChange",function(s){return n._dateSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("previewChange",function(s){return n._previewChanged(s)})("dragStarted",function(s){return n.dragStarted.emit(s)})("dragEnded",function(s){return n._dragEnded(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),h()()),t&2&&(_(3),zn(n._weekdays),_(4),b("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[Zi],encapsulation:2,changeDetection:0});let a=i;return a})(),gt=24,go=4,hc=(()=>{let i=class i{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),vc(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof St?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,n){this._changeDetectorRef=e,this._dateAdapter=t,this._dir=n,this._rerenderSubscription=Ae.EMPTY,this.selectedChange=new P,this.yearSelected=new P,this.activeDateChange=new P,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Fe(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-wn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,o=[];n<gt;n++)o.push(t+n),o.length==go&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,n=this._dateAdapter.createDate(t,0,1),o=this._getDateFromYear(t);this.yearSelected.emit(n),this.selectedChange.emit(o)}_updateActiveDate(e){let t=e.value,n=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-go);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,go);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-wn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt-wn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-gt*10:-gt);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?gt*10:gt);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return wn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(t),o=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new Cn(e,n,n,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let n=t;this._dateAdapter.getYear(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof St){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}};i.\u0275fac=function(t){return new(t||i)(m(de),m(ht,8),m(Qe,8))},i.\u0275cmp=O({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(t,n){if(t&1&&ne(Zi,5),t&2){let o;Y(o=W())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[ee],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,n){t&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),T(3,"th",2),h()(),c(4,"tbody",3),S("selectedValueChange",function(s){return n._yearSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),h()()),t&2&&(_(4),b("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[Zi],encapsulation:2,changeDetection:0});let a=i;return a})();function vc(a,i,r,e,t){let n=a.getYear(i),o=a.getYear(r),s=bc(a,e,t);return Math.floor((n-s)/gt)===Math.floor((o-s)/gt)}function wn(a,i,r,e){let t=a.getYear(i);return Km(t-bc(a,r,e),gt)}function bc(a,i,r){let e=0;return r?e=a.getYear(r)-gt+1:i&&(e=a.getYear(i)),e}function Km(a,i){return(a%i+i)%i}var pc=(()=>{let i=class i{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof St?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,n,o){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=o,this._rerenderSubscription=Ae.EMPTY,this.selectedChange=new P,this.monthSelected=new P,this.activeDateChange=new P,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Fe(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(n);let o=this._getDateFromMonth(t);this.selectedChange.emit(o)}_updateActiveDate(e){let t=e.value,n=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(n=>this._createCellForMonth(n,e[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),n=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(e,t){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(n,"year"):void 0;return new Cn(e,t.toLocaleUpperCase(),o,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(t,e,1);for(let o=n;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let n=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>o}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let n=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof St?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}};i.\u0275fac=function(t){return new(t||i)(m(de),m(Di,8),m(ht,8),m(Qe,8))},i.\u0275cmp=O({type:i,selectors:[["mat-year-view"]],viewQuery:function(t,n){if(t&1&&ne(Zi,5),t&2){let o;Y(o=W())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[ee],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,n){t&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),T(3,"th",2),h()(),c(4,"tbody",3),S("selectedValueChange",function(s){return n._monthSelected(s)})("activeDateChange",function(s){return n._updateActiveDate(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),h()()),t&2&&(_(4),b("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[Zi],encapsulation:2,changeDetection:0});let a=i;return a})(),$m=1,yc=(()=>{let i=class i{constructor(e,t,n,o,s){this._intl=e,this.calendar=t,this._dateAdapter=n,this._dateFormats=o,this._id=`mat-calendar-header-${$m++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-gt)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:gt)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):vc(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-wn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=t+gt-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1));return[o,s]}};i.\u0275fac=function(t){return new(t||i)(m(Dn),m(ai(()=>fo)),m(ht,8),m(Di,8),m(de))},i.\u0275cmp=O({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[ee],ngContentSelectors:Vm,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],[1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(t,n){t&1&&(Be(),c(0,"div",0)(1,"div",1)(2,"label",2),D(3),h(),c(4,"button",3),S("click",function(){return n.currentPeriodClicked()}),c(5,"span",4),D(6),h(),ue(),c(7,"svg",5),T(8,"polygon",6),h()(),Ge(),T(9,"div",7),Me(10),c(11,"button",8),S("click",function(){return n.previousClicked()}),h(),c(12,"button",9),S("click",function(){return n.nextClicked()}),h()()()),t&2&&(_(2),b("id",n._periodButtonLabelId),_(),Z(n.periodButtonDescription),_(),G("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),_(2),Z(n.periodButtonText),_(),q("mat-calendar-invert",n.calendar.currentView!=="month"),_(4),b("disabled",!n.previousEnabled()),G("aria-label",n.prevButtonLabel),_(),b("disabled",!n.nextEnabled()),G("aria-label",n.nextButtonLabel))},dependencies:[Ne,pt],encapsulation:2,changeDetection:0});let a=i;return a})(),fo=(()=>{let i=class i{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof St?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}constructor(e,t,n,o){this._dateAdapter=t,this._dateFormats=n,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new P,this.yearSelected=new P,this.monthSelected=new P,this.viewChanged=new P(!0),this._userSelection=new P,this._userDragDrop=new P,this._activeDrag=null,this.stateChanges=new N,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new ci(this.headerComponent||yc),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,n=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=t||n||e.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof St||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};i.\u0275fac=function(t){return new(t||i)(m(Dn),m(ht,8),m(Di,8),m(de))},i.\u0275cmp=O({type:i,selectors:[["mat-calendar"]],viewQuery:function(t,n){if(t&1&&(ne(dc,5),ne(pc,5),ne(hc,5)),t&2){let o;Y(o=W())&&(n.monthView=o.first),Y(o=W())&&(n.yearView=o.first),Y(o=W())&&(n.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[nt([fc]),We,ee],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,n){if(t&1&&(k(0,Lm,0,0,"ng-template",0),c(1,"div",1),k(2,Nm,1,11)(3,zm,1,6)(4,jm,1,6),h()),t&2){let o;b("cdkPortalOutlet",n._calendarHeaderPortal),_(2),qe(2,(o=n.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[di,Vs,dc,pc,hc],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let a=i;return a})(),mc={transformPanel:Et("transformPanel",[Ue("void => enter-dropdown",je("120ms cubic-bezier(0, 0, 0.2, 1)",oa([he({opacity:0,transform:"scale(1, 0.8)"}),he({opacity:1,transform:"scale(1, 1)"})]))),Ue("void => enter-dialog",je("150ms cubic-bezier(0, 0, 0.2, 1)",oa([he({opacity:0,transform:"scale(0.7)"}),he({transform:"none",opacity:1})]))),Ue("* => void",je("100ms linear",he({opacity:0})))]),fadeInCalendar:Et("fadeInCalendar",[It("void",he({opacity:0})),It("enter",he({opacity:1})),Ue("void => *",je("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Xm=0,wc=new me("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let a=ae(pe);return()=>a.scrollStrategies.reposition()}});function Zm(a){return()=>a.scrollStrategies.reposition()}var Jm={provide:wc,deps:[pe],useFactory:Zm},Cc=(()=>{let i=class i{constructor(e,t,n,o,s,l){this._elementRef=e,this._changeDetectorRef=t,this._globalModel=n,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new Ae,this._animationDone=new N,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,n=e.value,o=t instanceof St;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(n,t,e.event);this._model.updateSelection(s,this)}else n&&(o||!this._dateAdapter.sameDate(n,t))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(de),m(xn),m(ht),m(_c,8),m(Dn))},i.\u0275cmp=O({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(t,n){if(t&1&&ne(fo,5),t&2){let o;Y(o=W())&&(n._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(t,n){t&1&&Hn("@transformPanel.start",function(s){return n._handleAnimationEvent(s)})("@transformPanel.done",function(s){return n._handleAnimationEvent(s)}),t&2&&(Bn("@transformPanel",n._animationState),wi(n.color?"mat-"+n.color:""),q("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[ee],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,n){if(t&1&&(c(0,"div",0)(1,"mat-calendar",1),S("yearSelected",function(s){return n.datepicker._selectYear(s)})("monthSelected",function(s){return n.datepicker._selectMonth(s)})("viewChanged",function(s){return n.datepicker._viewChanged(s)})("_userSelection",function(s){return n._handleUserSelection(s)})("_userDragDrop",function(s){return n._handleUserDragDrop(s)}),h(),k(2,Bm,0,0,"ng-template",2),c(3,"button",3),S("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),D(4),h()()),t&2){let o;q("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),G("aria-modal",!0)("aria-labelledby",(o=n._dialogLabelId)!==null&&o!==void 0?o:void 0),_(),wi(n.datepicker.panelClass),b("id",n.datepicker.id)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),_(),b("cdkPortalOutlet",n._actionsPortal),_(),q("cdk-visually-hidden",!n._closeButtonFocused),b("color",n.color||"primary"),_(),Z(n._closeButtonText)}},dependencies:[Rs,fo,di,Ne],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[mc.transformPanel,mc.fadeInCalendar]},changeDetection:0});let a=i;return a})(),uc=(()=>{let i=class i{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Ds(e)}get opened(){return this._opened}set opened(e){e?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,t,n,o,s,l,d){this._overlay=e,this._ngZone=t,this._viewContainerRef=n,this._dateAdapter=s,this._dir=l,this._model=d,this._inputStateChanges=Ae.EMPTY,this._document=ae(Le),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new P,this.monthSelected=new P,this.viewChanged=new P(!0),this.openedStream=new P,this.closedStream=new P,this._opened=!1,this.id=`mat-datepicker-${Xm++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new N,this._dateAdapter,this._scrollStrategy=o}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let n=this._overlayRef.getConfig().positionStrategy;n instanceof Ts&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Vi(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:n,location:o}=this._componentRef;n._startExitAnimation(),n._animationDone.pipe(Pe(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||o.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new ci(Cc,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new Ni({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(n).subscribe(o=>{o&&o.preventDefault(),this.close()}),n.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=n.attach(t),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Pe(1)).subscribe(()=>n.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",n=t==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:s,overlayX:t,overlayY:o},{originX:t,originY:o,overlayX:t,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return ke(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Se(n=>n.keyCode===27&&!Re(n)||this.datepickerInput&&Re(n,"altKey")&&n.keyCode===38&&t.every(o=>!Re(n,o)))))}};i.\u0275fac=function(t){return new(t||i)(m(pe),m(ge),m(qt),m(wc),m(ht,8),m(Qe,8),m(xn))},i.\u0275dir=ze({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[j.HasDecoratorInputTransform,"touchUi","touchUi",Oe],disabled:[j.HasDecoratorInputTransform,"disabled","disabled",Oe],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[j.HasDecoratorInputTransform,"restoreFocus","restoreFocus",Oe],dateClass:"dateClass",panelClass:"panelClass",opened:[j.HasDecoratorInputTransform,"opened","opened",Oe]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Ft,We]});let a=i;return a})(),xc=(()=>{let i=class i extends uc{};i.\u0275fac=(()=>{let e;return function(n){return(e||(e=Pn(i)))(n||i)}})(),i.\u0275cmp=O({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[nt([fc,{provide:uc,useExisting:i}]),Kt,ee],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0});let a=i;return a})(),Xi=class{constructor(i,r){this.target=i,this.targetElement=r,this.value=this.target.value}},eu=(()=>{let i=class i{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let n=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new Xi(this,this._elementRef.nativeElement)),this.dateChange.emit(new Xi(this,this._elementRef.nativeElement))}})}constructor(e,t,n){this._elementRef=e,this._dateAdapter=t,this._dateFormats=n,this.dateChange=new P,this.dateInput=new P,this.stateChanges=new N,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ae.EMPTY,this._localeSubscription=Ae.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMinDate();return!l||!s||this._dateAdapter.compareDate(l,s)<=0?null:{matDatepickerMin:{min:l,actual:s}}},this._maxValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMaxDate();return!l||!s||this._dateAdapter.compareDate(l,s)>=0?null:{matDatepickerMax:{max:l,actual:s}}},this._lastValueValid=!1,this._localeSubscription=t.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){tu(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];Re(e,"altKey")&&e.keyCode===40&&t.every(o=>!Re(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=this._lastValueValid,n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);let o=!this._dateAdapter.sameDate(n,this.value);!n||o?this._cvaOnChange(n):(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(n),this.dateInput.emit(new Xi(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Xi(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(ht,8),m(Di,8))},i.\u0275dir=ze({type:i,inputs:{value:"value",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",Oe]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Ft,We]});let a=i;return a})();function tu(a,i){let r=Object.keys(a);for(let e of r){let{previousValue:t,currentValue:n}=a[e];if(i.isDateInstance(t)&&i.isDateInstance(n)){if(!i.sameDate(t,n))return!0}else return!0}return!1}var iu={provide:Ys,useExisting:ai(()=>Vr),multi:!0},nu={provide:Ws,useExisting:ai(()=>Vr),multi:!0},Vr=(()=>{let i=class i extends eu{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}constructor(e,t,n,o){super(e,t,n),this._formField=o,this._closedSubscription=Ae.EMPTY,this._validator=Wi.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}};i.\u0275fac=function(t){return new(t||i)(m(ie),m(ht,8),m(Di,8),m(sr,8))},i.\u0275dir=ze({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,n){t&1&&S("input",function(s){return n._onInput(s.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)}),t&2&&(jn("disabled",n.disabled),G("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(n._datepicker==null?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[j.None,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[nt([iu,nu,{provide:el,useExisting:i}]),Kt]});let a=i;return a})(),bo=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=ze({type:i,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let a=i;return a})(),yo=(()=>{let i=class i{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,t,n){this._intl=e,this._changeDetectorRef=t,this._stateChanges=Ae.EMPTY;let o=Number(n);this.tabIndex=o||o===0?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:Qt(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Qt(),n=this.datepicker?ke(this.datepicker.openedStream,this.datepicker.closedStream):Qt();this._stateChanges.unsubscribe(),this._stateChanges=ke(this._intl.changes,e,t,n).subscribe(()=>this._changeDetectorRef.markForCheck())}};i.\u0275fac=function(t){return new(t||i)(m(Dn),m(de),On("tabindex"))},i.\u0275cmp=O({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,n,o){if(t&1&&Xe(o,bo,5),t&2){let s;Y(s=W())&&(n._customIcon=s.first)}},viewQuery:function(t,n){if(t&1&&ne(Hm,5),t&2){let o;Y(o=W())&&(n._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,n){t&1&&S("click",function(s){return n._open(s)}),t&2&&(G("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),q("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&n.datepicker.color==="accent")("mat-warn",n.datepicker&&n.datepicker.color==="warn"))},inputs:{datepicker:[j.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[j.None,"aria-label","ariaLabel"],disabled:[j.HasDecoratorInputTransform,"disabled","disabled",Oe],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Ft,We,ee],ngContentSelectors:Wm,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,n){t&1&&(Be(Ym),c(0,"button",1,0),k(2,Um,2,0,":svg:svg",2),Me(3),h()),t&2&&(b("disabled",n.disabled)("disableRipple",n.disableRipple),G("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),_(2),qe(2,n._customIcon?-1:2))},dependencies:[pt],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let a=i;return a})();var Dc=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:[Dn,Jm],imports:[bt,Hi,at,hi,xi,xe,Cc,yo,yc,dt]});let a=i;return a})();var ou=["trigger"],su=["panel"],lu=[[["mat-select-trigger"]],"*"],cu=["mat-select-trigger","*"];function du(a,i){if(a&1&&(c(0,"span",4),D(1),h()),a&2){let r=x();_(),Z(r.placeholder)}}function hu(a,i){a&1&&Me(0)}function pu(a,i){if(a&1&&(c(0,"span",11),D(1),h()),a&2){let r=x(2);_(),Z(r.triggerValue)}}function mu(a,i){if(a&1&&(c(0,"span",10),k(1,hu,1,0)(2,pu,2,1),h()),a&2){let r=x();_(),qe(1,r.customTrigger?1:2)}}function uu(a,i){if(a&1){let r=R();c(0,"div",12,1),S("@transformPanel.done",function(t){y(r);let n=x();return w(n._panelDoneAnimatingStream.next(t.toState))})("keydown",function(t){y(r);let n=x();return w(n._handleKeydown(t))}),Me(2,1),h()}if(a&2){let r=x();ns("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",r._getPanelTheme(),""),b("ngClass",r.panelClass)("@transformPanel","showing"),G("id",r.id+"-panel")("aria-multiselectable",r.multiple)("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby())}}var gu={transformPanelWrap:Et("transformPanelWrap",[Ue("* => void",ys("@transformPanel",[bs()],{optional:!0}))]),transformPanel:Et("transformPanel",[It("void",he({opacity:0,transform:"scale(1, 0.8)"})),Ue("void => showing",je("120ms cubic-bezier(0, 0, 0.2, 1)",he({opacity:1,transform:"scale(1, 1)"}))),Ue("* => void",je("100ms linear",he({opacity:0})))])};var Sc=0,Mc=new me("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let a=ae(pe);return()=>a.scrollStrategies.reposition()}});function fu(a){return()=>a.scrollStrategies.reposition()}var _u=new me("MAT_SELECT_CONFIG"),vu={provide:Mc,deps:[pe],useFactory:fu},bu=new me("MatSelectTrigger"),wo=class{constructor(i,r){this.source=i,this.value=r}},Ec=(()=>{let i=class i{_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let n=this.panel.nativeElement,o=Bs(e,this.options,this.optionGroups),s=t._getHostElement();e===0&&o===1?n.scrollTop=0:n.scrollTop=Hs(s.offsetTop,s.offsetHeight,n.scrollTop,n.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new wo(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Wi.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,n,o,s,l,d,u,f,v,I,E,C,p){this._viewportRuler=e,this._changeDetectorRef=t,this._elementRef=s,this._dir=l,this._parentFormField=f,this.ngControl=v,this._liveAnnouncer=C,this._defaultOptions=p,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(g,M)=>g===M,this._uid=`mat-select-${Sc++}`,this._triggerAriaLabelledBy=null,this._destroy=new N,this.stateChanges=new N,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Sc++}`,this._panelDoneAnimatingStream=new N,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new N,this.optionSelectionChanges=Pi(()=>{let g=this.options;return g?g.changes.pipe(Fe(g),bi(()=>ke(...g.map(M=>M.onSelectionChange)))):this._initialized.pipe(bi(()=>this.optionSelectionChanges))}),this.openedChange=new P,this._openedStream=this.openedChange.pipe(Se(g=>g),Te(()=>{})),this._closedStream=this.openedChange.pipe(Se(g=>!g),Te(()=>{})),this.selectionChange=new P,this.valueChange=new P,this._trackedModal=null,this._skipPredicate=g=>this.panelOpen?!1:g.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),p?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._errorStateTracker=new ma(o,v,u,d,this.stateChanges),this._scrollStrategyFactory=E,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(I)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Es(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(An(),$(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe($(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe($(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Fe(null),$(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?n.setAttribute("aria-labelledby",e):n.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&pa(this._trackedModal,"aria-owns",t),ks(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;pa(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,n=t===40||t===38||t===37||t===39,o=t===13||t===32,s=this._keyManager;if(!s.isTyping()&&o&&!Re(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(e);let d=this.selected;d&&l!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,n=e.keyCode,o=n===40||n===38,s=t.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(n===13||n===32)&&t.activeItem&&!Re(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!s&&this._multiple&&n===65&&e.ctrlKey){e.preventDefault();let l=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(l?d.select():d.deselect())})}else{let l=t.activeItemIndex;t.onKeydown(e),this._multiple&&o&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==l&&t.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Pe(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return n.value!=null&&this._compareWith(n.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof da?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Ps(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=ke(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ke(...this.options.map(t=>t._stateChanges)).pipe($(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let n=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(n=>n.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};i.\u0275fac=function(t){return new(t||i)(m(Li),m(de),m(ge),m(ga),m(ie),m(Qe,8),m(or,8),m(Gs,8),m(sr,8),m(_a,10),On("tabindex"),m(Mc),m(Fs),m(_u,8))},i.\u0275cmp=O({type:i,selectors:[["mat-select"]],contentQueries:function(t,n,o){if(t&1&&(Xe(o,bu,5),Xe(o,ar,5),Xe(o,js,5)),t&2){let s;Y(s=W())&&(n.customTrigger=s.first),Y(s=W())&&(n.options=s),Y(s=W())&&(n.optionGroups=s)}},viewQuery:function(t,n){if(t&1&&(ne(ou,5),ne(su,5),ne(ha,5)),t&2){let o;Y(o=W())&&(n.trigger=o.first),Y(o=W())&&(n.panel=o.first),Y(o=W())&&(n._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,n){t&1&&S("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),t&2&&(G("id",n.id)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),q("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple))},inputs:{userAriaDescribedBy:[j.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[j.HasDecoratorInputTransform,"disabled","disabled",Oe],disableRipple:[j.HasDecoratorInputTransform,"disableRipple","disableRipple",Oe],tabIndex:[j.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:aa(e)],hideSingleSelectionIndicator:[j.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Oe],placeholder:"placeholder",required:[j.HasDecoratorInputTransform,"required","required",Oe],multiple:[j.HasDecoratorInputTransform,"multiple","multiple",Oe],disableOptionCentering:[j.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",Oe],compareWith:"compareWith",value:"value",ariaLabel:[j.None,"aria-label","ariaLabel"],ariaLabelledby:[j.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[j.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",aa],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[nt([{provide:va,useExisting:i},{provide:zs,useExisting:i}]),Ft,We,ee],ngContentSelectors:cu,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,n){if(t&1){let o=R();Be(lu),c(0,"div",2,0),S("click",function(){return y(o),w(n.open())}),c(3,"div",3),k(4,du,2,1,"span",4)(5,mu,3,1),h(),c(6,"div",5)(7,"div",6),ue(),c(8,"svg",7),T(9,"path",8),h()()()(),k(10,uu,3,9,"ng-template",9),S("backdropClick",function(){return y(o),w(n.close())})("attach",function(){return y(o),w(n._onAttached())})("detach",function(){return y(o),w(n.close())})}if(t&2){let o=H(1);_(3),G("id",n._valueId),_(),qe(4,n.empty?4:5),_(6),b("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)}},dependencies:[da,ha,_t],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[gu.transformPanel]},changeDetection:0});let a=i;return a})();var Ic=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:[vu],imports:[bt,at,fa,xe,dt,lr,fa,xe]});let a=i;return a})();var wu=["moreOptsTemplate"],Cu=a=>({active:a}),xu=a=>({"background-color":a});function Du(a,i){if(a&1){let r=R();c(0,"button",54),S("click",function(){y(r);let t=x();return w(t.delete(t.card))}),c(1,"span",55),D(2," delete_forever "),h()()}}function Su(a,i){if(a&1){let r=R();c(0,"button",56),S("click",function(){y(r);let t=x();return w(t.restore(t.card))}),c(1,"span",57),D(2," restore_from_trash "),h()()}}function Mu(a,i){if(a&1&&(c(0,"button",58)(1,"span",59),D(2," add_alert "),h()()),a&2){x();let r=H(15);b("matMenuTriggerFor",r)}}function Eu(a,i){a&1&&(c(0,"button",60)(1,"span",59),D(2," person_add "),h()())}function Iu(a,i){if(a&1&&(c(0,"button",61)(1,"span",59),D(2," palette "),h()()),a&2){x();let r=H(11);b("matMenuTriggerFor",r)}}function Tu(a,i){a&1&&(c(0,"button",62)(1,"span",59),D(2," image "),h()())}function ku(a,i){if(a&1){let r=R();c(0,"button",63),S("click",function(){y(r);let t=x();return w(t.archive(t.card))}),c(1,"span",59),D(2),h()()}if(a&2){let r=x();b("matTooltip",r.archiveIco?"Archive":"Unarchive"),_(2),Ee(" ",r.archiveIco?"archive":"unarchive"," ")}}function Au(a,i){if(a&1){let r=R();c(0,"button",64,6),S("click",function(){y(r);let t=H(1),n=x();return w(n.openMenu(t))}),c(2,"span",59),D(3," more_vert "),h()()}}function Pu(a,i){a&1&&(c(0,"span",68),D(1,"check_circle"),h())}function Ou(a,i){if(a&1){let r=R();c(0,"div",65)(1,"div",66),S("click",function(){let t=y(r).$implicit,n=x();return w(n.color(t,n.card))}),h(),k(2,Pu,2,0,"span",67),h()}if(a&2){let r=i.$implicit,e=x();_(),b("matTooltip",r.title)("ngClass",Ze(4,Cu,e.card.color==r.color))("ngStyle",Ze(6,xu,r.color)),_(),b("ngIf",e.card.color==r.color)}}function Ru(a,i){if(a&1){let r=R();c(0,"div",69),S("click",function(t){let n=y(r).$implicit;return x().onAdd(n),w(t.stopPropagation())}),c(1,"span",70),D(2),h(),c(3,"div",71),D(4),h()()}if(a&2){let r=i.$implicit;_(2),Ee(" ",r.active?"check_box":"check_box_outline_blank"," "),_(2),Z(r.name)}}function Fu(a,i){if(a&1){let r=R();c(0,"div",72)(1,"div")(2,"div",73),S("click",function(){y(r);let t=x();return w(t.trash(t.card))}),D(3,"Delete Note"),h(),c(4,"div",74),S("menuClosed",function(){y(r);let t=x();return w(t.isClosed(t.card))}),D(5),h(),c(6,"div"),D(7,"Copy to Google Docs"),h()()()}if(a&2){let r=x(),e=H(103);_(4),b("matMenuTriggerFor",e),_(),Ee(" ",r.card!=null&&r.card.labels.length?"Change labels":"Add labels"," ")}}var Ji=(()=>{let i=class i{constructor(e,t,n,o,s){this.service=e,this.router=t,this.dataService=n,this.overlay=o,this.viewContainerRef=s,this.pLabels=[],this.dLabels=[],this.date=new pi(new Date),this.time=new pi("Set time",Wi.pattern(/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/)),this.period=new pi("Does not repeat"),this.pdt=!1,this.url=!0,this.archiveIco=!0,this.card={title:"",description:"",color:"#fff",archive:!1,trash:!1,pinned:!1,reminder:"",labels:[]},this.moreOptsTemplate=Vn("moreOptsTemplate"),this.archiveCard=new P,this.colorCard=new P,this.action=new P,this.trashact=new P,this.archiveAct=new P,this.reminderCard=new P,this.menuClosed=new P,this.colorbox=[{color:"#fff",title:"Default"},{color:"#faafa8",title:"Coral"},{color:"#f39f76",title:"Peach"},{color:"#fff8b8",title:"Sand"},{color:"#e2f6d3",title:"Mint"},{color:"#b4ddd3",title:"Sage"},{color:"#d4e3ed",title:"Fog"},{color:"#aeccdc",title:"Storm"},{color:"#d3bfdb",title:"Dusk"},{color:"#f6e2dd",title:"Blossom"},{color:"#e9e3d3",title:"Clay"},{color:"#efeff1",title:"Chalk"}]}ngOnInit(){this.router.url=="/dashboard/trash"&&(this.url=!1),this.router.url=="/dashboard/archive"&&(this.archiveIco=!1)}openMenu(e){this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"custom-backdrop",positionStrategy:this.overlay.position().flexibleConnectedTo(e._elementRef.nativeElement).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:5}])}),this.overlayRef.attach(new Ci(this.moreOptsTemplate(),this.viewContainerRef)),this.overlayRef.backdropClick().subscribe({next:()=>this.closeMenu()})}closeMenu(){this.overlayRef&&this.overlayRef.detach()}get labels(){let e=this.card?.labels||[];return this.dataService.labels.map(t=>ye(B({},t),{active:e.some(n=>n._id==t._id)}))}color(e,t){console.log(e.color),console.log(t),t==null?this.colorCard.emit(e.color):(t.color=e.color,this.updateColour(e.color,t))}updateColour(e,t){let n={cardId:t._id,color:e};this.service.updateNote(n).subscribe({next:o=>console.log(o),error:o=>console.error(o),complete:()=>console.info("complete")})}archive(e){if(e==null){this.archiveCard.emit(!0);return}let t={cardId:e._id,archive:!e.archive};this.service.updateNote(t).subscribe({next:n=>{console.log(n),this.action.emit(),this.archiveAct.emit()},error:n=>console.error(n),complete:()=>console.info("complete")})}trash(e){let t={cardId:e._id,trash:!0};this.service.updateNote(t).subscribe({next:n=>{console.log(n),this.action.emit(),this.archiveAct.emit()},error:n=>console.error(n),complete:()=>console.info("complete")})}restore(e){let t={cardId:e._id,trash:!1};this.service.updateNote(t).subscribe({next:n=>{console.log(n),this.trashact.emit(e)},error:n=>console.error(n),complete:()=>console.info("complete")})}delete(e){this.service.deleteNote(e._id).subscribe({next:t=>{console.log(t),this.trashact.emit(e)},error:t=>console.error(t),complete:()=>console.info("complete")})}setReminder(e,t){let n=new Date,o;t.toLowerCase().trim()=="today"?o=new Date(n.getFullYear(),n.getMonth(),n.getDate(),20):t.toLowerCase().trim()=="tommorow"?o=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1,8):t.toLowerCase().trim()=="mon"&&(o=new Date(n.getFullYear(),n.getMonth(),n.getDate()+7,8)),this.reminderService(e,o)}customReminder(e){if(!this.time.hasError("pattern")){var t=new Date(this.date.value);t.setHours(parseInt(this.time.value.substr(0,2))),t.setMinutes(parseInt(this.time.value.substr(3))),t.setSeconds(0),t.setMilliseconds(0),this.reminderService(e,t)}}reminderService(e,t=""){if(e==null){this.reminderCard.emit(t.toISOString());return}e.reminder=t;let n={cardId:e._id,reminder:t};this.service.updateNote(n).subscribe({next:o=>{console.log(o),this.action.emit(),this.archiveAct.emit()},error:o=>console.error("Unable to set reminder:",o),complete:()=>console.info("complete")})}onAdd(e){return we(this,null,function*(){if(e.active){let n=this.card.labels.filter(o=>o._id==e._id).pop();this.service.removeNoteLabel({cardId:this.card._id,labelId:n._id}).subscribe({next:()=>e.active=!1});return}this.card.labels.unshift(e),this.service.addNoteLabel({cardId:this.card._id,labelId:e._id}).subscribe({next:()=>e.active=!0}),this.dataService.updateNote(this.card)})}isClosed(e){}};i.\u0275fac=function(t){return new(t||i)(m(ve),m(si),m(Ie),m(pe),m(qt))},i.\u0275cmp=O({type:i,selectors:[["app-icons-toolbar"]],viewQuery:function(t,n){t&1&&Yn(n.moreOptsTemplate,wu,5),t&2&&Wn()},inputs:{undo:"undo",card:"card"},outputs:{archiveCard:"archiveCard",colorCard:"colorCard",action:"action",trashact:"trashact",archiveAct:"archiveAct",reminderCard:"reminderCard",menuClosed:"menuClosed"},decls:113,vars:20,consts:[["paletteMenu","matMenu"],["reminderMenu","matMenu"],["picker",""],["klsdas","matMenu"],["lmenu","matMenu"],["moreOptsTemplate",""],["menuBtn",""],[1,"iconlist"],[1,"toolbar"],["matTooltip","Delete forever","class","note-ctrls","mat-icon-button","",3,"click",4,"ngIf"],["matTooltip","Restore note","class","note-ctrls","mat-icon-button","",3,"click",4,"ngIf"],["matTooltip","Remind me","class","note-ctrls","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["matTooltip","Collaborator","class","note-ctrls","mat-icon-button","",4,"ngIf"],["matTooltip","background options","class","note-ctrls","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["matTooltip","Add image","class","note-ctrls","mat-icon-button","",4,"ngIf"],["class","note-ctrls","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["matTooltip","More","class","note-ctrls","mat-icon-button","",3,"click",4,"ngIf"],["yPosition","above","panelClass","custom",3,"overlapTrigger"],[1,"shades-bx"],["class","color-ctn",4,"ngFor","ngForOf"],[1,"reminders"],[1,"ch1"],[1,"remcom"],[1,"ch",3,"click"],[1,"text"],[1,"time"],[1,"ch"],[1,"text","clk","pos",3,"click"],[1,"arrow",3,"click"],[1,"pdt"],[1,"dropz"],[1,"dzc"],["matInput","",3,"click","matDatepicker","formControl"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],[1,"dzc",3,"click"],["mat-button","",1,"dpb"],["matDatepickerToggleIcon","",1,"dpa",3,"matMenuTriggerFor"],["matInput","",2,"width","80%",3,"formControl"],["placeholder","Does not repeat"],["value","option"],[1,"sa"],[1,"sa1",3,"click"],[1,"opt"],[1,"opele",3,"click"],[1,"day"],[1,"dyti"],[1,"lmenu"],[1,"txt1"],[1,"sea"],["type","text","placeholder","Enter label name",1,"inp"],[1,"srch"],[1,"lbl-items"],["class","lbl-item",3,"click",4,"ngFor","ngForOf"],["matTooltip","Delete forever","mat-icon-button","",1,"note-ctrls",3,"click"],[1,"material-symbols-outlined","small-icon",2,"color","red"],["matTooltip","Restore note","mat-icon-button","",1,"note-ctrls",3,"click"],[1,"material-symbols-outlined","small-icon",2,"color","green"],["matTooltip","Remind me","mat-icon-button","",1,"note-ctrls",3,"matMenuTriggerFor"],[1,"material-symbols-outlined","small-icon"],["matTooltip","Collaborator","mat-icon-button","",1,"note-ctrls"],["matTooltip","background options","mat-icon-button","",1,"note-ctrls",3,"matMenuTriggerFor"],["matTooltip","Add image","mat-icon-button","",1,"note-ctrls"],["mat-icon-button","",1,"note-ctrls",3,"click","matTooltip"],["matTooltip","More","mat-icon-button","",1,"note-ctrls",3,"click"],[1,"color-ctn"],[1,"color",3,"click","matTooltip","ngClass","ngStyle"],["class","material-symbols-outlined check-mark",4,"ngIf"],[1,"material-symbols-outlined","check-mark"],[1,"lbl-item",3,"click"],[1,"material-symbols-outlined","check-ico"],[1,"lbl-txt"],[1,"menu"],[3,"click"],[3,"menuClosed","matMenuTriggerFor"]],template:function(t,n){if(t&1){let o=R();c(0,"div",7)(1,"div",8),k(2,Du,3,0,"button",9)(3,Su,3,0,"button",10)(4,Mu,3,1,"button",11)(5,Eu,3,0,"button",12)(6,Iu,3,1,"button",13)(7,Tu,3,0,"button",14)(8,ku,3,2,"button",15)(9,Au,4,0,"button",16),h()(),c(10,"mat-menu",17,0)(12,"div",18),k(13,Ou,3,8,"div",19),h()(),c(14,"mat-menu",null,1)(16,"div",20)(17,"div",21),D(18," Reminder: "),h(),c(19,"div",22)(20,"div",23),S("click",function(){return y(o),w(n.setReminder(n.card,"Today"))}),c(21,"div",24),D(22," Later today "),h(),c(23,"div",25),D(24," 8:00PM "),h()()(),c(25,"div",22)(26,"div",23),S("click",function(){return y(o),w(n.setReminder(n.card,"Tommorow"))}),c(27,"div",24),D(28," Tomorrow "),h(),c(29,"div",25),D(30," 8:00AM "),h()()(),c(31,"div",22)(32,"div",23),S("click",function(){return y(o),w(n.setReminder(n.card,"Mon"))}),c(33,"div",24),D(34," Next week "),h(),c(35,"div",25),D(36," Mon,8:00AM "),h()()(),c(37,"div",22)(38,"div",26)(39,"div",27),S("click",function(l){return y(o),l.stopPropagation(),w(n.pdt=!n.pdt)}),D(40," Pick date & time "),h()()()(),c(41,"div",20)(42,"div",28),S("click",function(l){return y(o),n.pdt=!n.pdt,w(l.stopPropagation())}),h(),c(43,"div",29),D(44,"Pick date & time"),h(),c(45,"div",30)(46,"div")(47,"mat-form-field",31)(48,"input",32),S("click",function(l){return y(o),w(l.stopPropagation())}),h(),c(49,"mat-datepicker-toggle",33)(50,"mat-icon",34),D(51,"keyboard_arrow_down"),h()(),T(52,"mat-datepicker",null,2),h()(),c(54,"div")(55,"mat-form-field",35),S("click",function(l){return y(o),w(l.stopPropagation())}),c(56,"button",36)(57,"mat-icon",37),D(58,"keyboard_arrow_down"),h()(),T(59,"input",38),h(),c(60,"div")(61,"mat-form-field",35),S("click",function(l){return y(o),w(l.stopPropagation())}),c(62,"mat-select",39)(63,"mat-option",40),D(64,"Does not repeat"),h(),c(65,"mat-option",40),D(66,"Daily"),h(),c(67,"mat-option",40),D(68,"Weekly"),h(),c(69,"mat-option",40),D(70,"Monthly"),h(),c(71,"mat-option",40),D(72,"Yearly"),h()()()()()(),c(73,"div",41)(74,"div",42),S("click",function(){return y(o),w(n.customReminder(n.card))}),D(75,"Save"),h()()()(),c(76,"mat-menu",null,3)(78,"div",43)(79,"div",44),S("click",function(l){return y(o),n.time.setValue("08:00"),w(l.stopPropagation())}),c(80,"div",45),D(81,"Morning"),h(),c(82,"div",46),D(83,"8:00"),h()()(),c(84,"div",43)(85,"div",44),S("click",function(l){return y(o),n.time.setValue("13:00"),w(l.stopPropagation())}),c(86,"div",45),D(87,"Afternoon"),h(),c(88,"div",46),D(89,"13:00"),h()()(),c(90,"div",43)(91,"div",44),S("click",function(l){return y(o),n.time.setValue("18:00"),w(l.stopPropagation())}),c(92,"div",45),D(93,"Evening"),h(),c(94,"div",46),D(95,"18:00"),h()()(),c(96,"div",43)(97,"div",44),S("click",function(l){return y(o),n.time.setValue("20:00"),w(l.stopPropagation())}),c(98,"div",45),D(99,"Night"),h(),c(100,"div",46),D(101,"20:00"),h()()()(),c(102,"mat-menu",47,4)(104,"div",48),D(105," Label note "),h(),c(106,"div",49),T(107,"input",50)(108,"div",51),h(),c(109,"div",52),k(110,Ru,5,2,"div",53),h()(),k(111,Fu,8,2,"ng-template",null,5,Ve)}if(t&2){let o=H(53),s=H(77);_(2),b("ngIf",!n.url),_(),b("ngIf",!n.url),_(),b("ngIf",n.url),_(),b("ngIf",n.url),_(),b("ngIf",n.url),_(),b("ngIf",n.url),_(),b("ngIf",n.url),_(),b("ngIf",n.url),_(),b("overlapTrigger",!1),_(3),b("ngForOf",n.colorbox),_(3),ce("display",n.pdt?"none":"block"),_(25),ce("display",n.pdt?"block":"none"),_(7),b("matDatepicker",o)("formControl",n.date),_(),b("for",o),_(8),b("matMenuTriggerFor",s),_(2),b("formControl",n.time),_(51),b("ngForOf",n.labels)}},dependencies:[_t,vt,se,oi,Yi,Ui,Qi,tl,Js,Zs,nl,Ne,pt,ui,Bt,$i,xc,Vr,yo,bo,Ec,ar],styles:[`.iconlist{align-items:center;color:#0000008a;display:flex;flex-wrap:wrap-reverse;font-size:12px;line-height:26px;margin:4px 0;position:relative;transition:background-color .218s ease-in-out,box-shadow .218s ease-in-out}.toolbar{flex:1 0 auto;box-sizing:border-box;display:flex;transition-duration:.218s;transition-property:opacity;transition-timing-function:ease-in;max-width:300px;width:100%;justify-content:space-evenly}.note-ctrls{height:32px!important;width:32px!important;padding:0!important;margin:0 3px}.note-ctrls .small-icon{font-size:18px;width:18px;height:18px;line-height:18px;color:#000}.menu{-webkit-user-select:none;user-select:none;background-color:#fff;border-width:0;box-shadow:0 1px 2px #3c40434d,0 2px 6px 2px #3c404326;border-radius:4px;z-index:9003;border:1px solid rgba(0,0,0,.2);cursor:default;font-size:13px;margin:0;outline:none;padding:6px 0;transition:opacity .218s;background:#fff}.menu div div{position:relative;cursor:pointer;list-style:none;margin:0;padding:5px 15px;white-space:nowrap}.menu div div:hover{background-color:#f8f4f4}.custom-backdrop{background-color:#0000}.shades-bx{display:flex;justify-content:center;align-items:center;width:430px;background-color:#fff;z-index:10;padding:0 5px}.shades-bx .color-ctn{position:relative;line-height:10px}.shades-bx .color{border-radius:50%;box-sizing:border-box;height:32px;width:32px;margin:2px;display:inline-block;border:.5px solid #e0e0e0}.shades-bx .color:hover{border:1px solid black}.shades-bx .active{border:2px solid #a142f4!important}.shades-bx .check-mark{position:absolute;top:-6px;right:-5px;font-variation-settings:"FILL" 1,"wght" 300,"GRAD" 0,"opsz" 24;font-size:20px;color:#a142f4}.mat-menu-content:not(:empty){padding-top:0;padding-bottom:0}.ele:focus{background-image:url("./media/checkmark-WMETDAJL.svg");background-position:center;background-repeat:no-repeat;height:25px;width:25px}.reminders{width:100%;z-index:5003;transition:opacity .218s;background:#fff;font-size:13px;outline:none;border-radius:5px}.ch1{font-size:14px;padding:15px;height:15px}.remcom{border:0;padding:8px 15px;cursor:pointer;position:relative;list-style:none;margin:5px 0;white-space:nowrap;height:20px;width:200px}.ch{display:flex}.remcom:hover{background-color:#e9e8e886}.text{flex:1 1 auto;font-weight:500}.time{color:#1e2021;flex:1 1 auto;margin-left:10px;max-width:200px;text-align:right;white-space:normal}.clk{background:url("./media/clock-56IQGLL2.svg") no-repeat;background-position:left;background-size:15px 15px;padding-left:25px;color:#3c4043;width:auto;height:18px}.pos{display:flex;justify-content:flex-start;align-items:center}.pdt{padding:10px 14px 10px 40px;font-size:14px;border-bottom:1px solid #d7d7d8}.dropz{padding:0 15px 15px;width:250px}.dzc{position:relative;width:100%}.mat-datepicker-content .mat-calendar{width:210px!important;height:260px!important}.mat-calendar-controls{display:flex!important;margin:2% calc(5.7142857143% - 20px)!important}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1em!important}.mat-select-panel{height:200px!important}.arrow{background-image:url("./media/arrow-54V7JBCK.svg");background-repeat:no-repeat;left:10px;position:absolute;top:15px;width:24px;height:24px}.opt{border:0;padding:8px 10px 8px 5px;cursor:pointer}.opt:hover{background-color:#e9e8e886}.opele{display:flex;height:20px;font-size:.85rem}.day{flex:1 1 auto;margin-right:10px;color:#3c4043;opacity:.85}.dyti{float:right}.tim{color:#5f6368;flex:1 1 auto;text-align:right}.sa{box-sizing:border-box;padding:5px 5px 10px;text-align:right;width:100%}.sa1{box-sizing:border-box;color:#000000de;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;letter-spacing:.01785714em;font-family:google-sans,Roboto,Arial,sans-serif;font-size:.875rem;font-weight:500;line-height:1.25rem;height:36px;padding:8px 24px;border-radius:4px;display:inline-block;cursor:pointer}.sa1:hover{background-color:#d6d2d26b}.dpa{width:10px!important;height:30px!important;font-size:14px!important}.dpb{float:right;height:18px!important;width:16px!important;min-width:0px!important}.on{display:block}.off{display:none}.lmenu{padding-top:11px;border-radius:2px;font-size:13px;max-width:225px;position:absolute;top:-77px;width:225px;z-index:5003;box-shadow:0 1px 2px #3c40434d,0 2px 6px 2px #3c404326;background-color:#fff}.txt1{padding:0 12px;font-size:14px}.srch{background:url("./media/minisearch-3K3W7ADK.svg") no-repeat center;background-size:14px 14px;opacity:.35;position:absolute;right:13px;top:36px;width:18px;height:18px;padding:0}.inp{outline:0;border:0;padding:2px 22px 2px 2px}.sea{padding:8px 12px}.lbl-items{padding:6px 0;overflow-y:auto;max-height:250px;cursor:pointer}.lbl-items .lbl-item{padding:2px 10px;margin-bottom:5px;justify-content:flex-start;align-items:center;display:flex}.lbl-items .lbl-item:hover{background-color:#f3f0f0c4}.lbl-items .check-ico{opacity:.54;font-size:16px;margin-top:2px}.lbl-items .lbl-txt{vertical-align:top;max-width:165px;margin-left:8px;display:inline-block;word-wrap:break-word}
`],encapsulation:2});let a=i;return a})();var Vu=["class","app-pin"];function Lu(a,i){if(a&1){let r=R();Ke(0),c(1,"button",2),S("click",function(){y(r);let t=x();return w(t.updatePin(!0))}),ue(),c(2,"svg",3),T(3,"path",4)(4,"path",5),h()(),$e()}}function Nu(a,i){if(a&1){let r=R();c(0,"button",6),S("click",function(){y(r);let t=x();return w(t.updatePin(!1))}),ue(),c(1,"svg",3),T(2,"path",4)(3,"path",7),h()()}}var Lr=(()=>{let i=class i{constructor(e){this._noteService=e}ngOnInit(){}updatePin(e){let t={cardId:this.card._id,pinned:e};this._noteService.updateNote(t).subscribe({next:()=>{this.card.pinned=e},error:n=>console.error(n),complete:()=>console.info("complete")})}};i.\u0275fac=function(t){return new(t||i)(m(ve))},i.\u0275cmp=O({type:i,selectors:[["",8,"app-pin"]],inputs:{card:"card"},attrs:Vu,decls:3,vars:2,consts:[["pinned",""],[4,"ngIf","ngIfElse"],["mat-icon-button","","matTooltip","Pin note",1,"pin-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","none","d","M0 0h24v24H0z"],["fill","#202124","d","M17 4v7l2 3v2h-6v5l-1 1-1-1v-5H5v-2l2-3V4c0-1.1.9-2 2-2h6c1.11 0 2 .89 2 2zM9 4v7.75L7.5 14h9L15 11.75V4H9z"],["mat-icon-button","","matTooltip","Unpin note",1,"pin-btn",3,"click"],["fill","#202124","d","M17 4a2 2 0 0 0-2-2H9c-1.1 0-2 .9-2 2v7l-2 3v2h6v5l1 1 1-1v-5h6v-2l-2-3V4z"]],template:function(t,n){if(t&1&&k(0,Lu,5,0,"ng-container",1)(1,Nu,4,0,"ng-template",null,0,Ve),t&2){let o=H(2);b("ngIf",!(n.card!=null&&n.card.pinned))("ngIfElse",o)}},dependencies:[se,pt,ui],styles:[".pin-btn[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;margin:4px;display:flex;justify-content:center;align-items:center}"]});let a=i;return a})();var zu=["noteTitle"],ju=["listNote"],Bu=["plainNote"];function Hu(a,i){if(a&1){let r=R();Ke(0),c(1,"div",9),S("click",function(){y(r);let t=x();return w(t.toggleNotes())}),c(2,"b"),D(3,"Take a note..."),h()(),c(4,"div",10)(5,"button",11),S("click",function(){y(r);let t=x();return w(t.newListNote())}),c(6,"span",12),D(7," check_box "),h()(),c(8,"button",13),S("click",function(){y(r);let t=x();return w(t.onSketch())}),c(9,"span",12),D(10," brush "),h()(),c(11,"button",14)(12,"span",12),D(13," image "),h()()(),$e()}}function Yu(a,i){a&1&&(Ke(0),T(1,"div",20,3),$e())}function Wu(a,i){a&1&&(c(0,"div",21,4)(2,"div",22)(3,"span",23),D(4," add "),h(),c(5,"div",24),D(6," List Item "),h()()())}function Uu(a,i){if(a&1){let r=R();c(0,"div"),T(1,"div",15)(2,"div",16,1),k(4,Yu,3,0,"ng-container",8)(5,Wu,7,0,"ng-template",null,2,Ve),h(),c(7,"div",17)(8,"app-icons-toolbar",18),S("archiveCard",function(t){y(r);let n=x();return w(n.userArchive(t))})("colorCard",function(t){y(r);let n=x();return w(n.noteColor(t))})("reminderCard",function(t){y(r);let n=x();return w(n.reminder(t))}),h(),c(9,"div",19),S("click",function(){y(r);let t=x();return w(t.onSend())}),D(10,"Close"),h()()}if(a&2){let r=H(6),e=x();_(4),b("ngIf",e.noteType=="plain")("ngIfElse",r),_(4),b("undo",e.userNoteMsg)}}var en=(()=>{let i=class i{constructor(e,t,n,o){this._noteService=e,this._dataService=t,this.renderer=n,this.router=o,this.color="#fff",this.archive=!1,this.trash=!1,this.pinned=!1,this.rem="",this.userNoteMsg=!0,this.hidden=!0,this.labels=[],this.addingNote=new P,this.noteType="plain"}ngOnInit(){}toggleNotes(){this.hidden=!this.hidden}newListNote(){this.noteType="list",this.toggleNotes(),this.hidden||setTimeout(()=>this.createTodoFormFld(),50)}setDefaults(){this.noteType="plain",this.color="#fff",this.hidden=!0}onSend(){if(this.noteType=="list"){this.extractTodoItems();return}let e=this.noteTitle.nativeElement.innerText||"",t=this.userNotes.nativeElement.innerText||"";if(!(e!=""||t!="")){this.setDefaults();return}let n={userId:this._dataService.userId,title:e,description:t,reminder:this.rem,color:this.color,archive:this.archive,trash:this.trash,pinned:this.pinned,labels:this.labels,noteType:this.noteType};this._noteService.createNote(n,this._dataService.token).subscribe({next:o=>this.addingNote.emit(),error:o=>{o.status==500?console.error(o.error.message+`
	`+o.error.result):o.status==422?console.warn("Invalid inputs "):console.error(o)},complete:()=>this.setDefaults()})}extractTodoItems(){Array.from(this.listNote.nativeElement.querySelectorAll(".frm-ctn")).forEach(e=>console.log(e.innerText))}createTodoFormFld(){this.prevCheckListIpList&&this.prevCheckListIpList();let e=this.renderer.createElement("div"),t=this.renderer.createElement("div");this.renderer.addClass(e,"frm-ctn"),this.renderer.addClass(t,"frm"),this.renderer.setAttribute(t,"contenteditable","true"),this.renderer.setAttribute(t,"aria-multiline","true"),this.renderer.setAttribute(t,"tabindex","0"),this.renderer.setAttribute(e,"data-complete","false"),this.prevCheckListIpList=this.renderer.listen(t,"input",n=>this.onAddTodoItem(n)),this.renderer.appendChild(e,t),this.renderer.appendChild(this.listNote.nativeElement,e)}createTodoCtrls(e){let t=this.renderer.createElement("span");this.renderer.setAttribute(t,"class","material-symbols-outlined small-icon prefix-ico"),this.renderer.setAttribute(t,"aria-checked","false"),this.renderer.setAttribute(t,"role","checkbox"),this.renderer.appendChild(t,this.renderer.createText("check_box_outline_blank"));let n=this.renderer.createElement("span");this.renderer.setAttribute(n,"class","material-symbols-outlined small-icon suffix-ico"),this.renderer.appendChild(n,this.renderer.createText("close")),this.renderer.appendChild(e,t),this.renderer.appendChild(e,n),this.renderer.listen(n,"click",o=>this.onRemoveTodoFld(o.target.parentElement)),this.renderer.listen(t,"click",o=>this.onTodoCheckbox(o.target))}onAddTodoItem(e){let t=e.target;this.createTodoCtrls(t.parentElement),this.createTodoFormFld()}onTodoCheckbox(e){let t=e.parentElement,n=t.getAttribute("data-complete")==="true";this.renderer.setProperty(e,"innerText",n?"check_box_outline_blank":"check_box"),this.renderer.setAttribute(e,"aria-checked",n?"false":"true"),this.renderer.setAttribute(t,"data-complete",n?"false":"true")}onRemoveTodoFld(e){this.renderer.removeChild(this.listNote.nativeElement,e)}onSketch(){this.router.navigate(["sketch"])}userArchive(e){this.archive=e,this.onSend()}noteColor(e){this.color=e}reminder(e){this.rem=e}};i.\u0275fac=function(t){return new(t||i)(m(ve),m(Ie),m(Fn),m(si))},i.\u0275cmp=O({type:i,selectors:[["app-take-note"]],viewQuery:function(t,n){if(t&1&&(ne(zu,5),ne(ju,5),ne(Bu,5)),t&2){let o;Y(o=W())&&(n.noteTitle=o.first),Y(o=W())&&(n.listNote=o.first),Y(o=W())&&(n.userNotes=o.first)}},outputs:{addingNote:"addingNote"},decls:6,vars:4,consts:[["showPad",""],["noteTitle",""],["listTypeTemplate",""],["plainNote",""],["listNote",""],[1,"nbar"],[1,"nbar1"],[1,"tnote"],[4,"ngIf","ngIfElse"],[1,"asjqsq","sasr",3,"click"],[1,"note-opts"],["matTooltip","New list","mat-icon-button","",1,"checkls-btn",3,"click"],[1,"material-symbols-outlined","small-icon"],["matTooltip","New note with drawing","mat-icon-button","",1,"sketch-btn",3,"click"],["matTooltip","New note with image","mat-icon-button","",1,"add-img-btn"],[1,"app-pin"],["id","noteTitle","data-text","Title","contenteditable","true",1,"asjqsq"],[1,"ctrl-bar"],[2,"flex","1",3,"archiveCard","colorCard","reminderCard","undo"],["role","button",1,"closeNote",3,"click"],["id","plainNote","data-text","Take a note...","contenteditable","true",1,"asjqsq"],["id","listNote",1,"ls-ctn"],[1,"mask-ctn"],[1,"material-symbols-outlined","small-icon","prefix-ico"],[1,"frm"]],template:function(t,n){if(t&1&&(c(0,"div",5)(1,"div",6)(2,"div",7),k(3,Hu,14,0,"ng-container",8)(4,Uu,11,3,"ng-template",null,0,Ve),h()()()),t&2){let o=H(5);_(),ce("background-color",n.color),_(2),b("ngIf",n.hidden)("ngIfElse",o)}},dependencies:[se,pt,ui,Ji,Lr],styles:[".tnote[_ngcontent-%COMP%]{position:relative}.asjqsq[_ngcontent-%COMP%]{letter-spacing:.00625em;font-family:Google Sans,Roboto,Arial,sans-serif;font-size:1rem;font-weight:500;line-height:1.5rem;outline:none;min-height:22px;padding:12px 16px}.nbar[_ngcontent-%COMP%]{width:600px;margin:32px auto 16px;position:relative}.ctrl-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 601px){.nbar[_ngcontent-%COMP%]{width:100%}.nbar1[_ngcontent-%COMP%]{margin:0 10px}}.nbar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(n+2){background-size:24px 24px;height:30px;position:absolute;top:8px;width:46px;opacity:.5;background-position:center;background-repeat:no-repeat;border:1px solid transparent;cursor:pointer}.note-opts[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;align-items:center;right:8px;top:0}.nbar1[_ngcontent-%COMP%]{box-shadow:0 1px 4px #3c40434d,0 0 6px 1px #3c404326;background-color:#fff;border-radius:8px;border-color:#e0e0e0;border-width:1px 1px 1px 6px;box-sizing:border-box;overflow:hidden;position:relative}#plainNote[_ngcontent-%COMP%]{min-height:24px;outline:none;padding:12px 16px;width:-webkit-fill-available;letter-spacing:.01428571em;font-family:Roboto,Arial,sans-serif;font-size:.95rem;font-weight:400;line-height:1.25rem}.sasr[_ngcontent-%COMP%]{letter-spacing:.00625em;font-family:google-sans,Roboto,Arial,sans-serif;font-size:1rem;font-weight:500;line-height:1.5rem;color:#00000080}.asjqsq[contentEditable=true][_ngcontent-%COMP%]:empty:before{content:attr(data-text);letter-spacing:.00625em;font-family:google-sans,Roboto,Arial,sans-serif;font-size:1rem;font-weight:500;line-height:1.5rem;color:#00000080}.app-pin[_ngcontent-%COMP%]{float:right}.closeNote[_ngcontent-%COMP%]{margin-right:15px;border-radius:4px;box-sizing:border-box;color:#000000de;letter-spacing:.01785714em;font-family:google-sans,Roboto,Arial,sans-serif;font-size:.875rem;line-height:1.25rem;font-weight:500;height:36px;padding:8px 24px;cursor:pointer}.closeNote[_ngcontent-%COMP%]:hover{background-color:#5f63680d}@media (max-width: 601px){.clo[_ngcontent-%COMP%]{margin-right:0}}.ls-ctn[_ngcontent-%COMP%]{position:relative;min-height:30px}.ls-ctn[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:22px;position:relative;outline:none}.ls-ctn[_ngcontent-%COMP%]   .mask-ctn[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;width:100%;bottom:0;left:0;z-index:1;background:#fff}.ls-ctn[_ngcontent-%COMP%]   .frm-ctn[_ngcontent-%COMP%]{z-index:2}.ls-ctn[_ngcontent-%COMP%]   .frm[_ngcontent-%COMP%]{min-height:20px;padding:5px 45px 5px 53px;color:#000000b3;letter-spacing:.0178571429em;font-family:Google Sans,Roboto,Arial,sans-serif;font-size:.875rem;font-weight:500;line-height:1.25rem;-webkit-user-select:none;user-select:none;width:100%;box-sizing:border-box;outline:none}.ls-ctn[_ngcontent-%COMP%]   .frm[_ngcontent-%COMP%]:focus{border-top:1px solid #d9d9d9;border-bottom:1px solid #d9d9d9}.ls-ctn[_ngcontent-%COMP%]   .prefix-ico[_ngcontent-%COMP%]{left:22px}.ls-ctn[_ngcontent-%COMP%]   .suffix-ico[_ngcontent-%COMP%]{right:22px}.ls-ctn[_ngcontent-%COMP%]   .small-icon[_ngcontent-%COMP%]{position:absolute;top:6px;font-size:18px;opacity:.54;outline:none;-webkit-user-select:none;user-select:none}.frm-ctn[data-complete=true][_ngcontent-%COMP%]   .frm[_ngcontent-%COMP%]{text-decoration:line-through}"]});let a=i;return a})();var Qu=a=>({display:a});function Gu(a,i){if(a&1&&(c(0,"label",14),D(1),rt(2,"date"),h()),a&2){let r=x();_(),Ee("Yesterday, ",$t(2,1,r.data==null?null:r.data.reminder,"h:mm a"),"")}}function qu(a,i){if(a&1&&(c(0,"label",14),D(1),rt(2,"date"),h()),a&2){let r=x();_(),Ee("Today, ",$t(2,1,r.data==null?null:r.data.reminder,"h:mm a"),"")}}function Ku(a,i){if(a&1&&(c(0,"label",14),D(1),rt(2,"date"),h()),a&2){let r=x();_(),Ee("Tomorrow, ",$t(2,1,r.data==null?null:r.data.reminder,"h:mm a"),"")}}function $u(a,i){if(a&1&&(c(0,"label",14),D(1),rt(2,"date"),h()),a&2){let r=x();_(),Z($t(2,1,r.data==null?null:r.data.reminder,"MMMM d, h:mm a"))}}var kc=(()=>{let i=class i{constructor(e,t){this.dialogRef=e,this.data=t,this.d=new Date,this.d0=new Date(this.d.getFullYear(),this.d.getMonth(),this.d.getDate()-1),this.d1=new Date(this.d.getFullYear(),this.d.getMonth(),this.d.getDate()+1)}ngOnInit(){}updateTitle(e){let t=e.target;this.data.title=t.textContent||""}updateDescription(e){let t=e.target;this.data.description=t.textContent||""}save(e){e.target.outerHTML.includes("archive")&&this.dialogRef.close("archive")}isSameDay(e,t){return e=new Date(e),t=new Date(t),!e||!t?!1:e.toDateString()===t.toDateString()}isOutsideRange(e,t,n){return n?n<e||n>t:!1}removeReminder(){this.data.reminder=null}};i.\u0275fac=function(t){return new(t||i)(m(Ct),m(Jt))},i.\u0275cmp=O({type:i,selectors:[["app-update-note"]],decls:21,vars:21,consts:[[1,"edit"],[1,"tit-des"],["id","title1","contenteditable","true",3,"input","textContent"],["contenteditable","true",1,"descrp",3,"input","textContent"],[1,"rembox"],[1,"remboxc1"],[1,"remboxc11",3,"ngStyle"],[1,"clk"],["class","time",4,"ngIf"],[1,"remove",3,"click"],[1,"edited"],[1,"iconbar"],[3,"click","card"],["mat-button","",1,"clo",3,"mat-dialog-close"],[1,"time"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),S("input",function(s){return n.updateTitle(s)}),h(),c(3,"div",3),S("input",function(s){return n.updateDescription(s)}),h()(),c(4,"div",4)(5,"div",5)(6,"div",6),T(7,"div",7),k(8,Gu,3,4,"label",8)(9,qu,3,4,"label",8)(10,Ku,3,4,"label",8)(11,$u,3,4,"label",8),h(),c(12,"div",9),S("click",function(){return n.removeReminder()}),h()(),c(13,"div",10),rt(14,"date"),D(15),rt(16,"date"),h()(),c(17,"div",11)(18,"app-icons-toolbar",12),S("click",function(s){return n.save(s)}),h(),c(19,"button",13),D(20,"close"),h()()()),t&2&&(ce("background-color",n.data==null?null:n.data.color),_(2),b("textContent",n.data==null?null:n.data.title),_(),b("textContent",n.data==null?null:n.data.description),_(3),b("ngStyle",Ze(19,Qu,n.data!=null&&n.data.reminder?"flex":"none")),_(2),b("ngIf",n.isSameDay(n.d0,n.data==null?null:n.data.reminder)),_(),b("ngIf",n.isSameDay(n.d,n.data==null?null:n.data.reminder)),_(),b("ngIf",n.isSameDay(n.d1,n.data==null?null:n.data.reminder)),_(),b("ngIf",n.isOutsideRange(n.d0,n.d1,n.data==null?null:n.data.reminder)),_(2),G("aria-label","Created "+$t(14,13,n.data==null?null:n.data.updatedAt,"MMMM d, h:mm a")),_(2),Ee(" Edited ",$t(16,16,n.data==null?null:n.data.updatedAt,"MMMM d, h:mm a")," "),_(3),b("card",n.data),_(),b("mat-dialog-close",n.data))},dependencies:[se,oi,Ne,Mr,Ji,Ri],styles:['.tit-des[_ngcontent-%COMP%]{transition:opacity .218s ease-in}#title1[_ngcontent-%COMP%], .descrp[_ngcontent-%COMP%]{letter-spacing:.00625em}#title1[_ngcontent-%COMP%]{font-family:google-sans,Roboto,Arial,sans-serif;font-size:1.375rem;font-weight:400;line-height:1.75rem;padding:10px 15px;outline:none;max-width:95%;width:600px}.descrp[_ngcontent-%COMP%]{width:100%;max-width:650px;min-height:80px;padding:4px 16px 12px;box-sizing:border-box;outline:none;white-space:pre-wrap;word-wrap:break-word;max-height:350px;overflow:auto}.iconbar[_ngcontent-%COMP%]{font-size:12px;line-height:26px;margin:3.5px 0;position:relative;transition:background-color .218s ease-in-out,box-shadow .218s ease-in-out}.clo[_ngcontent-%COMP%]{margin-right:15px;border-radius:4px;box-sizing:border-box;color:#000000de;letter-spacing:.01785714em;font-family:google-sans,Roboto,Arial,sans-serif;font-size:.875rem;line-height:1.25rem;font-weight:500;height:36px;padding:8px 24px;top:0%;position:absolute;right:0%}  .mat-dialog-container, .edit[_ngcontent-%COMP%]{padding:0;border:1px solid inherit;box-sizing:border-box;border-radius:8px;transition-duration:.3s;transition-property:background-color,opacity,box-shadow,transform;transition-timing-function:ease-in;display:block;max-height:1600px!important;overflow:unset!important}.rembox[_ngcontent-%COMP%]{display:flex;padding:5px 10px;align-items:center;flex-wrap:wrap}.remboxc1[_ngcontent-%COMP%]{margin:6px 6px 0 0;max-width:100%;background-color:#00000014;border-radius:12px;box-shadow:inset 0 0 0 1px transparent;box-sizing:border-box;letter-spacing:.01785714em;font-family:google-sans,Roboto,Arial,sans-serif;font-size:.875rem;font-weight:500;line-height:1.25rem;position:relative}.remboxc11[_ngcontent-%COMP%]{min-width:30px;padding:3px 5px;height:18px;display:flex;align-items:center;justify-content:center}.clk[_ngcontent-%COMP%]{background:url("./media/clock-56IQGLL2.svg") no-repeat;flex:0 0 auto;padding-left:18px;opacity:.65}.time[_ngcontent-%COMP%]{text-align:left;width:calc(100% - 12px);color:#3c4043;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:11px;margin:0 5px}.remove[_ngcontent-%COMP%]{background:url("./media/close-D325CJE3.svg") no-repeat;background-size:14px 14px;display:none;height:18px;flex:0 0 auto;position:absolute;right:2px;top:50%;transform:translateY(-50%);width:18px;background-position:center;flex:1 1 auto}.edited[_ngcontent-%COMP%]{color:#5f6368;letter-spacing:.025em;font-family:Roboto,Arial,sans-serif;font-size:.75rem;font-weight:400;line-height:1rem;margin-left:auto;display:block}']});let a=i;return a})();var Lc=Ed(Vc(),1);var Xu=["ngx-masonry",""],Zu=["*"],So=(()=>{class a{constructor(r,e){this.platformId=r,this._element=e,this.updateLayout=!1,this.ordered=!1,this.layoutComplete=new P,this.removeComplete=new P,this.itemsLoaded=new P,this.pendingItems=[]}ngOnInit(){this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngxMasonryItem], ngxMasonryItem"),this.options.transitionDuration="0s",Kn(this.platformId)&&(this.masonryInstance=new Lc.default(this._element.nativeElement,this.options),this.masonryInstance.on("layoutComplete",r=>{this.layoutComplete.emit(r)}),this.masonryInstance.on("removeComplete",r=>{this.removeComplete.emit(r)}),this.masonryInstance.items=[])}ngOnChanges(r){r.updateLayout&&(r.updateLayout.firstChange||this.layout())}ngOnDestroy(){this.masonryInstance&&this.masonryInstance.destroy()}layout(){setTimeout(()=>{this.masonryInstance.layout()})}reloadItems(){setTimeout(()=>{this.masonryInstance.reloadItems()})}addPendingItem(r){this.pendingItems.push(r)}add(r){if(this.ordered){for(let[e,t]of this.pendingItems.entries())if(t)if(t.images&&t.images.size===0)this.pendingItems[e]=void 0,this.itemLoaded(t),e+1===this.pendingItems.length&&(this.itemsLoaded.emit(this.pendingItems.length),this.pendingItems=[]);else return}else this.itemLoaded(r)}itemLoaded(r){Kn(this.platformId)&&(r.prepend?this.masonryInstance.prepended(r.element.nativeElement):this.masonryInstance.appended(r.element.nativeElement),this.masonryInstance.items.length===1&&this.masonryInstance.layout(),r.playAnimation(!0))}remove(r){Kn(this.platformId)&&(this.masonryInstance.remove(r),this.layout())}}return a.\u0275fac=function(r){return new(r||a)(m(Xo),m(ie))},a.\u0275cmp=O({type:a,selectors:[["","ngx-masonry",""],["ngx-masonry"]],inputs:{options:"options",updateLayout:"updateLayout",ordered:"ordered"},outputs:{layoutComplete:"layoutComplete",removeComplete:"removeComplete",itemsLoaded:"itemsLoaded"},features:[We],attrs:Xu,ngContentSelectors:Zu,decls:1,vars:0,template:function(r,e){r&1&&(Be(),Me(0))},styles:["[_nghost-%COMP%]{display:block}"]}),a})(),Nc=(()=>{class a{constructor(r,e,t,n){this.element=r,this.builder=e,this.parent=t,this.renderer=n,this.prepend=!1,this.animations={show:[he({opacity:0}),je("400ms ease-in",he({opacity:1}))],hide:[he({opacity:"*"}),je("400ms ease-in",he({opacity:0}))]}}ngOnInit(){this.parent.options.animations!==void 0&&(this.animations=this.parent.options.animations),this.renderer.setStyle(this.element.nativeElement,"position","fixed"),this.renderer.setStyle(this.element.nativeElement,"right","-150vw"),this.parent.addPendingItem(this)}ngAfterViewInit(){let r=Array.from(this.element.nativeElement.getElementsByTagName("img"));if(this.images=new Set(r),r.length===0)setTimeout(()=>{this.parent.add(this)});else for(let e of r)e.hasAttribute("masonryLazy")?this.imageLoaded(e):(this.renderer.listen(e,"load",t=>{this.imageLoaded(e)}),this.renderer.listen(e,"error",t=>{this.imageLoaded(e)}))}ngOnDestroy(){this.images&&this.images.size===0&&this.element.nativeElement.parentNode&&(this.playAnimation(!1),this.parent.remove(this.element.nativeElement))}imageLoaded(r){this.images.delete(r),this.images.size===0&&this.parent.add(this)}playAnimation(r){let e=r?this.animations.show:this.animations.hide;e&&this.builder.build(e).create(this.element.nativeElement).play()}}return a.\u0275fac=function(r){return new(r||a)(m(ie),m(ws),m(ai(()=>So)),m(Fn))},a.\u0275dir=ze({type:a,selectors:[["","ngxMasonryItem",""],["ngxMasonryItem"]],inputs:{prepend:"prepend"}}),a})(),zc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=oe({type:a}),a.\u0275inj=re({}),a})();function jc(a){return a instanceof Date&&!isNaN(a.getTime())}function eg(a,i){a&1&&(c(0,"span",9),D(1," schedule "),h())}function tg(a,i){if(a&1){let r=R();c(0,"div",3)(1,"div",4),k(2,eg,2,0,"span",5),c(3,"label",6),D(4),h(),c(5,"button",7),S("click",function(){let t=y(r),n=t.$implicit,o=t.index,s=x(2);return w(s.removeLabel(s.card,n,o,n.reminder))}),c(6,"span",8),D(7," close "),h()()()()}if(a&2){let r=i.$implicit;_(2),b("ngIf",r==null?null:r.reminder),_(2),Z(r.name)}}function ig(a,i){if(a&1&&(c(0,"div",1),k(1,tg,8,2,"div",2),h()),a&2){let r=x();_(),b("ngForOf",r.labels)}}var Bc=(()=>{let i=class i{constructor(e,t,n){this._datePipe=e,this._service=t,this._dataService=n,this.labels=[]}ngOnInit(){this.initData(),this.subscription=this._dataService.note$.subscribe(e=>{e&&e._id===this.card._id&&this.initData()})}initData(){this.labels=[],this.processReminder(),this.card.labels.map(e=>this.labels.push(ye(B({},e),{reminder:!1})))}processReminder(){let e=new Date(this.card.reminder);if(!jc(e))return;let t,n=new Date,o=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime(),s=new Date(n.getFullYear(),n.getMonth(),n.getDate()-1).getTime(),l=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1).getTime(),d=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();d===o?t=`Today, ${this._datePipe.transform(e,"h:mm a")}`:d===s?t=`Yesterday, ${this._datePipe.transform(e,"h:mm a")}`:d===l?t=`Tommorow, ${this._datePipe.transform(e,"h:mm a")}`:t=this._datePipe.transform(e,"MMMM d, h:mm a"),this.labels.unshift({name:t,reminder:!0})}removeLabel(e,t,n,o=!1){let s={cardId:e._id};o?s.reminder=null:s.labelId=t._id,this._service.removeNoteLabel(s).subscribe({next:l=>{console.log(l),this.labels.splice(n,1)},error:l=>console.error("Unable to set reminder:",l),complete:()=>console.info("complete")})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)(m(Ri),m(ve),m(Ie))},i.\u0275cmp=O({type:i,selectors:[["app-note-labels"]],inputs:{card:"card"},features:[nt([Ri])],decls:1,vars:1,consts:[["class","lbls",4,"ngIf"],[1,"lbls"],["class","lbl-stl",4,"ngFor","ngForOf"],[1,"lbl-stl"],[1,"lbl-dim"],["class","material-symbols-outlined schedule-ico",4,"ngIf"],[1,"lbl-txt"],["mat-icon-button","",1,"rmv-lbl",3,"click"],[1,"material-symbols-outlined"],[1,"material-symbols-outlined","schedule-ico"]],template:function(t,n){t&1&&k(0,ig,2,1,"div",0),t&2&&b("ngIf",n.labels.length)},dependencies:[vt,se,pt],styles:[".lbls[_ngcontent-%COMP%]{display:flex;padding:5px 10px;align-items:center;flex-wrap:wrap}.lbl-stl[_ngcontent-%COMP%]{position:relative;margin:6px 6px 0 0;max-width:100%;background-color:#00000014;border-radius:12px;box-shadow:inset 0 0 0 1px transparent;box-sizing:border-box;letter-spacing:.01785714em;font-family:google-sans,Roboto,Arial,sans-serif;font-size:.875rem;font-weight:500;line-height:1.25rem}.lbl-dim[_ngcontent-%COMP%]{min-width:40px;padding:3px 5px;height:18px;display:flex;align-items:center;justify-content:center}.material-symbols-outlined[_ngcontent-%COMP%]{font-size:16px}.schedule-ico[_ngcontent-%COMP%]{flex:0 0 auto;opacity:.65;margin-right:4px}.lbl-txt[_ngcontent-%COMP%]{text-align:left;color:#3c4043;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:11px}.rmv-lbl[_ngcontent-%COMP%]{height:18px;width:18px;color:#000;padding:0;justify-content:center;align-items:center;display:none;position:absolute;right:4px;margin-left:4px}.rmv-lbl[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:14px}.lbl-stl[_ngcontent-%COMP%]:hover   .lbl-dim[_ngcontent-%COMP%]{justify-content:flex-start}.lbl-stl[_ngcontent-%COMP%]:hover   .rmv-lbl[_ngcontent-%COMP%]{display:flex}.lbl-stl[_ngcontent-%COMP%]:hover   .lbl-txt[_ngcontent-%COMP%]{width:calc(100% - 30px)}"]});let a=i;return a})();var Qr=a=>({notes:a});function rg(a,i){a&1&&on(0)}function ag(a,i){if(a&1&&(c(0,"div",8)(1,"div")(2,"p",9),D(3,"pinned"),h()(),k(4,rg,1,0,"ng-container",7),h()),a&2){let r=x(2),e=H(3);_(4),b("ngTemplateOutlet",e)("ngTemplateOutletContext",Ze(2,Qr,r.pinned))}}function og(a,i){a&1&&(c(0,"div")(1,"p",9),D(2,"others"),h()())}function sg(a,i){a&1&&on(0)}function lg(a,i){if(a&1&&(c(0,"div",4),k(1,ag,5,4,"div",5),c(2,"div"),k(3,og,3,0,"div",6)(4,sg,1,0,"ng-container",7),h()()),a&2){let r=x(),e=H(3);_(),b("ngIf",r.pinned.length),_(2),b("ngIf",r.pinned.length),_(),b("ngTemplateOutlet",e)("ngTemplateOutletContext",Ze(4,Qr,r.unpinned))}}function cg(a,i){a&1&&on(0)}function dg(a,i){if(a&1&&(c(0,"div",8)(1,"div")(2,"p",9),D(3,"pinned"),h()(),k(4,cg,1,0,"ng-container",7),h()),a&2){let r=x(2),e=H(5);_(4),b("ngTemplateOutlet",e)("ngTemplateOutletContext",Ze(2,Qr,r.pinned))}}function hg(a,i){a&1&&(c(0,"div")(1,"p",9),D(2,"others"),h()())}function pg(a,i){a&1&&on(0)}function mg(a,i){if(a&1&&(c(0,"div",10),k(1,dg,5,4,"div",5),c(2,"div"),k(3,hg,3,0,"div",6)(4,pg,1,0,"ng-container",7),h()()),a&2){let r=x(),e=H(5);_(),b("ngIf",r.pinned.length),_(2),b("ngIf",r.pinned.length&&r.unpinned.length),_(),b("ngTemplateOutlet",e)("ngTemplateOutletContext",Ze(4,Qr,r.unpinned))}}function ug(a,i){if(a&1){let r=R();c(0,"div",12)(1,"div"),T(2,"div",13),c(3,"div",14),S("click",function(){let t=y(r).$implicit,n=x(2);return w(n.updateNote(t))}),D(4),h(),c(5,"div",15),S("click",function(){let t=y(r).$implicit,n=x(2);return w(n.updateNote(t))}),D(6),h()(),T(7,"app-note-labels",16),c(8,"div",17)(9,"app-icons-toolbar",18),S("action",function(){y(r);let t=x(2);return w(t.noteCall())})("trashact",function(){y(r);let t=x(2);return w(t.trashCall())})("archiveAct",function(){y(r);let t=x(2);return w(t.archiveCall())}),h()()()}if(a&2){let r=i.$implicit,e=x(2);ce("background-color",r.color),_(2),b("card",r),_(2),Z(r.title),_(2),Z(r.description),_(),b("card",r),_(2),b("card",r)("undo",e.userNoteMsg)}}function gg(a,i){if(a&1&&k(0,ug,10,8,"div",11),a&2){let r=i.notes;b("ngForOf",r)}}function fg(a,i){if(a&1){let r=R();c(0,"div",20)(1,"div",21),S("click",function(){let t=y(r).$implicit,n=x(2);return w(n.updateNote(t))}),T(2,"div",13),c(3,"div",22),D(4),h(),c(5,"div")(6,"div",23),D(7),h()()(),T(8,"app-note-labels",16),c(9,"div",17)(10,"app-icons-toolbar",18),S("action",function(){y(r);let t=x(2);return w(t.noteCall())})("trashact",function(){y(r);let t=x(2);return w(t.trashCall())})("archiveAct",function(){y(r);let t=x(2);return w(t.archiveCall())}),h()()()}if(a&2){let r=i.$implicit,e=x(2);ce("background-color",r.color),_(2),b("card",r),_(2),Ee(" ",r.title," "),_(3),Ee(" ",r.description," "),_(),b("card",r),_(2),b("card",r)("undo",e.userNoteMsg)}}function _g(a,i){if(a&1&&(c(0,"ngx-masonry"),k(1,fg,11,8,"div",19),h()),a&2){let r=i.notes;_(),b("ngForOf",r)}}var Wt=(()=>{let i=class i{set notes(e){e&&(this.pinned=[],this.unpinned=[],e.forEach(t=>t.pinned?this.pinned.push(t):this.unpinned.push(t)))}constructor(e,t,n){this._dataService=e,this.matdailog=t,this._noteService=n,this.userNoteMsg=!1,this.pinned=[],this.unpinned=[],this.actionOne=new P,this.trashAction=new P,this.archiveAction=new P}ngOnInit(){this._dataService.currentMessage.subscribe(e=>{this.viewType=e})}updateNote(e){this.matdailog.open(kc,{data:e}).afterClosed().subscribe(n=>{if(n!=null)if(n=="archive")this.actionOne.emit();else{let o={cardId:n._id,title:n.title,description:n.description};this._noteService.updateNote(o).subscribe(s=>{console.log("card updated"),this.actionOne.emit()},s=>{console.error("unable to update card:",s)})}})}noteCall(){this.actionOne.emit()}trashCall(){this.trashAction.emit()}archiveCall(){this.archiveAction.emit()}remove(){alert("not implemented")}};i.\u0275fac=function(t){return new(t||i)(m(Ie),m(ei),m(ve))},i.\u0275cmp=O({type:i,selectors:[["app-user-notes"]],inputs:{notes:"notes"},outputs:{actionOne:"actionOne",trashAction:"trashAction",archiveAction:"archiveAction"},decls:6,vars:2,consts:[["listView",""],["gridView",""],["class","ls-container",4,"ngIf"],["class","notes-container",4,"ngIf"],[1,"ls-container"],["class","spacing-btm",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"spacing-btm"],[1,"category-title"],[1,"notes-container"],["class","ls-card edit",3,"background-color",4,"ngFor","ngForOf"],[1,"ls-card","edit"],[1,"app-pin",3,"card"],[1,"note-title",3,"click"],[1,"ls-description",3,"click"],[3,"card"],[1,"note-toolbar"],[3,"action","trashact","archiveAct","card","undo"],["ngxMasonryItem","","class","note-card",3,"background-color",4,"ngFor","ngForOf"],["ngxMasonryItem","",1,"note-card"],[1,"note-content",3,"click"],[1,"note-title"],[1,"note-description"]],template:function(t,n){t&1&&k(0,lg,5,6,"div",2)(1,mg,5,6,"div",3)(2,gg,1,1,"ng-template",null,0,Ve)(4,_g,2,1,"ng-template",null,1,Ve),t&2&&(b("ngIf",!n.viewType),_(),b("ngIf",n.viewType))},dependencies:[vt,se,cs,So,Nc,Ji,Lr,Bc],styles:[".app-pin[_ngcontent-%COMP%]{opacity:0;float:right;cursor:pointer}.note-title[_ngcontent-%COMP%]{min-height:26px;max-height:84px;padding:12px 16px 0;font-family:Google Sans,Roboto,Arial,sans-serif;font-size:1rem;font-weight:700;color:#000;line-height:1.5rem}.note-toolbar[_ngcontent-%COMP%]{opacity:0}.spacing-btm[_ngcontent-%COMP%]{margin-bottom:60px}.category-title[_ngcontent-%COMP%]{color:#5f6368;letter-spacing:.8px;font-family:Roboto,Arial,sans-serif;font-size:11px;font-weight:500;text-transform:uppercase;margin:32px 32px 8px;-webkit-user-select:none;user-select:none}.ls-container[_ngcontent-%COMP%]{width:632px;margin:0 auto;position:relative;background-color:#fff}@media (max-width: 632px){.ls-container[_ngcontent-%COMP%]{width:100%}}.ls-card[_ngcontent-%COMP%]{margin:16px;width:600px;border:1.25px solid #dadce0;border-radius:8px;box-sizing:border-box;outline:none;transition:box-shadow .218s ease-in-out;cursor:move;background:#fff}@media (max-width: 632px){.ls-card[_ngcontent-%COMP%]{width:97%;margin:8px}}.ls-description[_ngcontent-%COMP%]{max-height:405px;color:#202124;font-size:14px;line-height:19px;min-height:30px;padding:12px 16px;white-space:pre-wrap;word-wrap:break-word;outline:none;overflow:hidden;width:100%;box-sizing:border-box}.notes-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;max-width:calc(100% - 150px)}.note-card[_ngcontent-%COMP%]{width:240px;border:1px solid #dadce0;margin:8px;border-radius:8px;box-sizing:border-box;position:relative;transition:box-shadow .2s ease,transform .2s ease}.note-content[_ngcontent-%COMP%]{min-height:60px;overflow:hidden}.note-description[_ngcontent-%COMP%]{min-height:30px;padding:12px 16px;letter-spacing:.2px;font-family:Roboto,Arial,sans-serif;font-size:14px;line-height:20px;white-space:pre-line;word-wrap:break-word;max-height:304px}.ls-card[_ngcontent-%COMP%]:hover, .note-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px 2px #3c40431a,0 0 4px 1px #3c404326}.ls-card[_ngcontent-%COMP%]:hover   .app-pin[_ngcontent-%COMP%], .note-card[_ngcontent-%COMP%]:hover   .app-pin[_ngcontent-%COMP%], .ls-card[_ngcontent-%COMP%]:hover   .note-toolbar[_ngcontent-%COMP%], .note-card[_ngcontent-%COMP%]:hover   .note-toolbar[_ngcontent-%COMP%]{opacity:1;transition:opacity .418s ease-in-out}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.notes-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .note-card[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]});let a=i;return a})();function vg(a,i){if(a&1){let r=R();c(0,"app-user-notes",2),S("actionOne",function(){y(r);let t=x();return w(t.onLoadNotes())}),h()}if(a&2){let r=x();b("notes",r.notes)}}var Hc=(()=>{let i=class i{constructor(e,t){this._noteService=e,this._dataService=t,this.notes=[]}ngOnInit(){this.onLoadNotes(),this.refreshPageEvent()}refreshPageEvent(){this.refreshPage$=this._dataService.pageRefresh.subscribe(e=>this.onLoadNotes())}onLoadNotes(){this._noteService.getNotes(this._dataService.token).pipe(Te(e=>{let t=Array.isArray(e?.result)?e.result.filter(({archive:n,trash:o})=>o===!1&&n===!1):[];return ye(B({},e),{result:t})})).subscribe({next:({result:e})=>this.notes=e,error:e=>console.warn(e)})}ngOnDestroy(){this.refreshPage$&&this.refreshPage$.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)(m(ve),m(Ie))},i.\u0275cmp=O({type:i,selectors:[["app-note"]],decls:2,vars:1,consts:[[3,"addingNote"],[3,"notes","actionOne",4,"ngIf"],[3,"actionOne","notes"]],template:function(t,n){t&1&&(c(0,"app-take-note",0),S("addingNote",function(){return n.onLoadNotes()}),h(),k(1,vg,1,1,"app-user-notes",1)),t&2&&(_(),b("ngIf",n.notes.length))},dependencies:[se,en,Wt]});let a=i;return a})();function bg(a,i){a&1&&(Ke(0),c(1,"div",2),T(2,"div",3),c(3,"div",4),D(4,"Notes with upcoming reminders appear here"),h()(),$e())}function yg(a,i){if(a&1){let r=R();c(0,"app-user-notes",5),S("actionOne",function(){y(r);let t=x();return w(t.onLoadReminders())}),h()}if(a&2){let r=x();b("notes",r.reminderNotes)}}var Yc=(()=>{let i=class i{constructor(e,t){this._noteService=e,this._dataService=t,this.reminderNotes=[],this.emptyReminders=!0}ngOnInit(){this.onLoadReminders(),this.refreshPageEvent()}refreshPageEvent(){this.refreshPage$=this._dataService.pageRefresh.subscribe(e=>this.onLoadReminders())}onLoadReminders(){this._noteService.getNotes(this._dataService.token).pipe(Te(e=>{let t=Array.isArray(e?.result)?e.result.filter(({reminder:n,trash:o})=>o===!1&&n!=""):[];return ye(B({},e),{result:t})})).subscribe({next:({result:e})=>{this.emptyReminders=e.length===0,this.reminderNotes=e}})}ngOnDestroy(){this.refreshPage$&&this.refreshPage$.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)(m(ve),m(Ie))},i.\u0275cmp=O({type:i,selectors:[["app-reminders"]],decls:5,vars:2,consts:[["reminderContent",""],[4,"ngIf","ngIfElse"],[1,"placeholder-template"],[1,"pl-icon"],[1,"msg"],[3,"actionOne","notes"]],template:function(t,n){if(t&1&&(T(0,"app-take-note"),c(1,"div"),k(2,bg,5,0,"ng-container",1)(3,yg,1,1,"ng-template",null,0,Ve),h()),t&2){let o=H(4);_(2),b("ngIf",n.emptyReminders)("ngIfElse",o)}},dependencies:[se,en,Wt],styles:[".placeholder-template[_ngcontent-%COMP%]{margin-top:20vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.placeholder-template[_ngcontent-%COMP%]   .pl-icon[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjMDAwIj4KICA8cGF0aCBkPSJNMTggMTd2LTZjMC0zLjA3LTEuNjMtNS42NC00LjUtNi4zMlY0YzAtLjgzLS42Ny0xLjUtMS41LTEuNXMtMS41LjY3LTEuNSAxLjV2LjY4QzcuNjQgNS4zNiA2IDcuOTIgNiAxMXY2SDR2MmgxNnYtMmgtMnptLTIgMEg4di02YzAtMi40OCAxLjUxLTQuNSA0LTQuNXM0IDIuMDIgNCA0LjV2NnptLTQgNWMxLjEgMCAyLS45IDItMmgtNGMwIDEuMS45IDIgMiAyeiIvPgo8L3N2Zz4K);background-size:120px;height:120px;margin:20px;opacity:.1;width:120px}.placeholder-template[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:#5f6368;cursor:default;font-size:1.375rem;font-weight:400;line-height:1.75rem}"]});let a=i;return a})();function wg(a,i){a&1&&(Ke(0),c(1,"div",2),T(2,"div",3),c(3,"div",4),D(4,"Your archived notes appear here"),h()(),$e())}function Cg(a,i){if(a&1){let r=R();c(0,"app-user-notes",5),S("archiveAction",function(){y(r);let t=x();return w(t.onLoadArchived())}),h()}if(a&2){let r=x();b("notes",r.archiveCards)}}var Wc=(()=>{let i=class i{constructor(e,t){this._noteService=e,this._dataService=t,this.archiveCards=[],this.emptyArchive=!0}ngOnInit(){this.onLoadArchived(),this.refreshPageEvent()}refreshPageEvent(){this.refreshPage$=this._dataService.pageRefresh.subscribe(e=>this.onLoadArchived())}onLoadArchived(){this._noteService.getNotes(this._dataService.token).pipe(Te(e=>{let t=Array.isArray(e?.result)?e.result.filter(({archive:n,trash:o})=>n===!0&&o===!1):[];return ye(B({},e),{result:t})})).subscribe({next:({result:e})=>{this.emptyArchive=e.length===0,this.archiveCards=e},error:e=>console.warn(e)})}ngOnDestroy(){this.refreshPage$&&this.refreshPage$.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)(m(ve),m(Ie))},i.\u0275cmp=O({type:i,selectors:[["app-archive"]],decls:4,vars:2,consts:[["archiveContent",""],[4,"ngIf","ngIfElse"],[1,"placeholder-template"],[1,"pl-icon"],[1,"msg"],[3,"archiveAction","notes"]],template:function(t,n){if(t&1&&(c(0,"div"),k(1,wg,5,0,"ng-container",1)(2,Cg,1,1,"ng-template",null,0,Ve),h()),t&2){let o=H(3);_(),b("ngIf",n.emptyArchive)("ngIfElse",o)}},dependencies:[se,Wt],styles:[".placeholder-template[_ngcontent-%COMP%]{margin-top:20vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.placeholder-template[_ngcontent-%COMP%]   .pl-icon[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjMDAwIj4KICA8cGF0aCBkPSJNMjAuNTQgNS4yM2wtMS4zOS0xLjY4QzE4Ljg4IDMuMjEgMTguNDcgMyAxOCAzSDZjLS40NyAwLS44OC4yMS0xLjE2LjU1TDMuNDYgNS4yM0MzLjE3IDUuNTcgMyA2LjAyIDMgNi41VjE5YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNi41YzAtLjQ4LS4xNy0uOTMtLjQ2LTEuMjd6TTYuMjQgNWgxMS41MmwuODMgMUg1LjQybC44Mi0xek01IDE5VjhoMTR2MTFINXptMTEtNS41bC00IDQtNC00IDEuNDEtMS40MUwxMSAxMy42N1YxMGgydjMuNjdsMS41OS0xLjU5TDE2IDEzLjV6Ii8+Cjwvc3ZnPgo=);background-size:120px;height:120px;margin:20px;opacity:.1;width:120px}.placeholder-template[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:#5f6368;cursor:default;font-size:1.375rem;font-weight:400;line-height:1.75rem}"]});let a=i;return a})();var Uc=(()=>{let i=class i{constructor(){this.data=ae(Jt),this.dialogRef=ae(Ct)}onAction(){this.dialogRef.close(!0)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=O({type:i,selectors:[["app-generic-dialog"]],decls:8,vars:2,consts:[[1,"main-ctn"],[1,"msg"],[1,"ctrls"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"action-btn",3,"click"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1),D(2),h(),c(3,"div",2)(4,"button",3),D(5,"Cancel"),h(),c(6,"button",4),S("click",function(){return n.onAction()}),D(7),h()()()),t&2&&(_(2),Z(n.data==null?null:n.data.message),_(5),Z(n.data==null?null:n.data.actionName))},dependencies:[Mr,Ne],styles:[".main-ctn[_ngcontent-%COMP%]{width:430px;color:#202124;background-color:#fff;padding:24px;font-family:Roboto,arial,sans-serif;font-size:15px;background-clip:padding-box;box-sizing:border-box;outline:0;border:none;box-shadow:0 1px 3px #3c40434d,0 4px 8px 3px #3c404326;border-radius:8px}.msg[_ngcontent-%COMP%]{letter-spacing:.0142857143em;font-size:.875rem;font-weight:400;line-height:1.25rem;color:#323639;padding-bottom:24px;word-wrap:break-word}.ctrls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.ctrls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none!important;color:#000000de;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;letter-spacing:.0178571429em;font-family:google-sans,product-sans,Arial,sans-serif;font-size:.875rem;font-weight:700;line-height:1.25rem;height:36px;padding:8px 24px;border-radius:4px;margin-right:16px;border-color:transparent!important}.ctrls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin:0}.ctrls[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{color:#1a73e8}"]});let a=i;return a})();function xg(a,i){if(a&1){let r=R();c(0,"button",5),S("click",function(){y(r);let t=x();return w(t.onEmptyTrash())}),D(1," Empty Trash "),h()}}function Dg(a,i){a&1&&(Ke(0),c(1,"div",6),T(2,"div",7),c(3,"div",8),D(4,"No notes in Trash"),h()(),$e())}function Sg(a,i){if(a&1){let r=R();c(0,"app-user-notes",9),S("trashAction",function(){y(r);let t=x();return w(t.handleUserAction())}),h()}if(a&2){let r=x();b("notes",r.trashedNotes)}}var Qc=(()=>{let i=class i{constructor(e,t,n){this._noteService=e,this._dataService=t,this.dialog=n,this.trashedNotes=[],this.emptyTrash=!0}ngOnInit(){this.onLoadNotes(),this.refreshPageEvent()}refreshPageEvent(){this.refreshPage$=this._dataService.pageRefresh.subscribe(e=>this.onLoadNotes())}onLoadNotes(){this._noteService.getNotes(this._dataService.token).pipe(Te(e=>{let t=Array.isArray(e?.result)?e.result.filter(({trash:n})=>n):[];return ye(B({},e),{result:t})})).subscribe({next:({result:e})=>{this.emptyTrash=e.length===0,this.trashedNotes=e},error:e=>console.warn(e)})}handleUserAction(){this.ngOnInit()}deleteAllNotes(){return we(this,null,function*(){try{yield Ho(this._noteService.trashNotes()),this.handleUserAction()}catch(e){console.error("Failed to delete all notes:",e)}})}onEmptyTrash(){this.dialog.open(Uc,{autoFocus:!1,data:{message:"Empty trash? All notes in Trash will be permanently deleted.",actionName:"Empty"}}).afterClosed().subscribe(e=>{e&&this.deleteAllNotes()})}ngOnDestroy(){this.refreshPage$&&this.refreshPage$.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)(m(ve),m(Ie),m(ei))},i.\u0275cmp=O({type:i,selectors:[["app-trash"]],decls:9,vars:3,consts:[["trashContent",""],[1,"trash-nav"],[1,"trash-msg"],["mat-button","",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["mat-button","",3,"click"],[1,"placeholder-template"],[1,"pl-icon"],[1,"msg"],[3,"trashAction","notes"]],template:function(t,n){if(t&1&&(c(0,"div",1)(1,"div",2)(2,"i"),D(3,"Notes in Trash are deleted after 7 days."),h()(),k(4,xg,2,0,"button",3),h(),c(5,"div"),k(6,Dg,5,0,"ng-container",4)(7,Sg,1,1,"ng-template",null,0,Ve),h()),t&2){let o=H(8);_(4),b("ngIf",!n.emptyTrash),_(2),b("ngIf",n.emptyTrash)("ngIfElse",o)}},dependencies:[se,Ne,Wt],styles:[".trash-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.trash-nav[_ngcontent-%COMP%]   .trash-msg[_ngcontent-%COMP%]{font-size:16px;text-align:center;margin:18px 0}.trash-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#1a73e8!important;padding:8px 24px;bottom:0;font-style:normal;margin-left:16px;position:relative}.trash-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4285f40a}.trash-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#4285f429!important}.placeholder-template[_ngcontent-%COMP%]{margin-top:20vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.placeholder-template[_ngcontent-%COMP%]   .pl-icon[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjMDAwIj4KICA8cGF0aCBkPSJNMTUgNFYzSDl2MUg0djJoMXYxM2MwIDEuMS45IDIgMiAyaDEwYzEuMSAwIDItLjkgMi0yVjZoMVY0aC01em0yIDE1SDdWNmgxMHYxM3oiLz4KICA8cGF0aCBkPSJNOSA4aDJ2OUg5em00IDBoMnY5aC0yeiIvPgo8L3N2Zz4K);background-size:120px 120px;height:120px;margin:20px;opacity:.1;width:120px}.placeholder-template[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:#5f6368;cursor:default;font-size:1.375rem;font-weight:400;letter-spacing:0;line-height:1.75rem}"]});let a=i;return a})();function Mg(a,i){if(a&1){let r=R();c(0,"app-user-notes",2),S("actionOne",function(){y(r);let t=x();return w(t.onLoadNotes())}),h()}if(a&2){let r=x();b("notes",r.labelNotes)}}var Gc=(()=>{let i=class i{constructor(e,t,n,o){this._noteService=e,this._dataService=t,this._cdr=n,this.activatedRoute=o,this.labelNotes=[]}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{this.labelId=e.id,this.onLoadNotes()})}onLoadNotes(){this._noteService.getNotes(this._dataService.token).pipe(Te(e=>{let t=Array.isArray(e?.result)?e.result.filter(({archive:n,trash:o,labels:s})=>o===!1&&n===!1&&s.some(l=>l._id==this.labelId)):[];return ye(B({},e),{result:t})})).subscribe({next:({result:e})=>{this.labelNotes=e,console.log(e),this._cdr.detectChanges()},error:e=>console.warn(e)})}};i.\u0275fac=function(t){return new(t||i)(m(ve),m(Ie),m(de),m(Jn))},i.\u0275cmp=O({type:i,selectors:[["app-labels"]],decls:2,vars:1,consts:[[3,"addingNote"],[3,"notes","actionOne",4,"ngIf"],[3,"actionOne","notes"]],template:function(t,n){t&1&&(c(0,"app-take-note",0),S("addingNote",function(){return n.onLoadNotes()}),h(),k(1,Mg,1,1,"app-user-notes",1)),t&2&&(_(),b("ngIf",n.labelNotes.length))},dependencies:[se,en,Wt]});let a=i;return a})();function qc(a,i=1){if(a=a.replace(/^#/,""),a.length===3&&(a=a.split("").map(n=>n+n).join("")),a.length!==6)throw new Error("Invalid hex color format");let r=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),t=parseInt(a.substring(4,6),16);return`rgb(${r},${e},${t}, ${i})`}var Kc=(()=>{let i=class i{constructor(){this.initFabric=!1}getFabricObject(){return we(this,null,function*(){try{return this.initFabric||(yield this.loadFabricJS()),fabric}catch(e){throw console.error("Error loading fabric.js:",e),new Error("Failed to load fabric.js")}})}loadFabricJS(){return new Promise((e,t)=>{let n=document.createElement("script");n.src="assets/js/fabric.min.js",n.onload=()=>{this.initFabric=!0,e()},n.onerror=o=>{console.error("Error loading fabric.js:",o),t(new Error("Error loading fabric.js script"))},document.body.appendChild(n)})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();var $c=(()=>{let i=class i{constructor(){this.src=$o.required(),this._http=ae(ms),this._domSanitizer=ae(Xn)}ngOnInit(){this.initSvg()}initSvg(){this.src&&this._http.get(this.src(),{responseType:"text"}).subscribe({next:e=>this.svgContent=this._domSanitizer.bypassSecurityTrustHtml(e),error:e=>console.error("Error loading the SVG content",e)})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=O({type:i,selectors:[["app-svg-icon"]],inputs:{src:[j.SignalBased,"src"]},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,n){t&1&&T(0,"span",0),t&2&&b("innerHTML",n.svgContent,Zo)},encapsulation:2});let a=i;return a})();var Mo=["#000000","#ff5252","#ffbc00","#00c853","#00b0ff","#d500f9","#8d6e63"],Eo=["#fafafa","#a52714","#ee8100","#558b2f","#01579b","#8e24aa","#4e342e"],Io=["#90a4ae","#ff4081","#ff6e40","#aeea00","#304ffe","#7c4dff","#1de9b6"],To=["#cfd8dc","#f8bbd0","#ffccbc","#f0f4c3","#9fa8da","#d1c4e9","#b2dfdb"];var Tg=(a,i)=>({width:a,height:i});function kg(a,i){if(a&1){let r=R();c(0,"button",8),S("click",function(t){let n=y(r).$implicit,o=x();return w(o.onSelectColor(n,t))}),h()}if(a&2){let r=i.$implicit,e=x();ce("background-color",r),q("selected",e.shade===r)}}function Ag(a,i){if(a&1){let r=R();c(0,"button",8),S("click",function(t){let n=y(r).$implicit,o=x();return w(o.onSelectColor(n,t))}),h()}if(a&2){let r=i.$implicit,e=x();ce("background-color",r),q("selected",e.shade===r)}}function Pg(a,i){if(a&1){let r=R();c(0,"button",8),S("click",function(t){let n=y(r).$implicit,o=x();return w(o.onSelectColor(n,t))}),h()}if(a&2){let r=i.$implicit,e=x();ce("background-color",r),q("selected",e.shade===r)}}function Og(a,i){if(a&1){let r=R();c(0,"button",8),S("click",function(t){let n=y(r).$implicit,o=x();return w(o.onSelectColor(n,t))}),h()}if(a&2){let r=i.$implicit,e=x();ce("background-color",r),q("selected",e.shade===r)}}function Rg(a,i){if(a&1){let r=R();c(0,"button",9),S("click",function(t){let n=y(r).$implicit,o=x();return w(o.onSelectSize(n.value,t))}),T(1,"div",10),h()}if(a&2){let r=i.$implicit,e=x();q("selected",e.brushSize==r.value),G("aria-label",r.label),_(),b("ngStyle",rs(4,Tg,r.dimension,r.dimension))}}var Fg=[{value:4,label:"Size 1",dimension:"2px"},{value:6,label:"Size 2",dimension:"4px"},{value:8,label:"Size 3",dimension:"8px"},{value:12,label:"Size 4",dimension:"12px"},{value:18,label:"Size 5",dimension:"16px"},{value:28,label:"Size 6",dimension:"20px"},{value:40,label:"Size 7",dimension:"24px"},{value:52,label:"Size 8",dimension:"28px"}],Xc=(()=>{let i=class i{constructor(){this._brush=4,this._color="#ff5252",this._shades=[...Mo,...Eo,...Io,...To],this.colors1=Mo,this.colors2=Eo,this.colors3=Io,this.colors4=To,this.brushSizes=Fg,this.expandPalette=!1,this.optionsChange=new P}set toolOptions(e){this._brush=e?.size??4,this._color=this._validateShade(e?.shade)?e.shade:"#ff5252"}get brushSize(){return this._brush}get shade(){return this._color}_validateShade(e){return this._shades.includes(e)}onToggleMoreColors(e){e.stopPropagation(),this.expandPalette=!this.expandPalette}onSelectColor(e,t){t.stopPropagation(),this._validateShade(e)&&(this._color=e,this.emitChanges())}onSelectSize(e,t){t.stopPropagation(),e&&(this._brush=e,this.emitChanges())}emitChanges(){this.optionsChange.emit({size:this._brush,shade:this._color})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=O({type:i,selectors:[["app-paint-palette"]],inputs:{toolOptions:"toolOptions"},outputs:{optionsChange:"optionsChange"},decls:15,vars:8,consts:[[1,"palette",2,"width","344px"],[1,"colors"],[1,"cols-row"],["class","brush-color",3,"selected","backgroundColor","click",4,"ngFor","ngForOf"],[1,"more-colors",3,"click"],[1,"material-symbols-outlined","small-icon"],[1,"brush-ctrls"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"brush-color",3,"click"],[3,"click"],[3,"ngStyle"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),k(3,kg,1,4,"button",3),c(4,"button",4),S("click",function(s){return n.onToggleMoreColors(s)}),c(5,"span",5),D(6),h()()(),c(7,"div",2),k(8,Ag,1,4,"button",3),h(),c(9,"div",2),k(10,Pg,1,4,"button",3),h(),c(11,"div",2),k(12,Og,1,4,"button",3),h()(),c(13,"div",6),k(14,Rg,2,7,"button",7),h()()),t&2&&(_(),q("expand-cols",n.expandPalette),_(2),b("ngForOf",n.colors1),_(3),Ee(" ",n.expandPalette?"keyboard_arrow_up":"keyboard_arrow_down"," "),_(2),b("ngForOf",n.colors2),_(2),b("ngForOf",n.colors3),_(2),b("ngForOf",n.colors4),_(2),b("ngForOf",n.brushSizes))},dependencies:[vt,oi],styles:[".colors[_ngcontent-%COMP%]{max-height:50px;overflow:hidden;transition:max-height .3s ease-in-out}.colors[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:none;padding:0;margin:15px 11px;transition:all .3s;background-color:transparent;cursor:pointer}.colors[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.more-colors){transform:scale(1.4)}.colors[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{transform:scale(1.4)}.expand-cols[_ngcontent-%COMP%]{max-height:345px}.small-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;color:#000}.brush-ctrls[_ngcontent-%COMP%]{border-top:1px solid silver;display:flex}.brush-ctrls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;height:34px;margin:8px 4px;width:34px;border-radius:50%;border:none;cursor:pointer;display:flex;justify-content:center;align-items:center;padding:0}.brush-ctrls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid silver}.brush-ctrls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#000;border-radius:50%}.brush-ctrls[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:1px solid black!important}"]});let a=i;return a})();function Lg(a,i){a&1&&(ue(),c(0,"g"),T(1,"circle",52)(2,"path",53),h())}function Ng(a,i){a&1&&(ue(),c(0,"g"),T(1,"circle",52)(2,"path",53),h())}function zg(a,i){a&1&&(ue(),c(0,"g"),T(1,"circle",52)(2,"path",53),h())}function jg(a,i){a&1&&(ue(),c(0,"g"),T(1,"circle",52)(2,"path",53),h())}var Zc=(()=>{let i=class i{constructor(){this.pen={shade:"#ff5252",size:6},this.marker={shade:"#d500f9",size:6},this.highlighter={shade:"#000000",size:6},this.eraser={size:0},this.activeTool=an("pen"),this.pageStyle=an("none"),this.toolAction=new P,this.updatePageStyle=new P}onUpdateTool(e){this.activeTool.set(e),this.emitAction()}onOptsChange(e,t){this.activeTool.set(e),this[e]=t,this.emitAction()}onClearCanvas(){this.emitAction("clearCanvas")}onPageStyle(e){this.pageStyle.set(e),this.updatePageStyle.emit(e)}emitAction(e="toolchange"){let t=this.activeTool();this.toolAction.emit({action:e,selectedTool:t,options:this[t]})}warningMsg(){alert("not yet implemented")}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=O({type:i,selectors:[["app-paint-toolbar"]],outputs:{toolAction:"toolAction",updatePageStyle:"pageStyle"},decls:146,vars:17,consts:[["penOpts","matMenu"],["markerOpts","matMenu"],["highlighterOpts","matMenu"],["eraseOptions","matMenu"],["moreMenu","matMenu"],["pageOptions","matMenu"],[1,"toolbar"],[1,"flex-fill"],[1,"list-unstyled","items"],["mat-button","",3,"click"],[1,"material-symbols-outlined"],["mat-button","",1,"arrow_drop_down",3,"matMenuTriggerFor"],["src","assets/icons/sketch-pen.svg"],["src","assets/icons/sketch-marker.svg"],["src","assets/icons/sketch-highlighter.svg"],["role","button","tabindex","0",3,"matMenuTriggerFor"],["mat-button",""],["src","assets/icons/page-type.svg"],["mat-button","",1,"arrow_drop_down"],[1,"more-itm"],["mat-button","",3,"matMenuTriggerFor"],[3,"optionsChange","toolOptions"],[1,"basic-btn","clear-btn",3,"click"],[1,"list-unstyled","more-opts"],[1,"basic-btn"],["xPosition","before",1,"page-menu"],[1,"page-ctrls"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","id","squareType","viewBox","0 0 48 48","width","48","height","48"],["fill","#fff","cx","24","cy","24","r","23.5",3,"ngClass"],["stroke","rgba(0,0,0,0.45)"],["x1","12.33","y1","44.59","x2","12.33","y2","3.41"],["x1","24","y1","48","x2","24"],["x1","35.67","y1","44.59","x2","35.67","y2","3.41"],["x1","3.56","y1","12.33","x2","44.44","y2","12.33"],["y1","24","x2","48","y2","24"],["x1","3.56","y1","35.67","x2","44.44","y2","35.67"],[4,"ngIf"],["for","squareType"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","width","48","height","48"],["cx","11.37","cy","11.49","r","1.08"],["cx","24","cy","11.49","r","1.08"],["cx","36.63","cy","11.49","r","1.08"],["cx","11.37","cy","24","r","1.08"],["cx","24","cy","24","r","1.08"],["cx","36.63","cy","24","r","1.08"],["cx","11.37","cy","36.51","r","1.08"],["cx","24","cy","36.51","r","1.08"],["cx","36.63","cy","36.51","r","1.08"],["for","dotsType"],["for","rulesType"],["for","noneType"],["cx","8","cy","8","r","6.33","fill","#fff"],["fill","blue","d","M8,0a8,8,0,1,0,8,8A8,8,0,0,0,8,0ZM6.4,12l-4-4L3.53,6.87,6.4,9.74l6.07-6.08L13.6,4.8Z"]],template:function(t,n){if(t&1){let o=R();c(0,"div")(1,"div",6)(2,"div",7)(3,"ul",8)(4,"li")(5,"div")(6,"button",9),S("click",function(){return y(o),w(n.warningMsg())}),c(7,"span",10),D(8,"arrow_back"),h()()()(),c(9,"li")(10,"div")(11,"button",9),S("click",function(){return y(o),w(n.onUpdateTool("select"))})("click",function(){return y(o),w(n.warningMsg())}),c(12,"span",10),D(13,"select"),h()()()(),c(14,"li")(15,"div")(16,"button",9),S("click",function(){return y(o),w(n.onUpdateTool("eraser"))})("click",function(){return y(o),w(n.warningMsg())}),c(17,"span",10),D(18,"ink_eraser"),h()(),c(19,"button",11)(20,"span",10),D(21,"arrow_drop_down"),h()()()(),c(22,"li")(23,"div")(24,"button",9),S("click",function(){return y(o),w(n.onUpdateTool("pen"))}),T(25,"app-svg-icon",12),h(),c(26,"button",11)(27,"span",10),D(28,"arrow_drop_down"),h()()()(),c(29,"li")(30,"div")(31,"button",9),S("click",function(){return y(o),w(n.onUpdateTool("marker"))}),T(32,"app-svg-icon",13),h(),c(33,"button",11)(34,"span",10),D(35,"arrow_drop_down"),h()()()(),c(36,"li")(37,"div")(38,"button",9),S("click",function(){return y(o),w(n.onUpdateTool("highlighter"))}),T(39,"app-svg-icon",14),h(),c(40,"button",11)(41,"span",10),D(42,"arrow_drop_down"),h()()()(),c(43,"li")(44,"div",15)(45,"button",16),T(46,"app-svg-icon",17),h(),c(47,"button",18)(48,"span",10),D(49,"arrow_drop_down"),h()()()()()(),c(50,"div")(51,"ul",8)(52,"li")(53,"div")(54,"button",9),S("click",function(){return y(o),w(n.warningMsg())}),c(55,"span",10),D(56,"undo"),h()()()(),c(57,"li")(58,"div")(59,"button",9),S("click",function(){return y(o),w(n.warningMsg())}),c(60,"span",10),D(61,"redo"),h()()()(),c(62,"li")(63,"div")(64,"button",9),S("click",function(){return y(o),w(n.warningMsg())}),c(65,"span",10),D(66,"fullscreen_exit"),h()()()(),c(67,"li",19)(68,"div")(69,"button",20)(70,"span",10),D(71,"more_vert"),h()()()()()()()(),c(72,"mat-menu",null,0)(74,"app-paint-palette",21),S("optionsChange",function(l){return y(o),w(n.onOptsChange("pen",l))}),h()(),c(75,"mat-menu",null,1)(77,"app-paint-palette",21),S("optionsChange",function(l){return y(o),w(n.onOptsChange("marker",l))}),h()(),c(78,"mat-menu",null,2)(80,"app-paint-palette",21),S("optionsChange",function(l){return y(o),w(n.onOptsChange("highlighter",l))}),h()(),c(81,"mat-menu",null,3)(83,"div")(84,"button",22),S("click",function(){return y(o),w(n.onClearCanvas())}),D(85,"Clear Page"),h()()(),c(86,"mat-menu",null,4)(88,"ul",23)(89,"li")(90,"button",24),D(91,"New drawing"),h()(),c(92,"li")(93,"button",24),D(94,"Export as image"),h()(),c(95,"li")(96,"button",24),D(97,"Delete current drawing"),h()()()(),c(98,"mat-menu",25,5)(100,"div",26)(101,"button",27),S("click",function(){return y(o),w(n.onPageStyle("square"))}),ue(),c(102,"svg",28),T(103,"circle",29),c(104,"g",30),T(105,"line",31)(106,"line",32)(107,"line",33)(108,"line",34)(109,"line",35)(110,"line",36),h(),k(111,Lg,3,0,"g",37),h(),Ge(),c(112,"label",38),D(113,"Square"),h()(),c(114,"button",27),S("click",function(){return y(o),w(n.onPageStyle("dots"))}),ue(),c(115,"svg",39),T(116,"circle",29),c(117,"g"),T(118,"circle",40)(119,"circle",41)(120,"circle",42)(121,"circle",43)(122,"circle",44)(123,"circle",45)(124,"circle",46)(125,"circle",47)(126,"circle",48),h(),k(127,Ng,3,0,"g",37),h(),Ge(),c(128,"label",49),D(129,"Dots"),h()(),c(130,"button",27),S("click",function(){return y(o),w(n.onPageStyle("rules"))}),ue(),c(131,"svg",39),T(132,"circle",29),c(133,"g",30),T(134,"line",34)(135,"line",35)(136,"line",36),h(),k(137,zg,3,0,"g",37),h(),Ge(),c(138,"label",50),D(139,"Rules"),h()(),c(140,"button",27),S("click",function(){return y(o),w(n.onPageStyle("none"))}),ue(),c(141,"svg",39),T(142,"circle",29),k(143,jg,3,0,"g",37),h(),Ge(),c(144,"label",51),D(145,"None"),h()()()()}if(t&2){let o=H(73),s=H(76),l=H(79),d=H(82),u=H(87),f=H(99);_(19),b("matMenuTriggerFor",d),_(7),b("matMenuTriggerFor",o),_(7),b("matMenuTriggerFor",s),_(7),b("matMenuTriggerFor",l),_(4),b("matMenuTriggerFor",f),_(25),b("matMenuTriggerFor",u),_(5),b("toolOptions",n.pen),_(3),b("toolOptions",n.marker),_(3),b("toolOptions",n.highlighter),_(23),b("ngClass",n.pageStyle()==="square"?"active":"inactive"),_(8),b("ngIf",n.pageStyle()==="square"),_(5),b("ngClass",n.pageStyle()==="dots"?"active":"inactive"),_(11),b("ngIf",n.pageStyle()==="dots"),_(5),b("ngClass",n.pageStyle()==="rules"?"active":"inactive"),_(5),b("ngIf",n.pageStyle()==="rules"),_(5),b("ngClass",n.pageStyle()==="none"?"active":"inactive"),_(),b("ngIf",n.pageStyle()==="none")}},dependencies:[_t,se,Ne,Bt,$i,$c,Xc],styles:[".toolbar[_ngcontent-%COMP%]{padding:8px 0;display:flex;border-bottom:1px solid silver;background-color:var(--child-component-toolbar-background, white)!important}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{margin:0;display:flex}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:18px}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{outline:1px solid #e5e5e5}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .arrow_drop_down[_ngcontent-%COMP%]{border-left:1px solid #e5e5e5}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0;min-width:24px;padding:8px 7px}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover     .mat-mdc-button-persistent-ripple:before{opacity:0!important}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .more-itm[_ngcontent-%COMP%]{margin-right:18px}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{opacity:.8}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .arrow_drop_down[_ngcontent-%COMP%]{padding:0;border-left:1px solid white}.toolbar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .arrow_drop_down[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.page-ctrls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:2px}.page-ctrls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:0 8px;padding:10px 15px;background-color:transparent;border:none;min-width:78px;border-radius:4px;font-weight:500;cursor:pointer}.page-ctrls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin-bottom:15px}.page-ctrls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{stroke:#0000008a}.page-ctrls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{stroke:#4081f5}.page-ctrls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#f4f2f2}.page-ctrls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{font-weight:600}.page-ctrls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover   .out-cir[_ngcontent-%COMP%]{stroke:#4081f5!important}.more-opts[_ngcontent-%COMP%]{margin:0}.more-opts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}.more-opts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;font-weight:400;line-height:1.25rem;display:block;letter-spacing:.015em;font-size:.88rem}.more-opts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#00000014}.clear-btn[_ngcontent-%COMP%]{padding:8px 12px;font-weight:400;line-height:1.25rem;display:block;letter-spacing:.015em;font-size:.88rem}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#00000014}  .mat-mdc-menu-panel{max-width:600px!important}"]});let a=i;return a})();var Hg=["canvas"],Gr=function(a){return a.Square="square",a.Dots="dots",a.Rules="rules",a}(Gr||{}),Jc=(()=>{let i=class i{constructor(e,t){this._zone=e,this._fabricService=t}ngAfterViewInit(){this.canvasEle?.nativeElement?.getContext?(this.initFabricJS(),this.adjustCanvasDimensions()):console.error("Canvas element not found or does not support 2D context")}initFabricJS(){return we(this,null,function*(){try{this.fabric=yield this._fabricService.getFabricObject(),this._zone.runOutsideAngular(()=>{this.canvas=new this.fabric.Canvas(this.canvasEle.nativeElement,{backgroundColor:"#fafafa",selection:!1,preserveObjectStacking:!0}),this.canvas.isDrawingMode=!0})}catch(e){console.error("Error initializing Fabric.js:",e)}})}setCanvasBackgroundPattern(e,t="repeat"){this.canvas.setBackgroundColor({source:e,repeat:t},this.canvas.renderAll.bind(this.canvas))}canvasPageStyle(e){switch(e){case Gr.Square:this.setCanvasBackgroundPattern("assets/icons/pattern-square.svg");break;case Gr.Dots:this.setCanvasBackgroundPattern("assets/icons/pattern-dots.svg");break;case Gr.Rules:this.setCanvasBackgroundPattern("assets/icons/pattern-rules.svg");break;default:this.canvas.setBackgroundColor("#fafafa",this.canvas.renderAll.bind(this.canvas));break}}adjustCanvasDimensions(){let e=this.canvasEle.nativeElement;e&&(e.width=window.innerWidth,e.height=window.innerHeight,this.canvas?.renderAll())}updateCanvasSettings(e,t){let n=e==="highlighter"?.2:1;this.canvas.isDrawingMode=!0,this.canvas.freeDrawingBrush.width=t.size,this.canvas.freeDrawingBrush.color=qc(t.shade,n)}onToolbarEvent(e){let t=e.action;t&&(t==="clearCanvas"&&this.canvas.clear(),t==="toolchange"&&this.updateCanvasSettings(e.selectedTool,e.options))}};i.\u0275fac=function(t){return new(t||i)(m(ge),m(Kc))},i.\u0275cmp=O({type:i,selectors:[["app-sketch"]],viewQuery:function(t,n){if(t&1&&ne(Hg,7),t&2){let o;Y(o=W())&&(n.canvasEle=o.first)}},decls:4,vars:0,consts:[["canvas",""],[3,"toolAction","pageStyle"],[1,"sketch-sheet"],["id","canvas","tabindex","-1","width","2876","height","924"]],template:function(t,n){if(t&1){let o=R();c(0,"app-paint-toolbar",1),S("toolAction",function(l){return y(o),w(n.onToolbarEvent(l))})("pageStyle",function(l){return y(o),w(n.canvasPageStyle(l))}),h(),c(1,"div",2),T(2,"canvas",3,0),h()}},dependencies:[Zc],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}.sketch-sheet[_ngcontent-%COMP%]{display:block;height:calc(100% - 53px);overflow:auto}"]});let a=i;return a})();var ed=(a,i)=>{let r=localStorage.getItem("token"),e=ae(si);return r?!0:(e.navigate(["/auth"],{queryParams:{returnUrl:i.url}}),!1)};var Yg=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-2BUGFKYO.js").then(a=>a.AuthModule)},{path:"dashboard",component:sc,canActivate:[ed],children:[{path:"",redirectTo:"note",pathMatch:"full"},{path:"note",component:Hc},{path:"reminders",component:Yc},{path:"archive",component:Wc},{path:"trash",component:Qc},{path:"labels/:name",component:Gc}]},{path:"sketch",component:Jc}],td=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({imports:[la.forRoot(Yg),la]});let a=i;return a})();function Wg(a,i){if(a&1){let r=R();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),D(4,"info"),h(),c(5,"p"),D(6),h(),c(7,"button",5),S("click",function(){y(r);let t=x();return w(t.onUnderstood())}),D(8,"Understood"),h()()()()}if(a&2){let r=x();_(6),Z(r.disclaimer)}}var id=(()=>{let i=class i{constructor(){this.title="Fundoo-Client",this.showDisclaimer=an(!1),this.disclaimer="This application is a personal project created solely for educational purposes and to demonstrate my skills. It is not intended for commercial use, and I do not claim any affiliation with or permissions from Google or any other entities. This project is a clone of Google Keep, and I do not intend to sell, monetize, or distribute it for any profit. All rights to the original Google Keep platform and its intellectual property belong to Google LLC.",this.bannerMsg="This application is a personal project developed for educational purposes. It replicates Google Keep, with no affiliation to or authorization from Google. Not intended for commercial use."}ngOnInit(){localStorage.getItem("disclaimer_seen")||this.showDisclaimer.set(!0)}onUnderstood(){localStorage.setItem("disclaimer_seen","done"),this.showDisclaimer.set(!1)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=O({type:i,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","disclaimer-backdrop",4,"ngIf"],[1,"disclaimer-backdrop"],[1,"disclaimer-modal"],[1,"ctn"],[1,"material-symbols-outlined"],["mat-stroked-button","","autofocus","",3,"click"]],template:function(t,n){t&1&&(k(0,Wg,9,1,"div",0),T(1,"router-outlet")),t&2&&b("ngIf",n.showDisclaimer())},dependencies:[se,Ne,er],styles:['.banner[_ngcontent-%COMP%]{background-color:#000;height:14px;padding:5px 10px}.banner[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:12.5px;color:#fff;white-space:pre;box-sizing:border-box;letter-spacing:.55px;text-align:center}.disclaimer-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background:#00000080;display:flex;justify-content:center;align-items:center;z-index:50}.disclaimer-modal[_ngcontent-%COMP%]{max-width:540px;width:100%;z-index:100;border-radius:8px;text-align:center;background:#fdedef;border:1px solid #eee;padding:20px;position:relative;top:0}.disclaimer-modal[_ngcontent-%COMP%]   .ctn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#000;font-size:40px}.disclaimer-modal[_ngcontent-%COMP%]   .ctn[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;font-family:google-sans,sans-serif;letter-spacing:.3px;word-break:break-word;line-height:1.5}.disclaimer-modal[_ngcontent-%COMP%]   .ctn[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:#fff;background:red;border:none;padding:10px 20px;border-radius:4px;font-size:14px;font-family:inherit}@font-face{font-family:product-sans;src:url("./media/product-P24LHHPR.ttf")}@font-face{font-family:google-sans;src:url("./media/GoogleSans-Regular-IDOCB2VY.ttf")}@font-face{font-family:Roboto;src:url("./media/roboto-regular-V4O27T5Z.ttf")}  .material-icons{color:#0000008a}  .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#00000014}  .error-snackbar{background:#fcfcfca8;color:#cf1e1e}']});let a=i;return a})();function Vo(a,i,r){for(let e in i)if(i.hasOwnProperty(e)){let t=i[e];t?a.setProperty(e,t,r?.has(e)?"important":""):a.removeProperty(e)}return a}function tn(a,i){let r=i?"":"none";Vo(a.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function nd(a,i,r){Vo(a.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},r)}function Xr(a,i){return i&&i!="none"?a+" "+i:a}function rd(a,i){a.style.width=`${i.width}px`,a.style.height=`${i.height}px`,a.style.transform=Zr(i.left,i.top)}function Zr(a,i){return`translate3d(${Math.round(a)}px, ${Math.round(i)}px, 0)`}function Lo(a){let i=a.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function Ao(a,i,r){let{top:e,bottom:t,left:n,right:o}=a;return r>=e&&r<=t&&i>=n&&i<=o}function En(a,i,r){a.top+=i,a.bottom=a.top+a.height,a.left+=r,a.right=a.left+a.width}function ad(a,i,r,e){let{top:t,right:n,bottom:o,left:s,width:l,height:d}=a,u=l*i,f=d*i;return e>t-f&&e<o+f&&r>s-u&&r<n+u}var Jr=class{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:Lo(r)})})}handleScroll(i){let r=ln(i),e=this.positions.get(r);if(!e)return null;let t=e.scrollPosition,n,o;if(r===this._document){let d=this.getViewportScrollPosition();n=d.top,o=d.left}else n=r.scrollTop,o=r.scrollLeft;let s=t.top-n,l=t.left-o;return this.positions.forEach((d,u)=>{d.clientRect&&r!==u&&r.contains(u)&&En(d.clientRect,s,l)}),t.top=n,t.left=o,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function _d(a){let i=a.cloneNode(!0),r=i.querySelectorAll("[id]"),e=a.nodeName.toLowerCase();i.removeAttribute("id");for(let t=0;t<r.length;t++)r[t].removeAttribute("id");return e==="canvas"?ld(a,i):(e==="input"||e==="select"||e==="textarea")&&sd(a,i),od("canvas",a,i,ld),od("input, textarea, select",a,i,sd),i}function od(a,i,r,e){let t=i.querySelectorAll(a);if(t.length){let n=r.querySelectorAll(a);for(let o=0;o<t.length;o++)e(t[o],n[o])}}var Ug=0;function sd(a,i){i.type!=="file"&&(i.value=a.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${Ug++}`)}function ld(a,i){let r=i.getContext("2d");if(r)try{r.drawImage(a,0,0)}catch{}}function vd(a,i){let r=a.rootNodes;if(r.length===1&&r[0].nodeType===i.ELEMENT_NODE)return r[0];let e=i.createElement("div");return r.forEach(t=>e.appendChild(t)),e}function cd(a){let i=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*i}function Qg(a){let i=getComputedStyle(a),r=ko(i,"transition-property"),e=r.find(s=>s==="transform"||s==="all");if(!e)return 0;let t=r.indexOf(e),n=ko(i,"transition-duration"),o=ko(i,"transition-delay");return cd(n[t])+cd(o[t])}function ko(a,i){return a.getPropertyValue(i).split(",").map(e=>e.trim())}var Gg=new Set(["position"]),Po=class{constructor(i,r,e,t,n,o,s,l,d){this._document=i,this._rootElement=r,this._direction=e,this._initialDomRect=t,this._previewTemplate=n,this._previewClass=o,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=d}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return Qg(this._preview)}addEventListener(i,r){this._preview.addEventListener(i,r)}removeEventListener(i,r){this._preview.removeEventListener(i,r)}_createPreview(){let i=this._previewTemplate,r=this._previewClass,e=i?i.template:null,t;if(e&&i){let n=i.matchSize?this._initialDomRect:null,o=i.viewContainer.createEmbeddedView(e,i.context);o.detectChanges(),t=vd(o,this._document),this._previewEmbeddedView=o,i.matchSize?rd(t,n):t.style.transform=Zr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else t=_d(this._rootElement),rd(t,this._initialDomRect),this._initialTransform&&(t.style.transform=this._initialTransform);return Vo(t.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Gg),tn(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("popover","manual"),t.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(n=>t.classList.add(n)):t.classList.add(r)),t}},dd=ct({passive:!0}),qr=ct({passive:!1}),hd=ct({passive:!1,capture:!0}),qg=800,pd=new Set(["position"]),Oo=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(r=>tn(r,i)))}constructor(i,r,e,t,n,o){this._config=r,this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new N,this._pointerMoveSubscription=Ae.EMPTY,this._pointerUpSubscription=Ae.EMPTY,this._scrollSubscription=Ae.EMPTY,this._resizeSubscription=Ae.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new N,this.started=new N,this.released=new N,this.ended=new N,this.entered=new N,this.exited=new N,this.dropped=new N,this.moved=this._moveEvents,this._pointerDown=s=>{if(this.beforeStarted.next(),this._handles.length){let l=this._getTargetHandle(s);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,s)}else this.disabled||this._initializeDragSequence(this._rootElement,s)},this._pointerMove=s=>{let l=this._getPointerPositionOnPage(s);if(!this._hasStartedDragging){let u=Math.abs(l.x-this._pickupPositionOnPage.x),f=Math.abs(l.y-this._pickupPositionOnPage.y);if(u+f>=this._config.dragStartThreshold){let I=Date.now()>=this._dragStartTime+this._getDragStartDelay(s),E=this._dropContainer;if(!I){this._endDragSequence(s);return}(!E||!E.isDragging()&&!E.isReceiving())&&(s.cancelable&&s.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(s)))}return}s.cancelable&&s.preventDefault();let d=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,l);else{let u=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,f=this._activeTransform;f.x=d.x-u.x+this._passiveTransform.x,f.y=d.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:s,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=s=>{this._endDragSequence(s)},this._nativeDragStart=s=>{if(this._handles.length){let l=this._getTargetHandle(s);l&&!this._disabledHandles.has(l)&&!this.disabled&&s.preventDefault()}else this.disabled||s.preventDefault()},this.withRootElement(i).withParent(r.parentDragRef||null),this._parentPositions=new Jr(e),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(e=>lt(e)),this._handles.forEach(e=>tn(e,this.disabled)),this._toggleNativeDragInteractions();let r=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&r.add(e)}),this._disabledHandles=r,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){let r=lt(i);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,qr),r.addEventListener("touchstart",this._pointerDown,dd),r.addEventListener("dragstart",this._nativeDragStart,qr)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?lt(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),tn(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),tn(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",ud,hd)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let r=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Mn(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let r=this._getShadowRoot(),e=this._dropContainer;if(r&&this._ngZone.runOutsideAngular(()=>{r.addEventListener("selectstart",ud,hd)}),e){let t=this._rootElement,n=t.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(s,t),this._initialTransform=t.style.transform||"",this._preview=new Po(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(n,r)),nd(t,!1,pd),this._document.body.appendChild(n.replaceChild(o,t)),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,r){this._parentDragRef&&r.stopPropagation();let e=this.isDragging(),t=Mn(r),n=!t&&r.button!==0,o=this._rootElement,s=ln(r),l=!t&&this._lastTouchEventTime&&this._lastTouchEventTime+qg>Date.now(),d=t?rr(r):nr(r);if(s&&s.draggable&&r.type==="mousedown"&&r.preventDefault(),e||n||l||d)return;if(this._handles.length){let v=o.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=Lo(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,r);let f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(i){nd(this._rootElement,!0,pd),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let r=this._dropContainer,e=r.getItemIndex(this),t=this._getPointerPositionOnPage(i),n=this._getDragDistance(t),o=r._isOverContainer(t.x,t.y);this.ended.next({source:this,distance:n,dropPoint:t,event:i}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:n,dropPoint:t,event:i}),r.drop(this,e,this._initialIndex,this._initialContainer,o,n,t,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:r},{x:e,y:t}){let n=this._initialContainer._getSiblingContainerFromPosition(this,i,r);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,r)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,i,r,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,t),this._dropContainer._sortItem(this,i,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,r):this._applyPreviewTransform(i-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let r=this._preview.getTransitionDuration();return r===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let t=o=>{(!o||ln(o)===this._preview&&o.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",t),e(),clearTimeout(n))},n=setTimeout(t,r*1.5);this._preview.addEventListener("transitionend",t)}))}_createPlaceholderElement(){let i=this._placeholderTemplate,r=i?i.template:null,e;return r?(this._placeholderRef=i.viewContainer.createEmbeddedView(r,i.context),this._placeholderRef.detectChanges(),e=vd(this._placeholderRef,this._document)):e=_d(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(i,r,e){let t=r===this._rootElement?null:r,n=t?t.getBoundingClientRect():i,o=Mn(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition(),l=o.pageX-n.left-s.left,d=o.pageY-n.top-s.top;return{x:n.left-i.left+l,y:n.top-i.top+d}}_getPointerPositionOnPage(i){let r=this._getViewportScrollPosition(),e=Mn(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,t=e.pageX-r.left,n=e.pageY-r.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let s=this._ownerSVGElement.createSVGPoint();return s.x=t,s.y=n,s.matrixTransform(o.inverse())}}return{x:t,y:n}}_getConstrainedPointerPosition(i){let r=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:t}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||r==="x"?t=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||r==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:n,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:d}=this._getPreviewRect(),u=s.top+o,f=s.bottom-(d-o),v=s.left+n,I=s.right-(l-n);e=md(e,v,I),t=md(t,u,f)}return{x:e,y:t}}_updatePointerDirectionDelta(i){let{x:r,y:e}=i,t=this._pointerDirectionDelta,n=this._pointerPositionAtLastDirectionChange,o=Math.abs(r-n.x),s=Math.abs(e-n.y);return o>this._config.pointerDirectionChangeThreshold&&(t.x=r>n.x?1:-1,n.x=r),s>this._config.pointerDirectionChangeThreshold&&(t.y=e>n.y?1:-1,n.y=e),t}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,tn(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,qr),i.removeEventListener("touchstart",this._pointerDown,dd),i.removeEventListener("dragstart",this._nativeDragStart,qr)}_applyRootElementTransform(i,r){let e=Zr(i,r),t=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=t.transform&&t.transform!="none"?t.transform:""),t.transform=Xr(e,this._initialTransform)}_applyPreviewTransform(i,r){let e=this._previewTemplate?.template?void 0:this._initialTransform,t=Zr(i,r);this._preview.setTransform(Xr(t,e))}_getDragDistance(i){let r=this._pickupPositionOnPage;return r?{x:i.x-r.x,y:i.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:r}=this._passiveTransform;if(i===0&&r===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),t=this._boundaryElement.getBoundingClientRect();if(t.width===0&&t.height===0||e.width===0&&e.height===0)return;let n=t.left-e.left,o=e.right-t.right,s=t.top-e.top,l=e.bottom-t.bottom;t.width>e.width?(n>0&&(i+=n),o>0&&(i-=o)):i=0,t.height>e.height?(s>0&&(r+=s),l>0&&(r-=l)):r=0,(i!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:i})}_getDragStartDelay(i){let r=this.dragStartDelay;return typeof r=="number"?r:Mn(i)?r.touch:r?r.mouse:0}_updateOnScroll(i){let r=this._parentPositions.handleScroll(i);if(r){let e=ln(i);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&En(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=ca(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,r){let e=this._previewContainer||"global";if(e==="parent")return i;if(e==="global"){let t=this._document;return r||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}return lt(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(r=>i.target&&(i.target===r||r.contains(i.target)))}};function md(a,i,r){return Math.max(i,Math.min(r,a))}function Mn(a){return a.type[0]==="t"}function ud(a){a.preventDefault()}function Kg(a,i,r){let e=gd(i,a.length-1),t=gd(r,a.length-1);if(e===t)return;let n=a[e],o=t<e?-1:1;for(let s=e;s!==t;s+=o)a[s]=a[s+o];a[t]=n}function gd(a,i){return Math.max(0,Math.min(i,a))}var Ro=class{constructor(i,r){this._element=i,this._dragDropRegistry=r,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,r,e,t){let n=this._itemPositions,o=this._getItemIndexFromPointerPosition(i,r,e,t);if(o===-1&&n.length>0)return null;let s=this.orientation==="horizontal",l=n.findIndex(p=>p.drag===i),d=n[o],u=n[l].clientRect,f=d.clientRect,v=l>o?1:-1,I=this._getItemOffsetPx(u,f,v),E=this._getSiblingOffsetPx(l,n,v),C=n.slice();return Kg(n,l,o),n.forEach((p,g)=>{if(C[g]===p)return;let M=p.drag===i,A=M?I:E,V=M?i.getPlaceholderElement():p.drag.getRootElement();p.offset+=A,s?(V.style.transform=Xr(`translate3d(${Math.round(p.offset)}px, 0, 0)`,p.initialTransform),En(p.clientRect,0,A)):(V.style.transform=Xr(`translate3d(0, ${Math.round(p.offset)}px, 0)`,p.initialTransform),En(p.clientRect,A,0))}),this._previousSwap.overlaps=Ao(f,r,e),this._previousSwap.drag=d.drag,this._previousSwap.delta=s?t.x:t.y,{previousIndex:l,currentIndex:o}}enter(i,r,e,t){let n=t==null||t<0?this._getItemIndexFromPointerPosition(i,r,e):t,o=this._activeDraggables,s=o.indexOf(i),l=i.getPlaceholderElement(),d=o[n];if(d===i&&(d=o[n+1]),!d&&(n==null||n===-1||n<o.length-1)&&this._shouldEnterAsFirstChild(r,e)&&(d=o[0]),s>-1&&o.splice(s,1),d&&!this._dragDropRegistry.isDragging(d)){let u=d.getRootElement();u.parentElement.insertBefore(l,u),o.splice(n,0,i)}else lt(this._element).appendChild(l),o.push(i);l.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{let r=i.getRootElement();if(r){let e=this._itemPositions.find(t=>t.drag===i)?.initialTransform;r.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===i)}updateOnScroll(i,r){this._itemPositions.forEach(({clientRect:e})=>{En(e,i,r)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(r=>{let e=r.getVisibleElement();return{drag:r,offset:0,initialTransform:e.style.transform||"",clientRect:Lo(e)}}).sort((r,e)=>i?r.clientRect.left-e.clientRect.left:r.clientRect.top-e.clientRect.top)}_getItemOffsetPx(i,r,e){let t=this.orientation==="horizontal",n=t?r.left-i.left:r.top-i.top;return e===-1&&(n+=t?r.width-i.width:r.height-i.height),n}_getSiblingOffsetPx(i,r,e){let t=this.orientation==="horizontal",n=r[i].clientRect,o=r[i+e*-1],s=n[t?"width":"height"]*e;if(o){let l=t?"left":"top",d=t?"right":"bottom";e===-1?s-=o.clientRect[l]-n[d]:s+=n[l]-o.clientRect[d]}return s}_shouldEnterAsFirstChild(i,r){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,t=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let o=e[e.length-1].clientRect;return t?i>=o.right:r>=o.bottom}else{let o=e[0].clientRect;return t?i<=o.left:r<=o.top}}_getItemIndexFromPointerPosition(i,r,e,t){let n=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===i)return!1;if(t){let d=n?t.x:t.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return n?r>=Math.floor(l.left)&&r<Math.floor(l.right):e>=Math.floor(l.top)&&e<Math.floor(l.bottom)});return o===-1||!this._sortPredicate(o,i)?-1:o}},fd=.05,bd=.05,Mt=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a}(Mt||{}),et=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a}(et||{}),Fo=class{constructor(i,r,e,t,n){this._dragDropRegistry=r,this._ngZone=t,this._viewportRuler=n,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new N,this.entered=new N,this.exited=new N,this.dropped=new N,this.sorted=new N,this.receivingStarted=new N,this.receivingStopped=new N,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ae.EMPTY,this._verticalScrollDirection=Mt.NONE,this._horizontalScrollDirection=et.NONE,this._stopScrollTimers=new N,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Wo(0,Bo).pipe($(this._stopScrollTimers)).subscribe(()=>{let o=this._scrollNode,s=this.autoScrollStep;this._verticalScrollDirection===Mt.UP?o.scrollBy(0,-s):this._verticalScrollDirection===Mt.DOWN&&o.scrollBy(0,s),this._horizontalScrollDirection===et.LEFT?o.scrollBy(-s,0):this._horizontalScrollDirection===et.RIGHT&&o.scrollBy(s,0)})},this.element=lt(i),this._document=e,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new Jr(e),this._sortStrategy=new Ro(this.element,r),this._sortStrategy.withSortPredicate((o,s)=>this.sortPredicate(o,s,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,r,e,t){this._draggingStarted(),t==null&&this.sortingDisabled&&(t=this._draggables.indexOf(i)),this._sortStrategy.enter(i,r,e,t),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,r,e,t,n,o,s,l={}){this._reset(),this.dropped.next({item:i,currentIndex:r,previousIndex:e,container:this,previousContainer:t,isPointerOverContainer:n,distance:o,dropPoint:s,event:l})}withItems(i){let r=this._draggables;return this._draggables=i,i.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(r.filter(t=>t.isDragging()).every(t=>i.indexOf(t)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){let r=lt(this.element);return this._scrollableElements=i.indexOf(r)===-1?[r,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,r,e,t){if(this.sortingDisabled||!this._domRect||!ad(this._domRect,fd,r,e))return;let n=this._sortStrategy.sort(i,r,e,t);n&&this.sorted.next({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,r){if(this.autoScrollDisabled)return;let e,t=Mt.NONE,n=et.NONE;if(this._parentPositions.positions.forEach((o,s)=>{s===this._document||!o.clientRect||e||ad(o.clientRect,fd,i,r)&&([t,n]=$g(s,o.clientRect,this._sortStrategy.direction,i,r),(t||n)&&(e=s))}),!t&&!n){let{width:o,height:s}=this._viewportRuler.getViewportSize(),l={width:o,height:s,top:0,right:o,bottom:s,left:0};t=yd(l,r),n=wd(l,i),e=window}e&&(t!==this._verticalScrollDirection||n!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=t,this._horizontalScrollDirection=n,this._scrollNode=e,(t||n)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let i=lt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let i=lt(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;let i=lt(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,r){return this._domRect!=null&&Ao(this._domRect,i,r)}_getSiblingContainerFromPosition(i,r,e){return this._siblings.find(t=>t._canReceive(i,r,e))}_canReceive(i,r,e){if(!this._domRect||!Ao(this._domRect,r,e)||!this.enterPredicate(i,this))return!1;let t=this._getShadowRoot().elementFromPoint(r,e);if(!t)return!1;let n=lt(this.element);return t===n||n.contains(t)}_startReceiving(i,r){let e=this._activeSiblings;!e.has(i)&&r.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(e.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:r}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let r=this._parentPositions.handleScroll(i);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let i=ca(lt(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,i))}};function yd(a,i){let{top:r,bottom:e,height:t}=a,n=t*bd;return i>=r-n&&i<=r+n?Mt.UP:i>=e-n&&i<=e+n?Mt.DOWN:Mt.NONE}function wd(a,i){let{left:r,right:e,width:t}=a,n=t*bd;return i>=r-n&&i<=r+n?et.LEFT:i>=e-n&&i<=e+n?et.RIGHT:et.NONE}function $g(a,i,r,e,t){let n=yd(i,t),o=wd(i,e),s=Mt.NONE,l=et.NONE;if(n){let d=a.scrollTop;n===Mt.UP?d>0&&(s=Mt.UP):a.scrollHeight-d>a.clientHeight&&(s=Mt.DOWN)}if(o){let d=a.scrollLeft;r==="rtl"?o===et.RIGHT?d<0&&(l=et.RIGHT):a.scrollWidth+d>a.clientWidth&&(l=et.LEFT):o===et.LEFT?d>0&&(l=et.LEFT):a.scrollWidth-d>a.clientWidth&&(l=et.RIGHT)}return[s,l]}var Kr=ct({passive:!1,capture:!0}),Xg=(()=>{let i=class i{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=n=>n.isDragging(),this.pointerMove=new N,this.pointerUp=new N,this.scroll=new N,this._preventDefaultWhileDragging=n=>{this._activeDragInstances.length>0&&n.preventDefault()},this._persistentTouchmoveListener=n=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Kr)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Kr)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),this._activeDragInstances.length===1)){let n=t.type.startsWith("touch");this._globalListeners.set(n?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Kr}),n||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Kr}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(e){let t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){let t=[this.scroll];return e&&e!==this._document&&t.push(new jo(n=>this._ngZone.runOutsideAngular(()=>{let s=l=>{this._activeDragInstances.length&&n.next(l)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),ke(...t)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}};i.\u0275fac=function(t){return new(t||i)(J(ge),J(Le))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})(),Zg={dragStartThreshold:5,pointerDirectionChangeThreshold:5},$r=new Set,Jg=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=O({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[ee],decls:0,vars:0,template:function(t,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0});let a=i;return a})(),ef=(()=>{let i=class i{constructor(e,t,n,o){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=o,this._appRef=ae(ra),this._environmentInjector=ae(Ko)}createDrag(e,t=Zg){return this._loadResets(),new Oo(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Fo(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}_loadResets(){if(!$r.has(this._appRef)){$r.add(this._appRef);let e=ss(Jg,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{$r.delete(this._appRef),$r.size===0&&e.destroy()})}}};i.\u0275fac=function(t){return new(t||i)(J(Le),J(ge),J(Li),J(Xg))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();var Cd=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({providers:[ef],imports:[dt]});let a=i;return a})();var xd=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({imports:[xe,bt,xe]});let a=i;return a})();var Dd=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i}),i.\u0275inj=re({imports:[bt,Er,Hi]});let a=i;return a})();var Sd=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=oe({type:i,bootstrap:[id]}),i.\u0275inj=re({providers:[qn],imports:[$n,Vl,qs,Ks,il,lr,rl,Hi,td,Cd,xd,al,us,ql,Jl,nc,oc,Er,hi,Dc,ua,ua,Ic,Ir,Dd,ol,zc,at]});let a=i;return a})();fs().bootstrapModule(Sd).catch(a=>console.error(a));
